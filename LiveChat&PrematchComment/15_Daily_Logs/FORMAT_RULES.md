# 工作日誌格式規則

本文檔定義工作日誌（Daily Log）的標準格式規範，確保所有工作日誌文件保持一致性和可讀性。

## 📋 基本結構

工作日誌文件應遵循以下結構：

```markdown
# 工作日誌 - YYYY-MM-DD

## 📋 今日計劃
## ✅ 完成項目
## 🚧 進行中項目
## 🐛 遇到的問題
## 🤖 與 Cursor 的對話統整
## 💡 學習與反思
## 📊 時間統計
## 🔄 明日計劃
## 📝 其他備註
## 📄 相關文件改動記錄
```

## ✅ 完成項目格式

### 標準格式

每個完成項目應使用以下格式：

```markdown
### TDD-XXX — [標題] [JIRA-ID]

- **時間**: ~X 分鐘/小時
- **檔案**: `路徑/檔案名.swift`
- **測試**: ✅ 通過 / ❌ 失敗 / ⚠️ 待補
- **備註**: [任何額外的說明]

---
```

### 格式規則

1. **標題格式**: 使用 `###` 三級標題，格式為 `TDD-XXX — [標題] [JIRA-ID]`
   - 使用 `—`（em dash）而非 `:` 或 `-`
   - JIRA-ID 放在方括號中

2. **項目分隔**: 每個項目之間使用 `---` 分隔線

3. **時間格式**: 
   - 使用 `~X 分鐘` 或 `~X 小時`
   - 約略時間使用 `~` 符號

4. **檔案路徑**: 
   - 使用反引號包裹
   - 使用相對路徑或完整路徑

5. **測試狀態**: 
   - ✅ 通過
   - ❌ 失敗
   - ⚠️ 待補
   - ✅ 無 linter 錯誤

## 🤖 與 Cursor 的對話統整格式

### 重要決策格式

每個決策應包含以下欄位：

```markdown
#### 1. [決策類別]
- **User Prompt**: "[用戶提出的問題或需求，轉換成清晰的 prompt]"
- **決策內容**: [決策的詳細描述]
- **相關檔案**: [相關的檔案路徑]

---
```

### User Prompt 規則

1. **必須包含**: 每個決策和問題解決記錄都必須包含 `User Prompt` 欄位

2. **Prompt 轉換原則**:
   - 將用戶的原始問題轉換成清晰、可重用的 prompt
   - 保留問題的核心意圖
   - 使用完整的句子，避免過於簡略
   - 如果用戶沒有明確提問，記錄為 "（無，自動檢查發現）" 或 "（自動執行）"

3. **範例**:
   - ❌ 不好: "Client 和 API"
   - ✅ 好: "Client 和 API 之間有 protocol layer 嗎？你的設計有符合 TCA 文檔嗎？"
   - ❌ 不好: "分成兩個 commits"
   - ✅ 好: "分成兩個 commits，並讓 commit 對應到各自的 ticket 編號"

### 問題解決記錄格式

```markdown
#### 問題 1: [問題標題]
- **User Prompt**: "[用戶提出的問題，轉換成清晰的 prompt]"
- **問題**: [問題的詳細描述]
- **原因**: [問題的根本原因]
- **解決方案**: [如何解決的]
- **時間**: ~X 分鐘
- **檔案**: [相關的檔案]

---
```

## 🚧 進行中項目格式

如果沒有進行中的項目，使用：

```markdown
## 🚧 進行中項目

無
```

## 🐛 遇到的問題格式

### 標準格式

```markdown
### 問題 1: [問題標題]

- **問題**: [問題的詳細描述]
- **原因**: [問題的根本原因]
- **解決方案**: [如何解決的]
- **時間**: ~X 分鐘
- **檔案**: [相關的檔案]
```

### 格式規則

1. 使用 `###` 三級標題
2. 每個問題之間使用 `---` 分隔
3. 如果沒有問題，可以省略此章節或寫「無」

## 📊 時間統計格式

### 標準格式

```markdown
## 📊 時間統計

### 開發時間

- **總計**: ~X 小時
- **細項**: 
  - [項目 1]: X 分鐘
  - [項目 2]: X 分鐘

### 測試時間

- **總計**: ~X 小時
- **說明**: [測試相關說明]

### 文件更新

- **總計**: ~X 小時
- **細項**: 
  - [項目 1]: X 分鐘
  - [項目 2]: X 分鐘

### 問題解決

- **總計**: ~X 分鐘
- **細項**:
  - [問題 1]: X 分鐘
  - [問題 2]: X 分鐘

### 與 Cursor 協作時間

- **總計**: ~X 小時
- **說明**: [協作相關說明]

### 會議/討論

- **總計**: X 小時

### 總計

- **總計**: ~X 小時
```

## 📄 相關文件改動記錄格式

### Git Commits 格式

```markdown
#### 1. [Commit 標題]
- **Commit**: `commit_hash`
- **訊息**: `commit message`
- **時間**: YYYY-MM-DD
- **改動文件**:
  - `路徑/檔案名.swift` (新增/修改/刪除)
```

### 文件統計格式

```markdown
### 文件統計

- **總 Commits**: X
- **新增文件**: X 個
  - `路徑/檔案名.swift` (X lines)
- **總程式碼行數**: ~X lines
- **測試程式碼**: X lines
```

## 🎨 格式一致性規則

### 1. 標題層級

- 一級標題 (`#`): 文件標題
- 二級標題 (`##`): 主要章節
- 三級標題 (`###`): 完成項目、問題等
- 四級標題 (`####`): 決策、對話等子項目

### 2. 列表格式

- 使用 `-` 而非 `*` 或 `+`
- 多層列表使用 2 個空格縮進

### 3. 強調格式

- **粗體**: 使用 `**文字**` 標記重要欄位名稱
- `程式碼`: 使用反引號包裹檔案路徑、commit hash、程式碼片段

### 4. 分隔線

- 項目之間使用 `---` 分隔
- 不使用 `***` 或 `___`

### 5. Emoji 使用

- 章節標題使用對應的 emoji
- 保持一致的 emoji 風格

## 📝 範例

參考 `2025-12-01.md` 和 `2025-12-02.md` 作為格式範例。

## 🔄 更新記錄

| 日期 | 更新內容 | 更新人 |
|------|---------|--------|
| 2025-12-02 | 建立格式規則文件，加入 User Prompt 欄位規範 | - |

