# 20 工作日開發計劃

本計劃針對**單一 Senior iOS Engineer + AI 輔助**，目標在 **20 個工作日**內完成所有 26 張 Ticket。

---

## 計劃前提

- **工程師**：1 位 Senior iOS Engineer
- **工具**：AI 輔助開發（GitHub Copilot、Cursor、ChatGPT 等）
- **目標時程**：20 個工作日
- **原始總估時**：62 天（標準）/ 43 天（最嚴厲）
- **時間壓縮比例**：20 / 62 = **32.3%**（需要極度優化）

---

## 時間分配策略

### 1. 並行開發策略

雖然只有一位工程師，但可以採用以下策略：
- **Domain Model**：可以快速並行完成（AI 輔助生成 boilerplate code）
- **API 定義**：可以快速完成（AI 輔助生成 DTO）
- **Client/Repository**：可以部分並行（不同 Feature 的 Client/Repository）
- **UseCase/Feature/View**：按 Feature 分組，可以部分並行

### 2. AI 輔助優化

在 20 個工作日的緊迫時程下，假設：
- AI 輔助效果提升至 **40-60%**（相較於原本的 17.5-40%）
- 減少 Code Review 時間（快速迭代）
- 減少測試覆蓋率要求（先完成功能，後續補測試）

### 3. 優先級調整

- **P0 優先級**：必須完成的核心功能
- **P1 優先級**：可以延後或簡化

---

## 詳細開發計劃

### Week 1（工作日 1-5：2024-11-27 ~ 2024-12-03）

#### Day 1（2024-11-27 週三）：Domain Model Layer - Part 1

| Ticket ID | 標題 | 原始估時 | 20 日計劃估時 | 開發日期 | 說明 |
|-----------|------|---------|--------------|---------|------|
| TDD-001 | Comment Entity | 0.3 天 | **0.2 天** | 2024-11-27 | AI 快速生成 |
| TDD-002 | CommentMeta Entity | 0.3 天 | **0.2 天** | 2024-11-27 | AI 快速生成 |
| TDD-003 | UserInfo Entity | 0.3 天 | **0.2 天** | 2024-11-27 | AI 快速生成 |

#### Day 2（2024-11-28 週四）：Domain Model Layer - Part 2

| Ticket ID | 標題 | 原始估時 | 20 日計劃估時 | 開發日期 | 說明 |
|-----------|------|---------|--------------|---------|------|
| TDD-004 | Message Entity | 0.3 天 | **0.2 天** | 2024-11-28 | AI 快速生成 |
| TDD-005 | ChatroomInfo Entity | 0.3 天 | **0.2 天** | 2024-11-28 | AI 快速生成 |
| TDD-006 | Value Objects | 1 天 | **0.8 天** | 2024-11-28 | AI 快速生成 |
| **小計** | **Domain Model** | **3 天** | **1.8 天** | - | **實際分配：2 天** |

#### Day 3（2024-11-29 週五）：API Layer

| Ticket ID | 標題 | 原始估時 | 20 日計劃估時 | 開發日期 | 說明 |
|-----------|------|---------|--------------|---------|------|
| TDD-010 | PrematchCommentAPI | 1 天 | **0.5 天** | 2024-11-29 | AI 生成 DTO |
| TDD-011 | ChatAPI | 2 天 | **0.5 天** | 2024-11-29 | AI 生成 DTO + WebSocket |
| **小計** | **API** | **3 天** | **1 天** | - | **實際分配：1 天** |

#### Day 4（2024-12-02 週一）：Client Layer - Part 1

| Ticket ID | 標題 | 原始估時 | 20 日計劃估時 | 開發日期 | 說明 |
|-----------|------|---------|--------------|---------|------|
| TDD-020 | PrematchCommentClient | 2 天 | **0.8 天** | 2024-12-02 | AI 生成 HTTP 請求 |
| TDD-021 | LiveChatClient | 1 天 | **0.4 天** | 2024-12-02 | AI 生成 HTTP 請求 |

#### Day 5（2024-12-03 週二）：Client Layer - Part 2

| Ticket ID | 標題 | 原始估時 | 20 日計劃估時 | 開發日期 | 說明 |
|-----------|------|---------|--------------|---------|------|
| TDD-022 | ChatWebSocketClient | 5 天 | **0.8 天** | 2024-12-03 | AI 生成 WebSocket 基礎，人工調整重連邏輯 |
| **小計** | **Client** | **8 天** | **2 天** | - | **實際分配：2 天** |

---

### Week 2（工作日 6-10：2024-12-04 ~ 2024-12-10）

#### Day 6（2024-12-04 週三）：Repository Layer - Part 1

| Ticket ID | 標題 | 原始估時 | 20 日計劃估時 | 開發日期 | 說明 |
|-----------|------|---------|--------------|---------|------|
| TDD-030 | PrematchCommentRepository | 2 天 | **0.8 天** | 2024-12-04 | AI 生成 DTO Mapping |

#### Day 7（2024-12-05 週四）：Repository Layer - Part 2

| Ticket ID | 標題 | 原始估時 | 20 日計劃估時 | 開發日期 | 說明 |
|-----------|------|---------|--------------|---------|------|
| TDD-031 | LiveChatRepository | 3 天 | **1.2 天** | 2024-12-05 | AI 生成基礎，人工調整複雜邏輯 |
| **小計** | **Repository** | **5 天** | **2 天** | - | **實際分配：2 天** |

#### Day 8（2024-12-06 週五）：UseCase Layer - PrematchComment - Part 1

| Ticket ID | 標題 | 原始估時 | 20 日計劃估時 | 開發日期 | 說明 |
|-----------|------|---------|--------------|---------|------|
| TDD-040 | ReloadCommentListUseCase | 2 天 | **0.8 天** | 2024-12-06 | AI 生成基礎結構 |

#### Day 9（2024-12-09 週一）：UseCase Layer - PrematchComment - Part 2

| Ticket ID | 標題 | 原始估時 | 20 日計劃估時 | 開發日期 | 說明 |
|-----------|------|---------|--------------|---------|------|
| TDD-041 | PublishCommentUseCase | 5 天 | **1.2 天** | 2024-12-09 | AI 生成基礎，人工調整整合邏輯 |

#### Day 10（2024-12-10 週二）：UseCase Layer - PrematchComment - Part 3

| Ticket ID | 標題 | 原始估時 | 20 日計劃估時 | 開發日期 | 說明 |
|-----------|------|---------|--------------|---------|------|
| TDD-042 | ToggleLikeUseCase | 2 天 | **0.5 天** | 2024-12-10 | AI 生成基礎結構 |
| TDD-043 | LoadRepliesUseCase | 2 天 | **0.5 天** | 2024-12-10 | AI 生成基礎結構 |
| **小計** | **PrematchComment UseCase** | **11 天** | **3 天** | - | **實際分配：3 天** |

---

### Week 3（工作日 11-15：2024-12-11 ~ 2024-12-17）

#### Day 11（2024-12-11 週三）：UseCase Layer - LiveChat - Part 1

| Ticket ID | 標題 | 原始估時 | 20 日計劃估時 | 開發日期 | 說明 |
|-----------|------|---------|--------------|---------|------|
| TDD-044 | NavigateToProfileUseCase | 1 天 | **0.2 天** | 2024-12-11 | AI 生成基礎結構（P1，可簡化） |
| TDD-045 | SendChatMessageUseCase | 5 天 | **1.2 天** | 2024-12-11 | AI 生成基礎，人工調整整合邏輯 |

#### Day 12（2024-12-12 週四）：UseCase Layer - LiveChat - Part 2

| Ticket ID | 標題 | 原始估時 | 20 日計劃估時 | 開發日期 | 說明 |
|-----------|------|---------|--------------|---------|------|
| TDD-046 | JoinChatroomUseCase | 5 天 | **1.2 天** | 2024-12-12 | AI 生成基礎，人工調整合併邏輯 |

#### Day 13（2024-12-13 週五）：UseCase Layer - LiveChat - Part 3

| Ticket ID | 標題 | 原始估時 | 20 日計劃估時 | 開發日期 | 說明 |
|-----------|------|---------|--------------|---------|------|
| TDD-047 | LeaveChatroomUseCase | 2 天 | **0.2 天** | 2024-12-13 | AI 生成基礎結構 |
| TDD-048 | BlockUserUseCase | 1 天 | **0.2 天** | 2024-12-13 | AI 生成基礎結構（P1，可簡化） |
| **小計** | **LiveChat UseCase** | **14 天** | **3 天** | - | **實際分配：3 天** |

#### Day 14（2024-12-16 週一）：Feature Layer

| Ticket ID | 標題 | 原始估時 | 20 日計劃估時 | 開發日期 | 說明 |
|-----------|------|---------|--------------|---------|------|
| TDD-050 | PrematchCommentFeature | 3 天 | **0.5 天** | 2024-12-16 | AI 生成 TCA Reducer 結構 |
| TDD-051 | LiveChatFeature | 5 天 | **0.5 天** | 2024-12-16 | AI 生成 TCA Reducer 結構 |
| **小計** | **Feature** | **8 天** | **1 天** | - | **實際分配：1 天** |

#### Day 15（2024-12-17 週二）：View Layer - PrematchCommentView

| Ticket ID | 標題 | 原始估時 | 20 日計劃估時 | 開發日期 | 說明 |
|-----------|------|---------|--------------|---------|------|
| TDD-060 | PrematchCommentView | 5 天 | **1 天** | 2024-12-17 | AI 生成 UI 結構，人工調整互動邏輯 |
| **小計** | **PrematchComment View** | **5 天** | **1 天** | - | **實際分配：1 天** |

---

### Week 4（工作日 16-20：2024-12-18 ~ 2024-12-24）

#### Day 16（2024-12-18 週三）：View Layer - LiveDetailView - Part 1

| Ticket ID | 標題 | 原始估時 | 20 日計劃估時 | 開發日期 | 說明 |
|-----------|------|---------|--------------|---------|------|
| TDD-061 | LiveDetailView | 5 天 | **2 天** | 2024-12-18 | AI 生成 UI 結構，人工調整 WebSocket 整合 |

#### Day 17（2024-12-19 週四）：View Layer - LiveDetailView - Part 2

| Ticket ID | 標題 | 原始估時 | 20 日計劃估時 | 開發日期 | 說明 |
|-----------|------|---------|--------------|---------|------|
| TDD-061 | LiveDetailView（續） | - | - | 2024-12-19 | 繼續完成 WebSocket 整合與測試 |
| **小計** | **LiveChat View** | **5 天** | **2 天** | - | **實際分配：2 天** |

#### Day 18（2024-12-20 週五）：整合測試與 Bug 修復

- 整合測試
- Bug 修復
- Code Review 調整

#### Day 19（2024-12-23 週一）：優化與調整

- 性能優化
- UI/UX 調整
- 邊緣情況處理

#### Day 20（2024-12-24 週二）：最終驗收

- 最終測試
- 文檔更新
- 交付準備

---

## 總時間分配表

| 階段 | 工作日 | 原始估時 | 20 日計劃估時 | 時間壓縮 |
|------|--------|---------|--------------|---------|
| **Week 1** | 1-5 | 14 天 | **5 天** | 64.3% |
| **Week 2** | 6-10 | 16 天 | **5 天** | 68.8% |
| **Week 3** | 11-15 | 26 天 | **5 天** | 80.8% |
| **Week 4** | 16-20 | 6 天 | **5 天** | 16.7% |
| **總計** | **20 天** | **62 天** | **20 天** | **67.7%** |

---

## 風險與注意事項

### 高風險項目

1. **TDD-022 ChatWebSocketClient**（0.8 天）
   - 原始估時：5 天
   - 風險：WebSocket 重連邏輯複雜，可能需要額外時間
   - 建議：優先完成基礎功能，重連邏輯可以簡化

2. **TDD-031 LiveChatRepository**（1.2 天）
   - 原始估時：3 天
   - 風險：複雜的資料合併邏輯
   - 建議：先完成基本功能，複雜邏輯後續優化

3. **TDD-041 PublishCommentUseCase**（1.2 天）
   - 原始估時：5 天
   - 風險：需要整合多個 Shared Feature
   - 建議：先完成核心功能，整合邏輯可以簡化

4. **TDD-045 SendChatMessageUseCase**（1.2 天）
   - 原始估時：5 天
   - 風險：需要整合多個 Shared Feature
   - 建議：先完成核心功能，整合邏輯可以簡化

5. **TDD-046 JoinChatroomUseCase**（1.2 天）
   - 原始估時：5 天
   - 風險：複雜的訊息合併邏輯
   - 建議：先完成基本功能，合併邏輯可以簡化

### 優化建議

1. **降低測試覆蓋率要求**
   - 原始要求：Unit Test 覆蓋率 ≥ 80-90%
   - 20 日計劃：先完成功能，測試覆蓋率 ≥ 60%，後續補齊

2. **簡化複雜邏輯**
   - 先完成核心功能
   - 複雜的邊緣情況可以後續優化
   - 複雜的錯誤處理可以簡化

3. **優先完成 P0 功能**
   - P1 功能（如 TDD-044、TDD-048）可以延後或簡化

4. **充分利用 AI 工具**
   - 使用 AI 生成 boilerplate code
   - 使用 AI 生成測試用例框架
   - 使用 AI 協助 Code Review

---

## 每日工作檢查清單

### Week 1 檢查清單

- [ ] Day 1-2：完成所有 Domain Model（6 個 Ticket）
- [ ] Day 3：完成所有 API 定義（2 個 Ticket）
- [ ] Day 4-5：完成所有 Client（3 個 Ticket）

### Week 2 檢查清單

- [ ] Day 6-7：完成所有 Repository（2 個 Ticket）
- [ ] Day 8-10：完成 PrematchComment UseCase（4 個 Ticket）

### Week 3 檢查清單

- [ ] Day 11-13：完成 LiveChat UseCase（4 個 Ticket）
- [ ] Day 14：完成所有 Feature（2 個 Ticket）
- [ ] Day 15：完成 PrematchCommentView（1 個 Ticket）

### Week 4 檢查清單

- [ ] Day 16-17：完成 LiveDetailView（1 個 Ticket）
- [ ] Day 18：整合測試與 Bug 修復
- [ ] Day 19：優化與調整
- [ ] Day 20：最終驗收

---

## 應急計劃

如果進度落後，建議調整策略：

1. **延後 P1 功能**
   - TDD-044 NavigateToProfileUseCase（0.3 天）
   - TDD-048 BlockUserUseCase（可延後）

2. **簡化複雜功能**
   - WebSocket 重連邏輯簡化
   - 複雜的資料合併邏輯簡化
   - 複雜的錯誤處理簡化

3. **降低測試要求**
   - 先完成功能，測試後續補齊

4. **請求支援**
   - 如果進度嚴重落後，考慮請求額外支援

---

## 總結

本計劃將原本 **62 天**的開發時程壓縮至 **20 個工作日**，時間壓縮比例為 **67.7%**。

**關鍵成功因素**：
1. 充分利用 AI 輔助工具
2. 優先完成核心功能
3. 簡化複雜邏輯
4. 降低測試覆蓋率要求
5. 嚴格按照計劃執行

**風險**：
- 時間極度緊迫，可能影響代碼品質
- 複雜功能可能需要額外時間
- 測試覆蓋率可能不足

**建議**：
- 如果可能，建議延長至 **25-30 個工作日**，以確保代碼品質
- 或者考慮增加工程師數量，以並行開發

---

**最後更新**：2024-11-26

**開發週期**：2024-11-27（週三）~ 2024-12-24（週二），共 20 個工作日

