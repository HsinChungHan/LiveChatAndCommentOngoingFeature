{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"LiveChat &amp; PrematchComment TDD","text":"<p>\u672c\u76ee\u9304\u5305\u542b LiveChat \u548c PrematchComment Feature \u7684\u5b8c\u6574 TDD\uff08Technical Design Document\uff09\u6587\u4ef6\u3002</p>"},{"location":"#_1","title":"\u672c\u5730\u9810\u89bd","text":"<p>\u4f7f\u7528 MkDocs \u672c\u5730\u9810\u89bd\uff1a</p> <pre><code># \u5b89\u88dd\u4f9d\u8cf4\npip install -r ../../requirements.txt\n\n# \u555f\u52d5\u672c\u5730\u4f3a\u670d\u5668\nmkdocs serve\n</code></pre> <p>\u7136\u5f8c\u5728\u700f\u89bd\u5668\u4e2d\u958b\u555f <code>http://127.0.0.1:8000</code> \u5373\u53ef\u9810\u89bd\u3002</p>"},{"location":"#_2","title":"\u90e8\u7f72","text":"<p>\u672c TDD \u6587\u4ef6\u4f7f\u7528 MkDocs \u751f\u6210\uff0c\u4e26\u53ef\u90e8\u7f72\u5230 GitHub Pages\u3002</p>"},{"location":"#_3","title":"\u81ea\u52d5\u90e8\u7f72","text":"<p>\u7576\u63a8\u9001\u5230 <code>main</code> \u5206\u652f\u6642\uff0cGitHub Actions \u6703\u81ea\u52d5\u90e8\u7f72\u5230 GitHub Pages\u3002</p>"},{"location":"#_4","title":"\u624b\u52d5\u90e8\u7f72","text":"<pre><code># \u5efa\u7f6e\u7db2\u7ad9\nmkdocs build\n\n# \u90e8\u7f72\u5230 GitHub Pages\nmkdocs gh-deploy\n</code></pre>"},{"location":"#_5","title":"\u6587\u4ef6\u7d50\u69cb","text":"<ul> <li><code>00_Overview/</code> - \u6574\u9ad4\u6982\u8ff0</li> <li><code>01_Integrated Service-Level Sequence Diagram/</code> - \u6574\u5408\u670d\u52d9\u5c64\u7d1a\u5e8f\u5217\u5716</li> <li><code>02_Architecture/</code> - \u67b6\u69cb\u5716</li> <li><code>03_Module Responsibility/</code> - \u6a21\u7d44\u8077\u8cac\u8aaa\u660e</li> <li><code>04_Domain Model/</code> - Domain Model \u5b9a\u7fa9</li> <li><code>05. Module Sequence Diagram\uff08\u6a21\u7d44\u5e8f\u5217\u5716\uff09/</code> - \u6a21\u7d44\u5e8f\u5217\u5716</li> <li><code>06_Feature State &amp; Action (TCA)/</code> - Feature State \u548c Action \u5b9a\u7fa9</li> <li><code>07_UseCase Input &amp; Output Model/</code> - UseCase Input/Output Model</li> <li><code>08_API Spec &amp; Mapping/</code> - API \u898f\u683c\u548c Mapping</li> <li><code>09_Error Handling/</code> - \u932f\u8aa4\u8655\u7406\u7b56\u7565</li> <li><code>10_Test Scenarios/</code> - \u6e2c\u8a66\u5834\u666f</li> <li><code>11_Risks &amp; Questions/</code> - \u98a8\u96aa\u548c\u554f\u984c</li> <li><code>12_Tickets/</code> - \u958b\u767c Tickets</li> <li><code>13_Implementation_Status/</code> - \u5be6\u4f5c\u72c0\u614b\u8ffd\u8e64\uff08\u78ba\u4fdd TDD \u8207 codebase \u540c\u6b65\uff09</li> <li><code>14_Changelog/</code> - \u8b8a\u66f4\u65e5\u8a8c\uff08\u8a18\u9304\u6bcf\u65e5 code change\uff09</li> <li><code>15_Daily_Logs/</code> - \u5de5\u4f5c\u65e5\u8a8c\uff08\u8a18\u9304\u6bcf\u65e5\u958b\u767c\u5de5\u4f5c\uff09</li> <li><code>16_Cursor_Workflow/</code> - Cursor \u5de5\u4f5c\u6d41\u7a0b\uff08\u8207 Cursor AI \u5354\u4f5c\u7684\u5b8c\u6574\u6d41\u7a0b\uff09</li> </ul>"},{"location":"#_6","title":"\u958b\u767c\u5de5\u4f5c\u6d41\u7a0b","text":"<p>\u70ba\u4e86\u78ba\u4fdd TDD \u8207 codebase \u4fdd\u6301\u540c\u6b65\uff0c\u5efa\u8b70\u4f7f\u7528\u4ee5\u4e0b\u5de5\u4f5c\u6d41\u7a0b\uff1a</p>"},{"location":"#1-13_implementation_status","title":"1. \u5be6\u4f5c\u72c0\u614b\u8ffd\u8e64 (<code>13_Implementation_Status/</code>)","text":"<ul> <li>\u8ffd\u8e64\u6bcf\u500b TDD Ticket \u7684\u5be6\u4f5c\u72c0\u614b</li> <li>\u8a18\u9304\u5be6\u4f5c\u6a94\u6848\u8def\u5f91\u548c\u5b8c\u6210\u65e5\u671f</li> <li>\u5b9a\u671f\u6aa2\u67e5\u5be6\u4f5c\u8207 TDD \u7684\u4e00\u81f4\u6027</li> </ul>"},{"location":"#2-14_changelog","title":"2. \u8b8a\u66f4\u65e5\u8a8c (<code>14_Changelog/</code>)","text":"<ul> <li>\u8a18\u9304\u6bcf\u65e5\u7684 code change \u548c\u65b0\u589e\u5167\u5bb9</li> <li>\u5c0d\u61c9\u5230\u76f8\u95dc\u7684 TDD ticket</li> <li>\u8ffd\u8e64 Bug \u4fee\u5fa9\u3001\u91cd\u69cb\u3001\u6587\u4ef6\u66f4\u65b0\u7b49</li> </ul>"},{"location":"#3-15_daily_logs","title":"3. \u5de5\u4f5c\u65e5\u8a8c (<code>15_Daily_Logs/</code>)","text":"<ul> <li>\u8a18\u9304\u6bcf\u65e5\u7684\u958b\u767c\u5de5\u4f5c</li> <li>\u5305\u542b\u8a08\u5283\u3001\u5b8c\u6210\u9805\u76ee\u3001\u9047\u5230\u7684\u554f\u984c\u3001\u5b78\u7fd2\u53cd\u601d\u7b49</li> <li>\u4f7f\u7528\u8173\u672c\u5feb\u901f\u5efa\u7acb\uff1a<code>./scripts/create_daily_log.sh [\u65e5\u671f]</code></li> </ul>"},{"location":"#4-cursor-16_cursor_workflow","title":"4. Cursor \u5de5\u4f5c\u6d41\u7a0b (<code>16_Cursor_Workflow/</code>)","text":"<ul> <li>\u6839\u64da\u65e5\u671f\u81ea\u52d5\u751f\u6210\u7576\u5929\u5de5\u4f5c\u8a08\u5283\uff08\u5305\u542b Jira parent/child tickets\uff09</li> <li>\u8a18\u9304\u8207 Cursor \u7684\u91cd\u8981\u5c0d\u8a71</li> <li>\u6bcf\u5929\u7d50\u675f\u6642\u7d71\u6574\u5de5\u4f5c\uff08\u5305\u542b\u8207 Cursor \u7684\u5c0d\u8a71\uff09</li> <li>\u8a73\u7d30\u5de5\u4f5c\u6d41\u7a0b\u8acb\u53c3\u8003\uff1a<code>16_Cursor_Workflow/WORKFLOW_GUIDE.md</code></li> </ul>"},{"location":"#cursor","title":"\u8207 Cursor \u5354\u4f5c","text":""},{"location":"#_7","title":"\u6bcf\u5929\u958b\u59cb\u6642","text":"<pre><code># \u751f\u6210\u4eca\u5929\u7684\u5de5\u4f5c\u8a08\u5283\uff08\u81ea\u52d5\u627e\u51fa\u5c0d\u61c9\u7684 Jira tickets\uff09\n./scripts/generate_daily_plan.sh\n\n# \u5efa\u7acb\u5de5\u4f5c\u65e5\u8a8c\n./scripts/create_daily_log.sh\n</code></pre> <p>\u7136\u5f8c\u8207 Cursor \u8aaa\uff1a <pre><code>\u6839\u64da\u4eca\u5929\u7684\u5de5\u4f5c\u8a08\u5283\uff0816_Cursor_Workflow/daily_plans/YYYY-MM-DD.md\uff09\uff0c\n\u8acb\u5354\u52a9\u6211\uff1a\n1. \u8b80\u53d6\u76f8\u95dc\u7684 TDD \u6587\u4ef6\n2. \u6aa2\u67e5\u73fe\u6709\u7684 codebase \u7d50\u69cb\n3. \u63d0\u4f9b\u5be6\u4f5c\u5efa\u8b70\u548c\u6ce8\u610f\u4e8b\u9805\n4. \u6aa2\u67e5\u4f9d\u8cf4\u95dc\u4fc2\u662f\u5426\u6eff\u8db3\n</code></pre></p>"},{"location":"#_8","title":"\u6bcf\u5929\u7d50\u675f\u6642","text":"<pre><code># \u7d71\u6574\u4eca\u5929\u7684\u5de5\u4f5c\uff08\u5305\u542b\u8207 Cursor \u7684\u5c0d\u8a71\uff09\n./scripts/summarize_daily_work.sh\n</code></pre> <p>\u7136\u5f8c\u8207 Cursor \u8aaa\uff1a <pre><code>\u8acb\u5e6b\u6211\u7d71\u6574\u4eca\u5929\u7684\u5de5\u4f5c\uff1a\n1. \u6839\u64da\u4eca\u5929\u7684 git commits \u751f\u6210\u8b8a\u66f4\u8a18\u9304\n2. \u66f4\u65b0 implementation_status.md\n3. \u66f4\u65b0 CHANGELOG.md\n4. \u6aa2\u67e5\u5be6\u4f5c\u8207 TDD \u7684\u4e00\u81f4\u6027\n5. \u7d71\u6574\u4eca\u5929\u8207\u4f60\u7684\u5c0d\u8a71\uff0c\u63d0\u53d6\u91cd\u8981\u6c7a\u7b56\u548c\u5b78\u7fd2\u8981\u9ede\n6. \u751f\u6210\u660e\u5929\u7684\u8a08\u5283\u5efa\u8b70\n</code></pre></p>"},{"location":"00_Agenda/","title":"\u6703\u8b70\u8b70\u7a0b","text":"<p>\u672c\u6587\u6a94\u8a18\u9304\u672c\u6b21\u6703\u8b70\u7684\u8a0e\u8ad6\u8b70\u7a0b\u3002</p>"},{"location":"00_Agenda/#_2","title":"\ud83d\udccb \u8b70\u7a0b\u5167\u5bb9","text":""},{"location":"00_Agenda/#1-feature-architecture-section","title":"1. \u8a0e\u8ad6 Feature \u7684 Architecture Section","text":"<p>\u8a0e\u8ad6\u91cd\u9ede\uff1a</p> <ul> <li>Clean Architecture \u5206\u5c64\u67b6\u69cb</li> <li>Feature \u67b6\u69cb\u5716</li> <li>Shared Modules \u67b6\u69cb</li> <li>External Package \u6574\u5408\u67b6\u69cb</li> </ul> <p>\u76f8\u95dc\u6587\u4ef6\uff1a</p> <ul> <li>Architecture Section</li> </ul>"},{"location":"00_Agenda/#2-feature-module-sequence-diagram-section","title":"2. \u8a0e\u8ad6 Feature \u7684 Module Sequence Diagram Section","text":"<p>\u8a0e\u8ad6\u91cd\u9ede\uff1a</p> <ul> <li>\u6a21\u7d44\u4e92\u52d5\u5e8f\u5217\u5716</li> <li>\u6309\u529f\u80fd\u5206\u985e\u7d44\u7e54\uff08Data Initialization\u3001Data Interaction\u3001Structural Navigation\uff09</li> </ul> <p>\u76f8\u95dc\u6587\u4ef6\uff1a</p> <ul> <li>Module Sequence Diagram Section - LiveChat</li> <li>Module Sequence Diagram Section - PrematchComment</li> </ul>"},{"location":"00_Agenda/#2-1-event-status","title":"2-1. \u7576 event status \u767c\u751f\u8b8a\u5316","text":"<p>\u8a0e\u8ad6\u91cd\u9ede\uff1a</p> <ul> <li>Event Status \u8a02\u95b1\u8207\u901a\u77e5\u6d41\u7a0b</li> <li>WebSocket \u8a02\u95b1\u6a5f\u5236</li> <li>\u8de8 Package \u901a\u8a0a</li> </ul> <p>\u76f8\u95dc\u6587\u4ef6\uff1a</p> <ul> <li>Event Status \u8a02\u95b1\u8207\u901a\u77e5\u6d41\u7a0b</li> </ul>"},{"location":"00_Agenda/#2-2-nickname-avatar-user-profile-page","title":"2-2. \u78ba\u8a8d\u7528\u6236\u662f\u5426\u767b\u5165\u3001\u7528\u6236\u5275\u5efa nickName\u3001\u7528\u6236\u9ede\u64ca avatar \u5f8c\u8df3\u8f49\u5230 User Profile Page","text":"<p>\u8a0e\u8ad6\u91cd\u9ede\uff1a</p> <ul> <li>\u767b\u5165\u6aa2\u67e5\u6d41\u7a0b</li> <li>Nickname \u5efa\u7acb\u6d41\u7a0b</li> <li>\u7528\u6236\u982d\u50cf\u9ede\u64ca\u8df3\u8f49\u6d41\u7a0b</li> </ul> <p>\u76f8\u95dc\u6587\u4ef6\uff1a</p> <ul> <li>\u804a\u5929\u5ba4\u8a0a\u606f\u50b3\u905e\u8207\u6efe\u52d5\u52a0\u8f09\uff08\u767b\u5165\u8207 nickname \u6aa2\u67e5\uff09</li> <li>\u8df3\u8f49\u500b\u4eba\u4e3b\u9801\u6d41\u7a0b - LiveChat</li> <li>\u8df3\u8f49\u500b\u4eba\u4e3b\u9801\u6d41\u7a0b - PrematchComment</li> </ul>"},{"location":"00_Agenda/#2-3-in-site-message-match-detail-page-prematch-comment-page","title":"2-3. \u7528\u6236\u5f9e In-Site Message \u8df3\u8f49\u5230 Match Detail Page \u5f8c\u958b\u555f Prematch Comment Page","text":"<p>\u8a0e\u8ad6\u91cd\u9ede\uff1a</p> <ul> <li>In-Site Message \u8df3\u8f49\u6d41\u7a0b</li> <li>Prematch Comment Page \u521d\u59cb\u5316\u6d41\u7a0b</li> </ul> <p>\u76f8\u95dc\u6587\u4ef6\uff1a</p> <ul> <li>User \u5f9e In-Site message \u8df3\u8f49\u5230 Prematch Comment Page</li> </ul>"},{"location":"00_Agenda/#3-tdd","title":"3. \u5feb\u901f\u4ecb\u7d39 TDD \u751f\u6210\u7684\u5de5\u4f5c\u6d41\u7a0b","text":"<p>\u4ecb\u7d39\u91cd\u9ede\uff1a</p> <ul> <li>\u5b8c\u6574\u6d41\u7a0b\u7e3d\u89bd\uff08\u968e\u6bb5 0-5\uff09</li> <li>Client Side RD \u5de5\u4f5c\u6d41\u7a0b</li> <li>AI \u81ea\u52d5\u5316\u751f\u6210\u6d41\u7a0b</li> <li>\u7e3d\u4f30\u6642\u7e3d\u7d50</li> </ul> <p>\u76f8\u95dc\u6587\u4ef6\uff1a</p> <ul> <li>TDD \u751f\u6210\u5de5\u4f5c\u6d41\u7a0b</li> </ul>"},{"location":"00_Agenda/#4","title":"4. \u5feb\u901f\u4ecb\u7d39\u5404\u89d2\u8272\u6587\u4ef6\u898f\u7bc4","text":"<p>\u4ecb\u7d39\u91cd\u9ede\uff1a</p> <ul> <li>PM\uff08Product Manager\uff09\u9700\u63d0\u4f9b\u7684\u6587\u4ef6</li> <li>BE\uff08Backend Engineer\uff09\u9700\u63d0\u4f9b\u7684\u6587\u4ef6</li> <li>Designer\uff08UI/UX Designer\uff09\u9700\u63d0\u4f9b\u7684\u6587\u4ef6</li> <li>Client Side RD \u9700\u63d0\u4f9b\u7684\u6587\u4ef6</li> <li>\u6587\u4ef6\u7bc4\u672c\u8207\u6aa2\u67e5\u6e05\u55ae</li> </ul> <p>\u76f8\u95dc\u6587\u4ef6\uff1a</p> <ul> <li>\u5404\u89d2\u8272\u6587\u4ef6\u898f\u7bc4</li> </ul>"},{"location":"00_Agenda/#_3","title":"\ud83d\udcdd \u6703\u8b70\u8a18\u9304","text":"<p>\uff08\u6703\u8b70\u8a18\u9304\u5c07\u5728\u6b64\u8655\u586b\u5beb\uff09</p> <p>\u6703\u8b70\u65e5\u671f\uff1a2024-11-21 \u6700\u5f8c\u66f4\u65b0\uff1a2024-11-21</p>"},{"location":"00_Overview/","title":"Overview \u7ae0\u7bc0\u8aaa\u660e","text":"<p>\u672c\u76ee\u9304\u5305\u542b TDD \u6587\u4ef6\u7684 Overview \u7ae0\u7bc0\uff0c\u63d0\u4f9b\u6574\u9ad4 Feature \u7d44\u5408\u7684\u63cf\u8ff0\u548c\u8aaa\u660e\u3002</p>"},{"location":"00_Overview/#_1","title":"\u6587\u4ef6\u5217\u8868","text":"<ul> <li><code>01_overview.md</code> - \u6574\u9ad4 Feature \u7d44\u5408\u6982\u8ff0</li> </ul>"},{"location":"00_Overview/#_2","title":"\u8cc7\u6599\u4f86\u6e90","text":"<p>\u672c TDD \u6587\u4ef6\u57fa\u65bc\u4ee5\u4e0b Input \u8cc7\u6599\u751f\u6210\uff1a</p> <ul> <li>Input \u8def\u5f91: <code>Input/LiveChat&amp;PrematchComment/</code></li> <li>Feature \u5217\u8868:</li> <li>LiveChat: 4 \u500b\u6d41\u7a0b<ul> <li>LC-FULL-001: \u7528\u6236\u9032\u5165\u8207\u96e2\u958b\u804a\u5929\u5ba4\uff08\u542b WebSocket \u76f8\u4f9d\uff09</li> <li>LC-SUB-001: \u7528\u6236\u7559 comment \u6642\u767b\u5165\u8207 nickname \u6aa2\u67e5</li> <li>LC-SUB-002: \u7528\u6236\u9ede\u64ca avatar \u8207\u5c01\u9396\u5176\u4ed6 user \u908f\u8f2f</li> <li>LC-SUB-003: \u804a\u5929\u5ba4\u8a0a\u606f\u50b3\u905e\u8207\u6efe\u52d5\u52a0\u8f09</li> </ul> </li> <li>PrematchComment: 7 \u500b\u6d41\u7a0b<ul> <li>PC-FULL-001: \u7528\u6236\u9032\u5165 Upcoming Race Page, Prematch Comment Page \u8207 Top</li> <li>PC-SUB-001: Event Status \u8a02\u95b1\u8207\u901a\u77e5\u6d41\u7a0b</li> <li>PC-SUB-002: \u7528\u6236\u767c Comment - Reply\uff08\u542b\u767b\u5165\u8207 nickname \u6aa2\u67e5\uff09</li> <li>PC-SUB-003: \u7528\u6236\u67e5\u770b replies\uff08\u542b\u5206\u9801\u8f09\u5165\uff09</li> <li>PC-SUB-004: \u7528\u6236\u9ede\u64ca Like\uff08\u542b\u767b\u5165\u6aa2\u67e5\uff09</li> <li>PC-SUB-005: \u7528\u6236\u9ede\u64ca\u7528\u6236\u540d\u7a31 \u2192 \u8df3\u8f49\u500b\u4eba\u4e3b\u9801</li> <li>PC-SUB-006: User \u5f9e In-Site message \u8df3\u8f49\u5230 Prematch Comment Page\uff08\u5f85\u78ba\u8a8d\uff09</li> </ul> </li> </ul>"},{"location":"00_Overview/01_overview/","title":"LiveChat &amp; PrematchComment Feature \u7d44\u5408\u6982\u8ff0","text":""},{"location":"00_Overview/01_overview/#_1","title":"\u529f\u80fd\u63cf\u8ff0","text":"<p>\u672c Feature \u7d44\u5408\u5305\u542b\u5169\u500b\u4e3b\u8981\u529f\u80fd\u6a21\u7d44\uff1a</p> <ol> <li>LiveChat\uff08\u5373\u6642\u804a\u5929\u5ba4\uff09\uff1a\u63d0\u4f9b\u8cfd\u4e8b\u9032\u884c\u4e2d\u7684\u5373\u6642\u804a\u5929\u529f\u80fd</li> <li>PrematchComment\uff08\u8cfd\u524d\u7559\u8a00\uff09\uff1a\u63d0\u4f9b\u8cfd\u4e8b\u958b\u59cb\u524d\u7684\u7559\u8a00\u8a0e\u8ad6\u529f\u80fd</li> </ol>"},{"location":"00_Overview/01_overview/#_2","title":"\u4e3b\u8981\u4f7f\u7528\u8005\u4e92\u52d5","text":""},{"location":"00_Overview/01_overview/#livechat","title":"LiveChat \u529f\u80fd","text":"<ol> <li>\u9032\u5165\u8207\u96e2\u958b\u804a\u5929\u5ba4</li> <li>\u7528\u6236\u9032\u5165 Live Detail Page \u6642\u81ea\u52d5\u5efa\u7acb WebSocket \u9023\u7dda</li> <li>\u53d6\u5f97\u804a\u5929\u5ba4 ID \u8207\u6700\u5f8c\u8a0a\u606f\u7de8\u865f</li> <li>\u52a0\u5165\u804a\u5929\u5ba4\u4e26\u8f09\u5165\u6b77\u53f2\u8a0a\u606f</li> <li> <p>\u96e2\u958b\u804a\u5929\u5ba4\u6642\u6e05\u9664\u5feb\u53d6\u4e26\u53d6\u6d88 WebSocket \u8a02\u95b1</p> </li> <li> <p>\u767c\u9001\u804a\u5929\u8a0a\u606f</p> </li> <li>\u767b\u5165\u6aa2\u67e5</li> <li>Nickname \u6aa2\u67e5\u8207\u5efa\u7acb</li> <li> <p>\u767c\u9001\u8a0a\u606f\u4e26\u986f\u793a\u5728\u804a\u5929\u5ba4\u4e2d</p> </li> <li> <p>\u7528\u6236\u4e92\u52d5</p> </li> <li>\u9ede\u64ca\u7528\u6236\u540d\u7a31\u986f\u793a\u64cd\u4f5c\u9078\u55ae</li> <li>\u8df3\u8f49\u500b\u4eba\u4e3b\u9801</li> <li> <p>\u5c01\u9396\u5176\u4ed6\u7528\u6236\uff08\u542b\u9ed1\u540d\u55ae\u7ba1\u7406\uff09</p> </li> <li> <p>\u8a0a\u606f\u50b3\u905e\u8207\u6efe\u52d5\u52a0\u8f09</p> </li> <li>WebSocket \u5373\u6642\u63a5\u6536\u8a0a\u606f</li> <li>\u6b77\u53f2\u8a0a\u606f\u8207\u5373\u6642\u8a0a\u606f\u5408\u4f75\u986f\u793a</li> <li>\u5206\u9801\u8f09\u5165\u820a\u8a0a\u606f</li> </ol>"},{"location":"00_Overview/01_overview/#prematchcomment","title":"PrematchComment \u529f\u80fd","text":"<ol> <li>\u9032\u5165\u9801\u9762\u8207\u8f09\u5165\u7559\u8a00</li> <li>\u9032\u5165 Race Detail Page \u6642\u53d6\u5f97\u500b\u4eba\u8cc7\u8a0a</li> <li>\u53d6\u5f97\u8cfd\u4e8b\u7559\u8a00\u7d71\u8a08\u8cc7\u8a0a</li> <li>\u9032\u5165 Prematch Comment Page \u6642\u9810\u8a2d\u986f\u793a Top \u6a19\u7c64\uff08\u6309\u8b9a\u6578\u6392\u5e8f\uff09</li> <li>\u652f\u63f4\u5207\u63db Top / Newest \u6a19\u7c64</li> <li> <p>\u624b\u52d5\u5237\u65b0\u7559\u8a00\u5217\u8868</p> </li> <li> <p>Event Status \u8a02\u95b1\u8207\u901a\u77e5</p> </li> <li>FactsCenter Package\uff08\u5916\u90e8\uff09\u8a02\u95b1 Event Status</li> <li> <p>\u7576 Event Status \u8b8a\u66f4\u70ba match_started \u6642\u81ea\u52d5\u95dc\u9589 Prematch Comment Page</p> </li> <li> <p>\u767c\u9001\u7559\u8a00\u8207\u56de\u8986</p> </li> <li>\u767b\u5165\u6aa2\u67e5</li> <li>Nickname \u6aa2\u67e5\u8207\u5efa\u7acb</li> <li> <p>\u767c\u9001\u7559\u8a00\u6216\u56de\u8986</p> </li> <li> <p>\u67e5\u770b\u56de\u8986</p> </li> <li>\u9ede\u64ca\u56de\u8986\u6578\u91cf\u8f09\u5165\u56de\u8986\u5217\u8868</li> <li>\u5206\u9801\u8f09\u5165\u56de\u8986\uff08\u6bcf\u6b21\u6700\u591a 5 \u7b46\uff09</li> <li> <p>\u986f\u793a\u300cShow more replies\u300d\u6309\u9215</p> </li> <li> <p>\u4e92\u52d5\u529f\u80fd</p> </li> <li>\u9ede\u64ca Like \u6309\u9215\uff08\u542b\u767b\u5165\u6aa2\u67e5\uff09</li> <li>Optimistic UI \u66f4\u65b0</li> <li>\u9ede\u64ca\u7528\u6236\u540d\u7a31\u8df3\u8f49\u500b\u4eba\u4e3b\u9801</li> </ol>"},{"location":"00_Overview/01_overview/#scope","title":"Scope","text":""},{"location":"00_Overview/01_overview/#_3","title":"\u5305\u542b\u7684\u529f\u80fd","text":"<ul> <li>\u2705 \u5373\u6642\u804a\u5929\u5ba4\u529f\u80fd\uff08WebSocket\uff09</li> <li>\u2705 \u8cfd\u524d\u7559\u8a00\u529f\u80fd\uff08HTTP API\uff09</li> <li>\u2705 \u767b\u5165\u8207 Nickname \u6aa2\u67e5\u6d41\u7a0b</li> <li>\u2705 \u7528\u6236\u4e92\u52d5\u529f\u80fd\uff08\u500b\u4eba\u4e3b\u9801\u8df3\u8f49\u3001\u5c01\u9396\u7528\u6236\uff09</li> <li>\u2705 Event Status \u8a02\u95b1\u8207\u901a\u77e5</li> <li>\u2705 \u5206\u9801\u8f09\u5165\u6a5f\u5236</li> <li>\u2705 \u9ed1\u540d\u55ae\u7ba1\u7406\uff084 \u5c0f\u6642\u81ea\u52d5\u6e05\u7406\uff09</li> </ul>"},{"location":"00_Overview/01_overview/#_4","title":"\u4e0d\u5305\u542b\u7684\u529f\u80fd","text":"<ul> <li>\u274c \u500b\u4eba\u4e3b\u9801\u7684\u8a73\u7d30\u5be6\u4f5c\uff08\u7531 PersonalPage Package \u8ca0\u8cac\uff09</li> <li>\u274c Nickname \u5efa\u7acb\u7684\u8a73\u7d30\u5be6\u4f5c\uff08\u7531 FComSharedFlow Package \u8ca0\u8cac\uff09</li> <li>\u274c Event Status \u8a02\u95b1\u7684\u8a73\u7d30\u5be6\u4f5c\uff08\u7531 FactsCenter Package \u8ca0\u8cac\uff09</li> <li>\u274c \u767b\u5165\u6d41\u7a0b\u7684\u8a73\u7d30\u5be6\u4f5c\uff08\u7531 PersonalPage Package \u8ca0\u8cac\uff09</li> </ul>"},{"location":"00_Overview/01_overview/#_5","title":"\u6280\u8853\u67b6\u69cb","text":""},{"location":"00_Overview/01_overview/#_6","title":"\u5206\u5c64\u67b6\u69cb","text":"<p>\u672c Feature \u7d44\u5408\u9075\u5faa Clean Architecture \u5206\u5c64\uff1a</p> <ol> <li>UI Layer\uff1aView \u5c64\uff0c\u8ca0\u8cac\u4f7f\u7528\u8005\u4ecb\u9762</li> <li>Domain Layer\uff1aFeature + UseCase \u5c64\uff0c\u8ca0\u8cac\u696d\u52d9\u908f\u8f2f</li> <li>Data &amp; Infrastructure Layer\uff1aRepository + Client + API \u5c64\uff0c\u8ca0\u8cac\u8cc7\u6599\u5b58\u53d6</li> <li>Domain Model Layer\uff1aEntity + Value Object \u5c64\uff0c\u7d14\u8cc7\u6599\u6a21\u578b</li> </ol>"},{"location":"00_Overview/01_overview/#_7","title":"\u5916\u90e8\u4f9d\u8cf4","text":"<ul> <li>FactsCenter Package\uff08External\uff09\uff1aEvent Status \u8a02\u95b1\u8207\u901a\u77e5</li> <li>PersonalPage Package\uff08External\uff09\uff1a\u767b\u5165\u6d41\u7a0b</li> <li>FComSharedFlow Package\uff08External\uff09\uff1aNickname \u5efa\u7acb\u6d41\u7a0b</li> <li>Main App\uff1a\u8def\u7531\u8df3\u8f49\u3001\u767b\u5165\u72c0\u614b\u6aa2\u67e5\u3001Nickname \u6aa2\u67e5</li> </ul>"},{"location":"00_Overview/01_overview/#_8","title":"\u6280\u8853\u7279\u9ede","text":"<ul> <li>WebSocket\uff1a\u5373\u6642\u804a\u5929\u8a0a\u606f\u50b3\u905e</li> <li>HTTP API\uff1a\u7559\u8a00\u3001\u56de\u8986\u3001Like \u7b49\u64cd\u4f5c</li> <li>Optimistic UI\uff1aLike \u529f\u80fd\u4f7f\u7528 Optimistic UI \u63d0\u4f9b\u5373\u6642\u56de\u994b</li> <li>\u5206\u9801\u8f09\u5165\uff1a\u56de\u8986\u5217\u8868\u4f7f\u7528\u6e38\u6a19\uff08cursor\uff09\u6a5f\u5236\u5206\u9801\u8f09\u5165</li> <li>\u9ed1\u540d\u55ae\u7ba1\u7406\uff1a\u672c\u5730\u5132\u5b58\uff0c4 \u5c0f\u6642\u81ea\u52d5\u6e05\u7406</li> </ul>"},{"location":"00_Overview/01_overview/#_9","title":"\u4e3b\u8981\u6d41\u7a0b","text":""},{"location":"00_Overview/01_overview/#livechat_1","title":"LiveChat \u4e3b\u6d41\u7a0b","text":"<ul> <li>LC-FULL-001\uff1a\u7528\u6236\u9032\u5165\u8207\u96e2\u958b\u804a\u5929\u5ba4\uff08\u542b WebSocket \u76f8\u4f9d\uff09</li> <li>LC-SUB-001\uff1a\u7528\u6236\u7559 comment \u6642\u767b\u5165\u8207 nickname \u6aa2\u67e5</li> <li>LC-SUB-002\uff1a\u7528\u6236\u9ede\u64ca avatar \u8207\u5c01\u9396\u5176\u4ed6 user \u908f\u8f2f</li> <li>LC-SUB-003\uff1a\u804a\u5929\u5ba4\u8a0a\u606f\u50b3\u905e\u8207\u6efe\u52d5\u52a0\u8f09</li> </ul>"},{"location":"00_Overview/01_overview/#prematchcomment_1","title":"PrematchComment \u4e3b\u6d41\u7a0b","text":"<ul> <li>PC-FULL-001\uff1a\u7528\u6236\u9032\u5165 Upcoming Race Page, Prematch Comment Page \u8207 Top</li> <li>PC-SUB-001\uff1aEvent Status \u8a02\u95b1\u8207\u901a\u77e5\u6d41\u7a0b</li> <li>PC-SUB-002\uff1a\u7528\u6236\u767c Comment - Reply\uff08\u542b\u767b\u5165\u8207 nickname \u6aa2\u67e5\uff09</li> <li>PC-SUB-003\uff1a\u7528\u6236\u67e5\u770b replies\uff08\u542b\u5206\u9801\u8f09\u5165\uff09</li> <li>PC-SUB-004\uff1a\u7528\u6236\u9ede\u64ca Like\uff08\u542b\u767b\u5165\u6aa2\u67e5\uff09</li> <li>PC-SUB-005\uff1a\u7528\u6236\u9ede\u64ca\u7528\u6236\u540d\u7a31 \u2192 \u8df3\u8f49\u500b\u4eba\u4e3b\u9801</li> </ul>"},{"location":"00_Overview/01_overview/#_10","title":"\u76ee\u6a19","text":"<p>\u63d0\u4f9b\u5b8c\u6574\u7684\u8cfd\u4e8b\u804a\u5929\u8207\u7559\u8a00\u529f\u80fd\uff0c\u652f\u63f4\uff1a</p> <ol> <li>\u5373\u6642\u4e92\u52d5\uff1a\u900f\u904e WebSocket \u63d0\u4f9b\u5373\u6642\u804a\u5929\u9ad4\u9a57</li> <li>\u7559\u8a00\u8a0e\u8ad6\uff1a\u652f\u63f4\u7559\u8a00\u3001\u56de\u8986\u3001Like \u7b49\u4e92\u52d5\u529f\u80fd</li> <li>\u7528\u6236\u7ba1\u7406\uff1a\u767b\u5165\u6aa2\u67e5\u3001Nickname \u7ba1\u7406\u3001\u9ed1\u540d\u55ae\u529f\u80fd</li> <li>\u72c0\u614b\u540c\u6b65\uff1aEvent Status \u8b8a\u66f4\u6642\u81ea\u52d5\u8655\u7406\u9801\u9762\u72c0\u614b</li> </ol>"},{"location":"01_Integrated%20Service-Level%20Sequence%20Diagram/","title":"Integrated Service-Level Sequence Diagram \u7ae0\u7bc0\u8aaa\u660e","text":"<p>\u672c\u76ee\u9304\u5305\u542b TDD \u6587\u4ef6\u7684 Integrated Service-Level Sequence Diagram\uff08ISSD\uff09\u7ae0\u7bc0\uff0c\u63d0\u4f9b\u8de8\u5834\u666f\u3001\u8de8 Feature\u3001\u8de8 UseCase \u7684\u6574\u5408\u5e8f\u5217\u5716\u3002</p>"},{"location":"01_Integrated%20Service-Level%20Sequence%20Diagram/#_1","title":"\u6587\u4ef6\u5217\u8868","text":"<ul> <li><code>01_full_integration_flow.md</code> - \u5b8c\u6574\u6574\u5408\u6d41\u7a0b\u5e8f\u5217\u5716</li> </ul>"},{"location":"01_Integrated%20Service-Level%20Sequence%20Diagram/#_2","title":"\u8aaa\u660e","text":"<p>Integrated Service-Level Sequence Diagram \u7528\u65bc\u5448\u73fe\u6574\u9ad4\u7cfb\u7d71\u7684 high-level \u5354\u4f5c\uff0c\u986f\u793a\uff1a</p> <ul> <li>Shared Modules\uff08AuthFeature\u3001NicknameFeature\u3001UserInfoRepository \u7b49\uff09</li> <li>Repository\u3001Client\u3001API \u5982\u4f55\u5171\u540c\u904b\u4f5c</li> <li>\u8de8 Feature \u7684\u4e92\u52d5\u6d41\u7a0b</li> <li>\u5916\u90e8 Package \u7684\u6574\u5408\u65b9\u5f0f</li> </ul>"},{"location":"01_Integrated%20Service-Level%20Sequence%20Diagram/01_full_integration_flow/","title":"\u5b8c\u6574\u6574\u5408\u6d41\u7a0b\u5e8f\u5217\u5716","text":""},{"location":"01_Integrated%20Service-Level%20Sequence%20Diagram/01_full_integration_flow/#_2","title":"\u8aaa\u660e","text":"<p>\u672c\u5e8f\u5217\u5716\u5c55\u793a LiveChat \u548c PrematchComment \u5169\u500b Feature \u7684\u6574\u5408\u6d41\u7a0b\uff0c\u5305\u62ec\uff1a</p> <ol> <li>\u7528\u6236\u9032\u5165\u9801\u9762\u6642\u7684\u521d\u59cb\u5316\u6d41\u7a0b</li> <li>\u767b\u5165\u8207 Nickname \u6aa2\u67e5\u6d41\u7a0b</li> <li>\u7559\u8a00/\u804a\u5929\u8a0a\u606f\u7684\u767c\u9001\u6d41\u7a0b</li> <li>Event Status \u8a02\u95b1\u8207\u901a\u77e5\u6d41\u7a0b</li> <li>\u7528\u6236\u4e92\u52d5\u6d41\u7a0b\uff08Like\u3001\u5c01\u9396\u3001\u8df3\u8f49\u500b\u4eba\u4e3b\u9801\uff09</li> </ol>"},{"location":"01_Integrated%20Service-Level%20Sequence%20Diagram/01_full_integration_flow/#_3","title":"\u6574\u5408\u5e8f\u5217\u5716","text":"<pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant RaceDetailView\n        participant PrematchCommentView\n        participant LiveDetailView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant PrematchCommentFeature\n        participant LiveChatFeature\n        participant ReloadCommentListUseCase\n        participant PublishCommentUseCase\n        participant SendChatMessageUseCase\n        participant ToggleLikeUseCase\n        participant LoadRepliesUseCase\n    end\n    box rgb(240,240,240) Data &amp; Infrastructure Layer\n        participant PrematchCommentRepository\n        participant LiveChatRepository\n        participant PrematchCommentClient\n        participant LiveChatClient\n        participant ChatWebSocketClient\n        participant PrematchCommentAPI\n        participant ChatAPI\n    end\n    participant FactsCenterPackage as FactsCenter Package (External)\n    participant PersonalPagePackage as PersonalPage Package (External)\n    participant FComSharedFlowPackage as FComSharedFlow Package (External)\n    participant Server\n\n    Note over User,RaceDetailView: \u7528\u6236\u9032\u5165 Race Detail Page\n    User-&gt;&gt;RaceDetailView: \u9032\u5165 Race Detail Page\n    RaceDetailView-&gt;&gt;PrematchCommentFeature: onAppear\n    PrematchCommentFeature-&gt;&gt;ReloadCommentListUseCase: execute(triggerType: .init)\n    ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getUserInfo()\n    PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getUserInfo()\n    PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /{TBD \u500b\u4eba\u8cc7\u8a0a API}\n    PrematchCommentAPI-&gt;&gt;Server: GET /{TBD \u500b\u4eba\u8cc7\u8a0a API}\n    Server--&gt;&gt;PrematchCommentAPI: userInfo\n    PrematchCommentAPI--&gt;&gt;PrematchCommentClient: userInfo DTO\n    PrematchCommentClient--&gt;&gt;PrematchCommentRepository: userInfo DTO\n    PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: UserInfo Entity\n    ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getCommentMeta(refId: String)\n    PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getCommentMeta(refId: String)\n    PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/info/{refId}\n    PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/info/{refId}\n    Server--&gt;&gt;PrematchCommentAPI: { commentCount, betCount }\n    PrematchCommentAPI--&gt;&gt;PrematchCommentClient: CommentMeta DTO\n    PrematchCommentClient--&gt;&gt;PrematchCommentRepository: CommentMeta DTO\n    PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: CommentMeta Entity\n    ReloadCommentListUseCase--&gt;&gt;PrematchCommentFeature: Output(comments: [], meta: CommentMeta)\n    PrematchCommentFeature--&gt;&gt;RaceDetailView: \u66f4\u65b0 State\n\n    Note over User,PrematchCommentView: \u7528\u6236\u9032\u5165 Prematch Comment Page\n    User-&gt;&gt;PrematchCommentView: \u9032\u5165 Prematch Comment Page\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: onAppear\n    PrematchCommentFeature-&gt;&gt;ReloadCommentListUseCase: execute(triggerType: .init, mode: .top)\n    ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getComments(refId: String, mode: .top)\n    PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getComments(refId: String, mode: .top)\n    PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/popular\n    PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/popular\n    Server--&gt;&gt;PrematchCommentAPI: comments (sorted by like)\n    PrematchCommentAPI--&gt;&gt;PrematchCommentClient: [Comment] DTO\n    PrematchCommentClient--&gt;&gt;PrematchCommentRepository: [Comment] DTO\n    PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: [Comment] Entity\n    ReloadCommentListUseCase--&gt;&gt;PrematchCommentFeature: Output(comments: [Comment])\n    PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n\n    Note over FactsCenterPackage,Server: Event Status \u8a02\u95b1\uff08\u5728\u9032\u5165 Race Detail Page \u6642\uff09\n    FactsCenterPackage-&gt;&gt;Server: WebSocket \u8a02\u95b1 Event Status\n    Note over FactsCenterPackage: \u5916\u90e8 Package\uff0c\u5167\u90e8\u5be6\u4f5c\u4e0d\u5728\u6b64 TDD \u7bc4\u570d\u5167\n\n    Note over User,PrematchCommentView: \u7528\u6236\u767c\u9001\u7559\u8a00\n    User-&gt;&gt;PrematchCommentView: \u9ede\u64ca\u8f38\u5165\u6846\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: tapInputField\n    PrematchCommentFeature-&gt;&gt;PrematchCommentFeature: \u6aa2\u67e5\u767b\u5165\u72c0\u614b\uff08\u900f\u904e Main App\uff09\n    alt \u672a\u767b\u5165\n        PrematchCommentFeature-&gt;&gt;PersonalPagePackage: route(to: .personalPage)\n        PersonalPagePackage-&gt;&gt;PersonalPagePackage: \u5b8c\u6210\u767b\u5165\u6d41\u7a0b\n        PersonalPagePackage--&gt;&gt;PrematchCommentFeature: \u767b\u5165\u6210\u529f\n    end\n    User-&gt;&gt;PrematchCommentView: \u8f38\u5165\u4e26\u9001\u51fa Comment\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: publishComment(content: String)\n    PrematchCommentFeature-&gt;&gt;PublishCommentUseCase: execute(input: PublishCommentInput)\n    PublishCommentUseCase-&gt;&gt;PublishCommentUseCase: \u6aa2\u67e5 nickname\uff08\u900f\u904e Main App\uff09\n    alt nickname \u4e0d\u5b58\u5728\n        PublishCommentUseCase-&gt;&gt;FComSharedFlowPackage: CreatNickName API\n        FComSharedFlowPackage-&gt;&gt;FComSharedFlowPackage: \u5efa\u7acb nickname\n        FComSharedFlowPackage--&gt;&gt;PublishCommentUseCase: nickname \u5efa\u7acb\u6210\u529f\n    end\n    PublishCommentUseCase-&gt;&gt;PrematchCommentRepository: publishComment(refId: String, content: String)\n    PrematchCommentRepository-&gt;&gt;PrematchCommentClient: publishComment(refId: String, content: String)\n    PrematchCommentClient-&gt;&gt;PrematchCommentAPI: POST /chat/match/comment\n    PrematchCommentAPI-&gt;&gt;Server: POST /chat/match/comment\n    Server--&gt;&gt;PrematchCommentAPI: 201 Created\uff08comment \u8cc7\u6599\uff09\n    PrematchCommentAPI--&gt;&gt;PrematchCommentClient: Comment DTO\n    PrematchCommentClient--&gt;&gt;PrematchCommentRepository: Comment DTO\n    PrematchCommentRepository--&gt;&gt;PublishCommentUseCase: Comment Entity\n    PublishCommentUseCase--&gt;&gt;PrematchCommentFeature: Output(comment: Comment)\n    PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n\n    Note over Server,FactsCenterPackage: Event Status \u8b8a\u66f4\u901a\u77e5\n    Server--&gt;&gt;FactsCenterPackage: EventStatusChanged\n    FactsCenterPackage-&gt;&gt;PrematchCommentFeature: eventStatus(didChange status: Int)\n    Note over FactsCenterPackage,PrematchCommentFeature: FactsCenter Package \u900f\u904e interface \u901a\u77e5 PrematchCommentFeature\n    alt event status \u70ba match_started\n        PrematchCommentFeature-&gt;&gt;PrematchCommentView: \u95dc\u9589 Prematch Comment Page\n        PrematchCommentView--&gt;&gt;User: \u5c0e\u56de Race Detail Page\n    end\n\n    Note over User,LiveDetailView: \u7528\u6236\u9032\u5165 Live Detail Page\n    User-&gt;&gt;LiveDetailView: \u9032\u5165 Live Detail Page\n    LiveDetailView-&gt;&gt;LiveChatFeature: onAppear\n    LiveChatFeature-&gt;&gt;LiveChatRepository: subscribeWebSocket()\n    LiveChatRepository-&gt;&gt;ChatWebSocketClient: subscribe()\n    ChatWebSocketClient-&gt;&gt;Server: WebSocket \u8a02\u95b1\n    LiveChatRepository-&gt;&gt;LiveChatClient: getChatroomInfo(refId: String)\n    LiveChatClient-&gt;&gt;ChatAPI: GET /chat/match/{refId}\n    ChatAPI-&gt;&gt;Server: GET /chat/match/{refId}\n    Server--&gt;&gt;ChatAPI: { chatroomId, lastMessageNo }\n    ChatAPI--&gt;&gt;LiveChatClient: ChatroomInfo DTO\n    LiveChatClient--&gt;&gt;LiveChatRepository: ChatroomInfo DTO\n    LiveChatRepository--&gt;&gt;LiveChatFeature: ChatroomInfo Entity\n\n    Note over User,LiveDetailView: \u7528\u6236\u767c\u9001\u804a\u5929\u8a0a\u606f\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca\u8f38\u5165\u6846\n    LiveDetailView-&gt;&gt;LiveChatFeature: tapInputField\n    LiveChatFeature-&gt;&gt;LiveChatFeature: \u6aa2\u67e5\u767b\u5165\u72c0\u614b\uff08\u900f\u904e Main App\uff09\n    alt \u672a\u767b\u5165\n        LiveChatFeature-&gt;&gt;PersonalPagePackage: route(to: .personalPage)\n        PersonalPagePackage-&gt;&gt;PersonalPagePackage: \u5b8c\u6210\u767b\u5165\u6d41\u7a0b\n        PersonalPagePackage--&gt;&gt;LiveChatFeature: \u767b\u5165\u6210\u529f\n    end\n    User-&gt;&gt;LiveDetailView: \u8f38\u5165\u4e26\u9001\u51fa Chat\n    LiveDetailView-&gt;&gt;LiveChatFeature: sendMessage(content: String)\n    LiveChatFeature-&gt;&gt;SendChatMessageUseCase: execute(input: SendChatMessageInput)\n    SendChatMessageUseCase-&gt;&gt;SendChatMessageUseCase: \u6aa2\u67e5 nickname\uff08\u900f\u904e Main App\uff09\n    alt nickname \u4e0d\u5b58\u5728\n        SendChatMessageUseCase-&gt;&gt;FComSharedFlowPackage: CreatNickName API\n        FComSharedFlowPackage-&gt;&gt;FComSharedFlowPackage: \u5efa\u7acb nickname\n        FComSharedFlowPackage--&gt;&gt;SendChatMessageUseCase: nickname \u5efa\u7acb\u6210\u529f\n    end\n    SendChatMessageUseCase-&gt;&gt;LiveChatRepository: sendMessage(chatroomId: String, content: String)\n    LiveChatRepository-&gt;&gt;LiveChatClient: sendMessage(chatroomId: String, content: String)\n    LiveChatClient-&gt;&gt;ChatAPI: POST /chat/{matchId}/message\n    ChatAPI-&gt;&gt;Server: POST /chat/{matchId}/message\n    Server--&gt;&gt;ChatAPI: 201 Created\n    ChatAPI--&gt;&gt;LiveChatClient: Message DTO\n    LiveChatClient--&gt;&gt;LiveChatRepository: Message DTO\n    LiveChatRepository--&gt;&gt;SendChatMessageUseCase: Message Entity\n    SendChatMessageUseCase--&gt;&gt;LiveChatFeature: Output(message: Message)\n    LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant RaceDetailView\n        participant PrematchCommentView\n        participant LiveDetailView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant PrematchCommentFeature\n        participant LiveChatFeature\n        participant ReloadCommentListUseCase\n        participant PublishCommentUseCase\n        participant SendChatMessageUseCase\n        participant ToggleLikeUseCase\n        participant LoadRepliesUseCase\n    end\n    box rgb(240,240,240) Data &amp; Infrastructure Layer\n        participant PrematchCommentRepository\n        participant LiveChatRepository\n        participant PrematchCommentClient\n        participant LiveChatClient\n        participant ChatWebSocketClient\n        participant PrematchCommentAPI\n        participant ChatAPI\n    end\n    participant FactsCenterPackage as FactsCenter Package (External)\n    participant PersonalPagePackage as PersonalPage Package (External)\n    participant FComSharedFlowPackage as FComSharedFlow Package (External)\n    participant Server\n\n    Note over User,RaceDetailView: \u7528\u6236\u9032\u5165 Race Detail Page\n    User-&gt;&gt;RaceDetailView: \u9032\u5165 Race Detail Page\n    RaceDetailView-&gt;&gt;PrematchCommentFeature: onAppear\n    PrematchCommentFeature-&gt;&gt;ReloadCommentListUseCase: execute(triggerType: .init)\n    ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getUserInfo()\n    PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getUserInfo()\n    PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /{TBD \u500b\u4eba\u8cc7\u8a0a API}\n    PrematchCommentAPI-&gt;&gt;Server: GET /{TBD \u500b\u4eba\u8cc7\u8a0a API}\n    Server--&gt;&gt;PrematchCommentAPI: userInfo\n    PrematchCommentAPI--&gt;&gt;PrematchCommentClient: userInfo DTO\n    PrematchCommentClient--&gt;&gt;PrematchCommentRepository: userInfo DTO\n    PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: UserInfo Entity\n    ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getCommentMeta(refId: String)\n    PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getCommentMeta(refId: String)\n    PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/info/{refId}\n    PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/info/{refId}\n    Server--&gt;&gt;PrematchCommentAPI: { commentCount, betCount }\n    PrematchCommentAPI--&gt;&gt;PrematchCommentClient: CommentMeta DTO\n    PrematchCommentClient--&gt;&gt;PrematchCommentRepository: CommentMeta DTO\n    PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: CommentMeta Entity\n    ReloadCommentListUseCase--&gt;&gt;PrematchCommentFeature: Output(comments: [], meta: CommentMeta)\n    PrematchCommentFeature--&gt;&gt;RaceDetailView: \u66f4\u65b0 State\n\n    Note over User,PrematchCommentView: \u7528\u6236\u9032\u5165 Prematch Comment Page\n    User-&gt;&gt;PrematchCommentView: \u9032\u5165 Prematch Comment Page\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: onAppear\n    PrematchCommentFeature-&gt;&gt;ReloadCommentListUseCase: execute(triggerType: .init, mode: .top)\n    ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getComments(refId: String, mode: .top)\n    PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getComments(refId: String, mode: .top)\n    PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/popular\n    PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/popular\n    Server--&gt;&gt;PrematchCommentAPI: comments (sorted by like)\n    PrematchCommentAPI--&gt;&gt;PrematchCommentClient: [Comment] DTO\n    PrematchCommentClient--&gt;&gt;PrematchCommentRepository: [Comment] DTO\n    PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: [Comment] Entity\n    ReloadCommentListUseCase--&gt;&gt;PrematchCommentFeature: Output(comments: [Comment])\n    PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n\n    Note over FactsCenterPackage,Server: Event Status \u8a02\u95b1\uff08\u5728\u9032\u5165 Race Detail Page \u6642\uff09\n    FactsCenterPackage-&gt;&gt;Server: WebSocket \u8a02\u95b1 Event Status\n    Note over FactsCenterPackage: \u5916\u90e8 Package\uff0c\u5167\u90e8\u5be6\u4f5c\u4e0d\u5728\u6b64 TDD \u7bc4\u570d\u5167\n\n    Note over User,PrematchCommentView: \u7528\u6236\u767c\u9001\u7559\u8a00\n    User-&gt;&gt;PrematchCommentView: \u9ede\u64ca\u8f38\u5165\u6846\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: tapInputField\n    PrematchCommentFeature-&gt;&gt;PrematchCommentFeature: \u6aa2\u67e5\u767b\u5165\u72c0\u614b\uff08\u900f\u904e Main App\uff09\n    alt \u672a\u767b\u5165\n        PrematchCommentFeature-&gt;&gt;PersonalPagePackage: route(to: .personalPage)\n        PersonalPagePackage-&gt;&gt;PersonalPagePackage: \u5b8c\u6210\u767b\u5165\u6d41\u7a0b\n        PersonalPagePackage--&gt;&gt;PrematchCommentFeature: \u767b\u5165\u6210\u529f\n    end\n    User-&gt;&gt;PrematchCommentView: \u8f38\u5165\u4e26\u9001\u51fa Comment\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: publishComment(content: String)\n    PrematchCommentFeature-&gt;&gt;PublishCommentUseCase: execute(input: PublishCommentInput)\n    PublishCommentUseCase-&gt;&gt;PublishCommentUseCase: \u6aa2\u67e5 nickname\uff08\u900f\u904e Main App\uff09\n    alt nickname \u4e0d\u5b58\u5728\n        PublishCommentUseCase-&gt;&gt;FComSharedFlowPackage: CreatNickName API\n        FComSharedFlowPackage-&gt;&gt;FComSharedFlowPackage: \u5efa\u7acb nickname\n        FComSharedFlowPackage--&gt;&gt;PublishCommentUseCase: nickname \u5efa\u7acb\u6210\u529f\n    end\n    PublishCommentUseCase-&gt;&gt;PrematchCommentRepository: publishComment(refId: String, content: String)\n    PrematchCommentRepository-&gt;&gt;PrematchCommentClient: publishComment(refId: String, content: String)\n    PrematchCommentClient-&gt;&gt;PrematchCommentAPI: POST /chat/match/comment\n    PrematchCommentAPI-&gt;&gt;Server: POST /chat/match/comment\n    Server--&gt;&gt;PrematchCommentAPI: 201 Created\uff08comment \u8cc7\u6599\uff09\n    PrematchCommentAPI--&gt;&gt;PrematchCommentClient: Comment DTO\n    PrematchCommentClient--&gt;&gt;PrematchCommentRepository: Comment DTO\n    PrematchCommentRepository--&gt;&gt;PublishCommentUseCase: Comment Entity\n    PublishCommentUseCase--&gt;&gt;PrematchCommentFeature: Output(comment: Comment)\n    PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n\n    Note over Server,FactsCenterPackage: Event Status \u8b8a\u66f4\u901a\u77e5\n    Server--&gt;&gt;FactsCenterPackage: EventStatusChanged\n    FactsCenterPackage-&gt;&gt;PrematchCommentFeature: eventStatus(didChange status: Int)\n    Note over FactsCenterPackage,PrematchCommentFeature: FactsCenter Package \u900f\u904e interface \u901a\u77e5 PrematchCommentFeature\n    alt event status \u70ba match_started\n        PrematchCommentFeature-&gt;&gt;PrematchCommentView: \u95dc\u9589 Prematch Comment Page\n        PrematchCommentView--&gt;&gt;User: \u5c0e\u56de Race Detail Page\n    end\n\n    Note over User,LiveDetailView: \u7528\u6236\u9032\u5165 Live Detail Page\n    User-&gt;&gt;LiveDetailView: \u9032\u5165 Live Detail Page\n    LiveDetailView-&gt;&gt;LiveChatFeature: onAppear\n    LiveChatFeature-&gt;&gt;LiveChatRepository: subscribeWebSocket()\n    LiveChatRepository-&gt;&gt;ChatWebSocketClient: subscribe()\n    ChatWebSocketClient-&gt;&gt;Server: WebSocket \u8a02\u95b1\n    LiveChatRepository-&gt;&gt;LiveChatClient: getChatroomInfo(refId: String)\n    LiveChatClient-&gt;&gt;ChatAPI: GET /chat/match/{refId}\n    ChatAPI-&gt;&gt;Server: GET /chat/match/{refId}\n    Server--&gt;&gt;ChatAPI: { chatroomId, lastMessageNo }\n    ChatAPI--&gt;&gt;LiveChatClient: ChatroomInfo DTO\n    LiveChatClient--&gt;&gt;LiveChatRepository: ChatroomInfo DTO\n    LiveChatRepository--&gt;&gt;LiveChatFeature: ChatroomInfo Entity\n\n    Note over User,LiveDetailView: \u7528\u6236\u767c\u9001\u804a\u5929\u8a0a\u606f\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca\u8f38\u5165\u6846\n    LiveDetailView-&gt;&gt;LiveChatFeature: tapInputField\n    LiveChatFeature-&gt;&gt;LiveChatFeature: \u6aa2\u67e5\u767b\u5165\u72c0\u614b\uff08\u900f\u904e Main App\uff09\n    alt \u672a\u767b\u5165\n        LiveChatFeature-&gt;&gt;PersonalPagePackage: route(to: .personalPage)\n        PersonalPagePackage-&gt;&gt;PersonalPagePackage: \u5b8c\u6210\u767b\u5165\u6d41\u7a0b\n        PersonalPagePackage--&gt;&gt;LiveChatFeature: \u767b\u5165\u6210\u529f\n    end\n    User-&gt;&gt;LiveDetailView: \u8f38\u5165\u4e26\u9001\u51fa Chat\n    LiveDetailView-&gt;&gt;LiveChatFeature: sendMessage(content: String)\n    LiveChatFeature-&gt;&gt;SendChatMessageUseCase: execute(input: SendChatMessageInput)\n    SendChatMessageUseCase-&gt;&gt;SendChatMessageUseCase: \u6aa2\u67e5 nickname\uff08\u900f\u904e Main App\uff09\n    alt nickname \u4e0d\u5b58\u5728\n        SendChatMessageUseCase-&gt;&gt;FComSharedFlowPackage: CreatNickName API\n        FComSharedFlowPackage-&gt;&gt;FComSharedFlowPackage: \u5efa\u7acb nickname\n        FComSharedFlowPackage--&gt;&gt;SendChatMessageUseCase: nickname \u5efa\u7acb\u6210\u529f\n    end\n    SendChatMessageUseCase-&gt;&gt;LiveChatRepository: sendMessage(chatroomId: String, content: String)\n    LiveChatRepository-&gt;&gt;LiveChatClient: sendMessage(chatroomId: String, content: String)\n    LiveChatClient-&gt;&gt;ChatAPI: POST /chat/{matchId}/message\n    ChatAPI-&gt;&gt;Server: POST /chat/{matchId}/message\n    Server--&gt;&gt;ChatAPI: 201 Created\n    ChatAPI--&gt;&gt;LiveChatClient: Message DTO\n    LiveChatClient--&gt;&gt;LiveChatRepository: Message DTO\n    LiveChatRepository--&gt;&gt;SendChatMessageUseCase: Message Entity\n    SendChatMessageUseCase--&gt;&gt;LiveChatFeature: Output(message: Message)\n    LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n</code></pre>"},{"location":"01_Integrated%20Service-Level%20Sequence%20Diagram/01_full_integration_flow/#_4","title":"\u6d41\u7a0b\u8aaa\u660e","text":""},{"location":"01_Integrated%20Service-Level%20Sequence%20Diagram/01_full_integration_flow/#1","title":"1. \u9032\u5165\u9801\u9762\u521d\u59cb\u5316\u6d41\u7a0b","text":"\u6d41\u7a0b\u6b65\u9a5f \u8aaa\u660e 1. \u9032\u5165 Race Detail Page 1. \u7528\u6236\u9032\u5165 Race Detail Page2. \u81ea\u52d5\u53d6\u5f97\u7528\u6236\u500b\u4eba\u8cc7\u8a0a3. \u81ea\u52d5\u53d6\u5f97\u8cfd\u4e8b\u7559\u8a00\u7d71\u8a08\u8cc7\u8a0a 2. \u9032\u5165 Prematch Comment Page 1. \u7528\u6236\u9032\u5165 Prematch Comment Page2. \u9810\u8a2d\u986f\u793a Top \u6a19\u7c643. \u8f09\u5165\u71b1\u9580\u7559\u8a00\u5217\u8868 3. Event Status \u8a02\u95b1 1. FactsCenter Package\uff08\u5916\u90e8\uff09\u81ea\u52d5\u8a02\u95b1 Event Status2. \u900f\u904e WebSocket \u63a5\u6536\u4e8b\u4ef6\u72c0\u614b\u8b8a\u66f4\u901a\u77e5"},{"location":"01_Integrated%20Service-Level%20Sequence%20Diagram/01_full_integration_flow/#2","title":"2. \u767c\u9001\u7559\u8a00\u6d41\u7a0b","text":"\u6d41\u7a0b\u6b65\u9a5f \u8aaa\u660e 1. \u767b\u5165\u6aa2\u67e5 1. \u9ede\u64ca\u8f38\u5165\u6846\u6642\u89f8\u767c\u767b\u5165\u6aa2\u67e52. \u672a\u767b\u5165\u5247\u8df3\u8f49\u5230 PersonalPage \u5b8c\u6210\u767b\u51653. \u767b\u5165\u6210\u529f\u5f8c\u56de\u8df3\u81f3\u539f\u9801\u9762 2. Nickname \u6aa2\u67e5 1. \u9001\u51fa\u524d\u6aa2\u67e5 client \u7aef nickname \u662f\u5426\u5b58\u57282. \u82e5\u4e0d\u5b58\u5728\u5247\u8abf\u7528 FComSharedFlow Package \u5efa\u7acb nickname 3. \u767c\u9001\u7559\u8a00 1. \u5411\u4f3a\u670d\u5668\u767c\u9001 POST /chat/match/comment \u8acb\u6c422. \u6536\u5230\u56de\u61c9\u5f8c\u66f4\u65b0 UI \u986f\u793a\u65b0\u7559\u8a00"},{"location":"01_Integrated%20Service-Level%20Sequence%20Diagram/01_full_integration_flow/#3-event-status","title":"3. Event Status \u901a\u77e5\u6d41\u7a0b","text":"\u6d41\u7a0b\u6b65\u9a5f \u8aaa\u660e 1. \u63a5\u6536\u901a\u77e5 1. Server \u900f\u904e WebSocket \u63a8\u9001 EventStatusChanged \u4e8b\u4ef62. FactsCenter Package \u63a5\u6536\u4e8b\u4ef6\u4e26\u900f\u904e interface \u901a\u77e5 PrematchCommentFeature 2. \u8655\u7406\u901a\u77e5 1. PrematchCommentFeature \u5224\u65b7 event status2. \u82e5\u70ba match_started \u5247\u81ea\u52d5\u95dc\u9589 Prematch Comment Page3. \u5c0e\u56de Race Detail Page"},{"location":"01_Integrated%20Service-Level%20Sequence%20Diagram/01_full_integration_flow/#4","title":"4. \u5373\u6642\u804a\u5929\u6d41\u7a0b","text":"\u6d41\u7a0b\u6b65\u9a5f \u8aaa\u660e 1. \u9032\u5165 Live Detail Page 1. \u7528\u6236\u9032\u5165 Live Detail Page2. \u81ea\u52d5\u5efa\u7acb WebSocket \u9023\u7dda3. \u53d6\u5f97\u804a\u5929\u5ba4\u8cc7\u8a0a\uff08chatroomId, lastMessageNo\uff09 2. \u767c\u9001\u804a\u5929\u8a0a\u606f 1. \u767b\u5165\u6aa2\u67e5\uff08\u540c\u7559\u8a00\u6d41\u7a0b\uff092. Nickname \u6aa2\u67e5\uff08\u540c\u7559\u8a00\u6d41\u7a0b\uff093. \u767c\u9001\u8a0a\u606f\u4e26\u66f4\u65b0 UI"},{"location":"01_Integrated%20Service-Level%20Sequence%20Diagram/01_full_integration_flow/#feature","title":"\u8de8 Feature \u4e92\u52d5","text":""},{"location":"01_Integrated%20Service-Level%20Sequence%20Diagram/01_full_integration_flow/#shared-modules","title":"Shared Modules \u4f7f\u7528","text":"Shared Module \u4f7f\u7528\u5834\u666f \u8aaa\u660e PersonalPage Package\uff08External\uff09 \u767b\u5165\u6d41\u7a0b 1. PrematchCommentFeature \u548c LiveChatFeature \u90fd\u6703\u4f7f\u75282. \u672a\u767b\u5165\u6642\u8df3\u8f49\u5230 PersonalPage \u5b8c\u6210\u767b\u5165 FComSharedFlow Package\uff08External\uff09 Nickname \u5efa\u7acb 1. PrematchCommentFeature \u548c LiveChatFeature \u90fd\u6703\u4f7f\u75282. \u7576\u7528\u6236\u6c92\u6709 nickname \u6642\u8abf\u7528 CreatNickName API FactsCenter Package\uff08External\uff09 Event Status \u8a02\u95b1 1. \u50c5 PrematchCommentFeature \u4f7f\u75282. \u900f\u904e interface \u63a5\u6536 Event Status \u8b8a\u66f4\u901a\u77e5"},{"location":"01_Integrated%20Service-Level%20Sequence%20Diagram/01_full_integration_flow/#_5","title":"\u8cc7\u6599\u6d41\u5411","text":"<ol> <li>User Info\uff1a\u900f\u904e PrematchCommentRepository \u2192 PrematchCommentClient \u2192 PrematchCommentAPI \u53d6\u5f97</li> <li>Comment Data\uff1a\u900f\u904e PrematchCommentRepository \u2192 PrematchCommentClient \u2192 PrematchCommentAPI \u53d6\u5f97\u548c\u767c\u9001</li> <li>Chat Message\uff1a\u900f\u904e LiveChatRepository \u2192 LiveChatClient \u2192 ChatAPI \u767c\u9001\uff0c\u900f\u904e WebSocket \u63a5\u6536</li> <li>Event Status\uff1a\u900f\u904e FactsCenter Package\uff08\u5916\u90e8\uff09\u8a02\u95b1\u548c\u63a5\u6536</li> </ol>"},{"location":"02_Architecture/","title":"Architecture \u7ae0\u7bc0\u8aaa\u660e","text":"<p>\u672c\u76ee\u9304\u5305\u542b TDD \u6587\u4ef6\u7684 Architecture \u7ae0\u7bc0\uff0c\u63d0\u4f9b\u7cfb\u7d71\u67b6\u69cb\u5716\u548c\u67b6\u69cb\u8aaa\u660e\u3002</p>"},{"location":"02_Architecture/#_1","title":"\u6587\u4ef6\u5217\u8868","text":"<ul> <li><code>01_clean_architecture_diagram.md</code> - Clean Architecture \u67b6\u69cb\u5716</li> </ul>"},{"location":"02_Architecture/#_2","title":"\u8aaa\u660e","text":"<p>Architecture \u7ae0\u7bc0\u5305\u542b\uff1a</p> <ul> <li>\u5782\u76f4 Clean Architecture \u5716</li> <li>\u5404 Layer \u7684\u8077\u8cac\u8aaa\u660e</li> <li>\u4f9d\u8cf4\u65b9\u5411\u8aaa\u660e</li> <li>\u6a21\u7d44\u95dc\u4fc2\u5716</li> </ul>"},{"location":"02_Architecture/#_3","title":"\u67b6\u69cb\u5c64\u7d1a","text":"<ol> <li>UI Layer\uff1aView \u5c64</li> <li>Domain Layer\uff1aFeature + UseCase \u5c64</li> <li>Data &amp; Infrastructure Layer\uff1aRepository + Client + API \u5c64</li> <li>Domain Model Layer\uff1aEntity + Value Object \u5c64</li> </ol>"},{"location":"02_Architecture/#_4","title":"\u4f9d\u8cf4\u65b9\u5411","text":"<p>UI \u2192 Feature \u2192 UseCase \u2192 Repository \u2192 Client \u2192 API</p> <p>\u7981\u6b62\u8d8a\u5c64\u547c\u53eb\u3002</p>"},{"location":"02_Architecture/01_clean_architecture_diagram/","title":"Clean Architecture \u67b6\u69cb\u5716","text":""},{"location":"02_Architecture/01_clean_architecture_diagram/#_1","title":"\u9ad8\u968e\u67b6\u69cb\u5716\uff08\u6982\u89bd\uff09","text":"<pre><code>flowchart TD\n    subgraph UILayer[\"UI Layer\"]\n        UILayerPlaceholder[\"3 \u500b View\"]\n    end\n\n    subgraph DomainLayer[\"Domain Layer\"]\n        subgraph FeatureLayer[\"Feature Layer\"]\n            FeatureLayerPlaceholder[\"2 \u500b Feature\"]\n        end\n        subgraph UseCaseLayer[\"UseCase Layer\"]\n            UseCaseLayerPlaceholder[\"9 \u500b UseCase\"]\n        end\n    end\n\n    subgraph DataInfraLayer[\"Data &amp; Infrastructure Layer\"]\n        subgraph RepositoryLayer[\"Repository Layer\"]\n            RepositoryLayerPlaceholder[\"2 \u500b Repository\"]\n        end\n        subgraph ClientLayer[\"Client Layer\"]\n            ClientLayerPlaceholder[\"3 \u500b Client\"]\n        end\n        subgraph APILayer[\"API Layer\"]\n            APILayerPlaceholder[\"2 \u500b API\"]\n        end\n    end\n\n    subgraph DomainModelLayer[\"Domain Model Layer\"]\n        subgraph EntityLayer[\"Entity\"]\n            EntityLayerPlaceholder[\"5 \u500b Entity\"]\n        end\n        subgraph ValueObjectLayer[\"Value Object\"]\n            ValueObjectLayerPlaceholder[\"3 \u500b Value Object\"]\n        end\n    end\n\n    subgraph ProtocolLayer[\"Protocol Layer\"]\n        ProtocolLayerPlaceholder[\"Adapter Protocols\"]\n    end\n\n    subgraph ExternalPackages[\"External Packages\"]\n        ExternalPackagesPlaceholder[\"3 \u500b External Package\"]\n    end\n\n    %% \u4f9d\u8cf4\u95dc\u4fc2\n    UILayerPlaceholder --&gt; FeatureLayerPlaceholder\n    FeatureLayerPlaceholder --&gt; UseCaseLayerPlaceholder\n    UseCaseLayerPlaceholder --&gt; RepositoryLayerPlaceholder\n    UseCaseLayerPlaceholder --&gt; ProtocolLayerPlaceholder\n    RepositoryLayerPlaceholder --&gt; ClientLayerPlaceholder\n    ClientLayerPlaceholder --&gt; APILayerPlaceholder\n    RepositoryLayerPlaceholder -.-&gt;|uses| EntityLayerPlaceholder\n    RepositoryLayerPlaceholder -.-&gt;|uses| ValueObjectLayerPlaceholder\n    ProtocolLayerPlaceholder -.-&gt;|implements| ExternalPackagesPlaceholder\n\n    %% Styling\n    classDef uiLayer fill:#CFE8FF\n    classDef domainLayer fill:#FFFACD\n    classDef protocolLayer fill:#FFE4E1,stroke:#FF6B6B,stroke-width:2px\n    classDef repositoryLayer fill:#E8F4F8\n    classDef clientLayer fill:#F0F8E8\n    classDef apiLayer fill:#FFF8E8\n    classDef domainModel fill:#E6E6FA\n    classDef externalPackage fill:#E6F3FF\n\n    class UILayerPlaceholder uiLayer\n    class FeatureLayerPlaceholder,UseCaseLayerPlaceholder domainLayer\n    class ProtocolLayerPlaceholder protocolLayer\n    class RepositoryLayerPlaceholder repositoryLayer\n    class ClientLayerPlaceholder clientLayer\n    class APILayerPlaceholder apiLayer\n    class EntityLayerPlaceholder,ValueObjectLayerPlaceholder domainModel\n    class ExternalPackagesPlaceholder externalPackage</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>flowchart TD\n    subgraph UILayer[\"UI Layer\"]\n        UILayerPlaceholder[\"3 \u500b View\"]\n    end\n\n    subgraph DomainLayer[\"Domain Layer\"]\n        subgraph FeatureLayer[\"Feature Layer\"]\n            FeatureLayerPlaceholder[\"2 \u500b Feature\"]\n        end\n        subgraph UseCaseLayer[\"UseCase Layer\"]\n            UseCaseLayerPlaceholder[\"9 \u500b UseCase\"]\n        end\n    end\n\n    subgraph DataInfraLayer[\"Data &amp; Infrastructure Layer\"]\n        subgraph RepositoryLayer[\"Repository Layer\"]\n            RepositoryLayerPlaceholder[\"2 \u500b Repository\"]\n        end\n        subgraph ClientLayer[\"Client Layer\"]\n            ClientLayerPlaceholder[\"3 \u500b Client\"]\n        end\n        subgraph APILayer[\"API Layer\"]\n            APILayerPlaceholder[\"2 \u500b API\"]\n        end\n    end\n\n    subgraph DomainModelLayer[\"Domain Model Layer\"]\n        subgraph EntityLayer[\"Entity\"]\n            EntityLayerPlaceholder[\"5 \u500b Entity\"]\n        end\n        subgraph ValueObjectLayer[\"Value Object\"]\n            ValueObjectLayerPlaceholder[\"3 \u500b Value Object\"]\n        end\n    end\n\n    subgraph ProtocolLayer[\"Protocol Layer\"]\n        ProtocolLayerPlaceholder[\"Adapter Protocols\"]\n    end\n\n    subgraph ExternalPackages[\"External Packages\"]\n        ExternalPackagesPlaceholder[\"3 \u500b External Package\"]\n    end\n\n    %% \u4f9d\u8cf4\u95dc\u4fc2\n    UILayerPlaceholder --&gt; FeatureLayerPlaceholder\n    FeatureLayerPlaceholder --&gt; UseCaseLayerPlaceholder\n    UseCaseLayerPlaceholder --&gt; RepositoryLayerPlaceholder\n    UseCaseLayerPlaceholder --&gt; ProtocolLayerPlaceholder\n    RepositoryLayerPlaceholder --&gt; ClientLayerPlaceholder\n    ClientLayerPlaceholder --&gt; APILayerPlaceholder\n    RepositoryLayerPlaceholder -.-&gt;|uses| EntityLayerPlaceholder\n    RepositoryLayerPlaceholder -.-&gt;|uses| ValueObjectLayerPlaceholder\n    ProtocolLayerPlaceholder -.-&gt;|implements| ExternalPackagesPlaceholder\n\n    %% Styling\n    classDef uiLayer fill:#CFE8FF\n    classDef domainLayer fill:#FFFACD\n    classDef protocolLayer fill:#FFE4E1,stroke:#FF6B6B,stroke-width:2px\n    classDef repositoryLayer fill:#E8F4F8\n    classDef clientLayer fill:#F0F8E8\n    classDef apiLayer fill:#FFF8E8\n    classDef domainModel fill:#E6E6FA\n    classDef externalPackage fill:#E6F3FF\n\n    class UILayerPlaceholder uiLayer\n    class FeatureLayerPlaceholder,UseCaseLayerPlaceholder domainLayer\n    class ProtocolLayerPlaceholder protocolLayer\n    class RepositoryLayerPlaceholder repositoryLayer\n    class ClientLayerPlaceholder clientLayer\n    class APILayerPlaceholder apiLayer\n    class EntityLayerPlaceholder,ValueObjectLayerPlaceholder domainModel\n    class ExternalPackagesPlaceholder externalPackage\n</code></pre>"},{"location":"02_Architecture/01_clean_architecture_diagram/#_2","title":"\u9ad8\u968e\u67b6\u69cb\u8aaa\u660e","text":"Layer \u5b50\u5c64\u7d1a \u6a21\u7d44\u6578\u91cf \u8077\u8cac UI Layer - 3 \u500b View 1. \u63a5\u6536\u4f7f\u7528\u8005\u4e92\u52d52. \u986f\u793a UI3. \u89f8\u767c Feature Action Domain Layer Feature Layer 2 \u500b Feature 1. UI orchestration2. Action \u8f49\u63db3. State \u7ba1\u7406 Domain Layer UseCase Layer 9 \u500b UseCase 1. \u57f7\u884c\u5546\u696d\u908f\u8f2f2. \u6574\u5408 Repository3. \u8655\u7406\u8de8 Feature \u7684\u5171\u7528\u908f\u8f2f4. \u8655\u7406\u8def\u7531\u8df3\u8f49\u908f\u8f2f Data &amp; Infrastructure Layer Repository Layer 2 \u500b Repository 1. Domain \u8cc7\u6599\u4f86\u6e90\u7684\u62bd\u8c61\u4ecb\u97622. \u547c\u53eb Client \u53d6\u5f97\u8cc7\u65993. DTO \u2192 Domain Model \u8f49\u63db Data &amp; Infrastructure Layer Client Layer 3 \u500b Client 1. HTTP \u901a\u8a0a2. WebSocket \u901a\u8a0a3. Request / Response \u7de8\u89e3\u78bc Data &amp; Infrastructure Layer API Layer 2 \u500b API 1. \u5b9a\u7fa9\u5f8c\u7aef endpoint2. URL / HTTP method / payload \u5f62\u72c0 Domain Model Layer Entity 5 \u500b Entity 1. \u6709\u552f\u4e00\u8b58\u5225\u78bc\u7684\u696d\u52d9\u7269\u4ef62. \u7d14\u8cc7\u6599\u7d50\u69cb\uff0c\u7121\u5546\u696d\u908f\u8f2f Domain Model Layer Value Object 3 \u500b Value Object 1. \u6c92\u6709\u552f\u4e00\u8b58\u5225\u78bc\uff0c\u900f\u904e\u503c\u6bd4\u8f032. \u5b8c\u5168\u4e0d\u53ef\u8b8a Protocol Layer - Adapter Protocols 1. \u5b9a\u7fa9\u5916\u90e8 Package \u7684\u4f9d\u8cf4\u4ecb\u97622. \u7531 UseCase \u4f9d\u8cf43. \u5be6\u73fe\u653e\u5728 Main App \u4e2d External Packages - 3 \u500b External Package 1. \u5916\u90e8 Swift Package2. \u900f\u904e Adapter Protocol \u6574\u5408"},{"location":"02_Architecture/01_clean_architecture_diagram/#_3","title":"\u4f9d\u8cf4\u65b9\u5411\uff08\u9ad8\u968e\uff09","text":"<pre><code>UI Layer (3 Views)\n    \u2193\nDomain Layer - Feature Layer (2 Features)\n    \u2193\nDomain Layer - UseCase Layer (7 UseCases)\n    \u2193\nData &amp; Infrastructure Layer - Repository Layer (2 Repositories)\n    \u2193\nData &amp; Infrastructure Layer - Client Layer (3 Clients)\n    \u2193\nData &amp; Infrastructure Layer - API Layer (2 APIs)\n</code></pre> <p>Domain Model Layer \u88ab Repository Layer \u4f7f\u7528\uff08\u4e0d\u4f5c\u70ba participant\uff09</p> <p>Protocol Layer \u7531 UseCase Layer \u4f9d\u8cf4\uff0cAdapter Implementation \u5728 Main App \u4e2d\u5be6\u73fe\u4e26\u4f7f\u7528 External Packages</p>"},{"location":"02_Architecture/01_clean_architecture_diagram/#_4","title":"\u8a73\u7d30\u67b6\u69cb\u5716","text":"<p>\u76f8\u95dc\u6587\u4ef6\uff1aHLD UML</p> <pre><code>flowchart TD\n    subgraph UILayer[\"UI Layer\"]\n        RaceDetailView[\"RaceDetailView\"]\n        PrematchCommentView[\"PrematchCommentView\"]\n        LiveDetailView[\"LiveDetailView\"]\n    end\n\n    subgraph DomainLayer[\"Domain Layer\"]\n        subgraph FeatureLayer[\"Feature Layer\"]\n            PrematchCommentFeature[\"PrematchCommentFeature\"]\n            LiveChatFeature[\"LiveChatFeature\"]\n        end\n        subgraph UseCaseLayer[\"UseCase Layer\"]\n            ReloadCommentListUseCase[\"ReloadCommentListUseCase\"]\n            PublishCommentUseCase[\"PublishCommentUseCase\"]\n            ToggleLikeUseCase[\"ToggleLikeUseCase\"]\n            LoadRepliesUseCase[\"LoadRepliesUseCase\"]\n            NavigateToProfileUseCase[\"NavigateToProfileUseCase\"]\n            SendChatMessageUseCase[\"SendChatMessageUseCase\"]\n            JoinChatroomUseCase[\"JoinChatroomUseCase\"]\n            LeaveChatroomUseCase[\"LeaveChatroomUseCase\"]\n            BlockUserUseCase[\"BlockUserUseCase\"]\n        end\n    end\n\n    subgraph DataInfraLayer[\"Data &amp; Infrastructure Layer\"]\n        subgraph RepositoryLayer[\"Repository Layer\"]\n            PrematchCommentRepository[\"PrematchCommentRepository\"]\n            LiveChatRepository[\"LiveChatRepository\"]\n        end\n        subgraph ClientLayer[\"Client Layer\"]\n            PrematchCommentClient[\"PrematchCommentClient (HTTP)\"]\n            LiveChatClient[\"LiveChatClient (HTTP)\"]\n            ChatWebSocketClient[\"ChatWebSocketClient (WebSocket)\"]\n        end\n        subgraph APILayer[\"API Layer\"]\n            PrematchCommentAPI[\"PrematchCommentAPI\"]\n            ChatAPI[\"ChatAPI\"]\n        end\n    end\n\n    subgraph DomainModelLayer[\"Domain Model Layer\"]\n        Comment[\"Comment (Entity)\"]\n        CommentMeta[\"CommentMeta (Entity)\"]\n        UserInfo[\"UserInfo (Entity)\"]\n        Message[\"Message (Entity)\"]\n        ChatroomInfo[\"ChatroomInfo (Entity)\"]\n        SortMode[\"SortMode (Value Object)\"]\n        Cursor[\"Cursor (Value Object)\"]\n        PagingInfo[\"PagingInfo (Value Object)\"]\n    end\n\n    subgraph ProtocolLayer[\"Protocol Layer\"]\n        FComSharedFlowAdapterProtocol[\"&amp;lt;FComSharedFlowAdapter&amp;gt;\"]\n        PersonalPageAdapterProtocol[\"&amp;lt;PersonalPageAdapter&amp;gt;\"]\n        EventStatusNotifiableProtocol[\"&amp;lt;EventStatusNotifiable&amp;gt;\"]\n    end\n\n    subgraph ExternalPackages[\"External Packages\"]\n        FactsCenterPackage[\"FactsCenter Package (External)\"]\n        PersonalPagePackage[\"PersonalPage Package (External)\"]\n        FComSharedFlowPackage[\"FComSharedFlow Package (External)\"]\n    end\n\n    %% UI to Feature\n    RaceDetailView --&gt; PrematchCommentFeature\n    PrematchCommentView --&gt; PrematchCommentFeature\n    LiveDetailView --&gt; LiveChatFeature\n\n    %% Feature to UseCase\n    PrematchCommentFeature --&gt; ReloadCommentListUseCase\n    PrematchCommentFeature --&gt; PublishCommentUseCase\n    PrematchCommentFeature --&gt; ToggleLikeUseCase\n    PrematchCommentFeature --&gt; LoadRepliesUseCase\n    PrematchCommentFeature --&gt; NavigateToProfileUseCase\n    LiveChatFeature --&gt; SendChatMessageUseCase\n    LiveChatFeature --&gt; JoinChatroomUseCase\n    LiveChatFeature --&gt; LeaveChatroomUseCase\n    LiveChatFeature --&gt; NavigateToProfileUseCase\n    LiveChatFeature --&gt; BlockUserUseCase\n\n    %% UseCase to Repository\n    ReloadCommentListUseCase --&gt; PrematchCommentRepository\n    PublishCommentUseCase --&gt; PrematchCommentRepository\n    ToggleLikeUseCase --&gt; PrematchCommentRepository\n    LoadRepliesUseCase --&gt; PrematchCommentRepository\n    SendChatMessageUseCase --&gt; LiveChatRepository\n    JoinChatroomUseCase --&gt; LiveChatRepository\n    LeaveChatroomUseCase --&gt; LiveChatRepository\n\n    %% Repository to Client\n    PrematchCommentRepository --&gt; PrematchCommentClient\n    LiveChatRepository --&gt; LiveChatClient\n    LiveChatRepository --&gt; ChatWebSocketClient\n\n    %% Client to API\n    PrematchCommentClient --&gt; PrematchCommentAPI\n    LiveChatClient --&gt; ChatAPI\n    ChatWebSocketClient --&gt; ChatAPI\n\n    %% Repository uses Domain Model\n    PrematchCommentRepository -.-&gt;|uses| Comment\n    PrematchCommentRepository -.-&gt;|uses| CommentMeta\n    PrematchCommentRepository -.-&gt;|uses| UserInfo\n    PrematchCommentRepository -.-&gt;|uses| SortMode\n    PrematchCommentRepository -.-&gt;|uses| Cursor\n    PrematchCommentRepository -.-&gt;|uses| PagingInfo\n    LiveChatRepository -.-&gt;|uses| Message\n    LiveChatRepository -.-&gt;|uses| ChatroomInfo\n\n    %% UseCase to Protocol\n    PublishCommentUseCase --&gt; FComSharedFlowAdapterProtocol\n    PublishCommentUseCase --&gt; PersonalPageAdapterProtocol\n    SendChatMessageUseCase --&gt; FComSharedFlowAdapterProtocol\n    SendChatMessageUseCase --&gt; PersonalPageAdapterProtocol\n    ToggleLikeUseCase --&gt; PersonalPageAdapterProtocol\n    NavigateToProfileUseCase --&gt; PersonalPageAdapterProtocol\n    PrematchCommentFeature --&gt; EventStatusNotifiableProtocol\n\n    %% Protocol to External Package (Adapter Implementation in Main App)\n    FComSharedFlowAdapterProtocol -.-&gt;|implements| FComSharedFlowPackage\n    PersonalPageAdapterProtocol -.-&gt;|implements| PersonalPagePackage\n    EventStatusNotifiableProtocol -.-&gt;|implements| FactsCenterPackage\n\n    %% Styling\n    classDef uiLayer fill:#CFE8FF\n    classDef domainLayer fill:#FFFACD\n    classDef protocolLayer fill:#FFE4E1,stroke:#FF6B6B,stroke-width:2px\n    classDef repositoryLayer fill:#E8F4F8\n    classDef clientLayer fill:#F0F8E8\n    classDef apiLayer fill:#FFF8E8\n    classDef domainModel fill:#E6E6FA\n    classDef externalPackage fill:#E6F3FF\n\n    class RaceDetailView,PrematchCommentView,LiveDetailView uiLayer\n    class PrematchCommentFeature,LiveChatFeature,ReloadCommentListUseCase,PublishCommentUseCase,ToggleLikeUseCase,LoadRepliesUseCase,NavigateToProfileUseCase,SendChatMessageUseCase,JoinChatroomUseCase,LeaveChatroomUseCase,BlockUserUseCase domainLayer\n    class FComSharedFlowAdapterProtocol,PersonalPageAdapterProtocol,EventStatusNotifiableProtocol protocolLayer\n    class PrematchCommentRepository,LiveChatRepository repositoryLayer\n    class PrematchCommentClient,LiveChatClient,ChatWebSocketClient clientLayer\n    class PrematchCommentAPI,ChatAPI apiLayer\n    class Comment,CommentMeta,UserInfo,Message,ChatroomInfo,SortMode,Cursor,PagingInfo domainModel\n    class FactsCenterPackage,PersonalPagePackage,FComSharedFlowPackage externalPackage</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>flowchart TD\n    subgraph UILayer[\"UI Layer\"]\n        RaceDetailView[\"RaceDetailView\"]\n        PrematchCommentView[\"PrematchCommentView\"]\n        LiveDetailView[\"LiveDetailView\"]\n    end\n\n    subgraph DomainLayer[\"Domain Layer\"]\n        subgraph FeatureLayer[\"Feature Layer\"]\n            PrematchCommentFeature[\"PrematchCommentFeature\"]\n            LiveChatFeature[\"LiveChatFeature\"]\n        end\n        subgraph UseCaseLayer[\"UseCase Layer\"]\n            ReloadCommentListUseCase[\"ReloadCommentListUseCase\"]\n            PublishCommentUseCase[\"PublishCommentUseCase\"]\n            ToggleLikeUseCase[\"ToggleLikeUseCase\"]\n            LoadRepliesUseCase[\"LoadRepliesUseCase\"]\n            NavigateToProfileUseCase[\"NavigateToProfileUseCase\"]\n            SendChatMessageUseCase[\"SendChatMessageUseCase\"]\n            JoinChatroomUseCase[\"JoinChatroomUseCase\"]\n            LeaveChatroomUseCase[\"LeaveChatroomUseCase\"]\n            BlockUserUseCase[\"BlockUserUseCase\"]\n        end\n    end\n\n    subgraph DataInfraLayer[\"Data &amp; Infrastructure Layer\"]\n        subgraph RepositoryLayer[\"Repository Layer\"]\n            PrematchCommentRepository[\"PrematchCommentRepository\"]\n            LiveChatRepository[\"LiveChatRepository\"]\n        end\n        subgraph ClientLayer[\"Client Layer\"]\n            PrematchCommentClient[\"PrematchCommentClient (HTTP)\"]\n            LiveChatClient[\"LiveChatClient (HTTP)\"]\n            ChatWebSocketClient[\"ChatWebSocketClient (WebSocket)\"]\n        end\n        subgraph APILayer[\"API Layer\"]\n            PrematchCommentAPI[\"PrematchCommentAPI\"]\n            ChatAPI[\"ChatAPI\"]\n        end\n    end\n\n    subgraph DomainModelLayer[\"Domain Model Layer\"]\n        Comment[\"Comment (Entity)\"]\n        CommentMeta[\"CommentMeta (Entity)\"]\n        UserInfo[\"UserInfo (Entity)\"]\n        Message[\"Message (Entity)\"]\n        ChatroomInfo[\"ChatroomInfo (Entity)\"]\n        SortMode[\"SortMode (Value Object)\"]\n        Cursor[\"Cursor (Value Object)\"]\n        PagingInfo[\"PagingInfo (Value Object)\"]\n    end\n\n    subgraph ProtocolLayer[\"Protocol Layer\"]\n        FComSharedFlowAdapterProtocol[\"&amp;lt;FComSharedFlowAdapter&amp;gt;\"]\n        PersonalPageAdapterProtocol[\"&amp;lt;PersonalPageAdapter&amp;gt;\"]\n        EventStatusNotifiableProtocol[\"&amp;lt;EventStatusNotifiable&amp;gt;\"]\n    end\n\n    subgraph ExternalPackages[\"External Packages\"]\n        FactsCenterPackage[\"FactsCenter Package (External)\"]\n        PersonalPagePackage[\"PersonalPage Package (External)\"]\n        FComSharedFlowPackage[\"FComSharedFlow Package (External)\"]\n    end\n\n    %% UI to Feature\n    RaceDetailView --&gt; PrematchCommentFeature\n    PrematchCommentView --&gt; PrematchCommentFeature\n    LiveDetailView --&gt; LiveChatFeature\n\n    %% Feature to UseCase\n    PrematchCommentFeature --&gt; ReloadCommentListUseCase\n    PrematchCommentFeature --&gt; PublishCommentUseCase\n    PrematchCommentFeature --&gt; ToggleLikeUseCase\n    PrematchCommentFeature --&gt; LoadRepliesUseCase\n    PrematchCommentFeature --&gt; NavigateToProfileUseCase\n    LiveChatFeature --&gt; SendChatMessageUseCase\n    LiveChatFeature --&gt; JoinChatroomUseCase\n    LiveChatFeature --&gt; LeaveChatroomUseCase\n    LiveChatFeature --&gt; NavigateToProfileUseCase\n    LiveChatFeature --&gt; BlockUserUseCase\n\n    %% UseCase to Repository\n    ReloadCommentListUseCase --&gt; PrematchCommentRepository\n    PublishCommentUseCase --&gt; PrematchCommentRepository\n    ToggleLikeUseCase --&gt; PrematchCommentRepository\n    LoadRepliesUseCase --&gt; PrematchCommentRepository\n    SendChatMessageUseCase --&gt; LiveChatRepository\n    JoinChatroomUseCase --&gt; LiveChatRepository\n    LeaveChatroomUseCase --&gt; LiveChatRepository\n\n    %% Repository to Client\n    PrematchCommentRepository --&gt; PrematchCommentClient\n    LiveChatRepository --&gt; LiveChatClient\n    LiveChatRepository --&gt; ChatWebSocketClient\n\n    %% Client to API\n    PrematchCommentClient --&gt; PrematchCommentAPI\n    LiveChatClient --&gt; ChatAPI\n    ChatWebSocketClient --&gt; ChatAPI\n\n    %% Repository uses Domain Model\n    PrematchCommentRepository -.-&gt;|uses| Comment\n    PrematchCommentRepository -.-&gt;|uses| CommentMeta\n    PrematchCommentRepository -.-&gt;|uses| UserInfo\n    PrematchCommentRepository -.-&gt;|uses| SortMode\n    PrematchCommentRepository -.-&gt;|uses| Cursor\n    PrematchCommentRepository -.-&gt;|uses| PagingInfo\n    LiveChatRepository -.-&gt;|uses| Message\n    LiveChatRepository -.-&gt;|uses| ChatroomInfo\n\n    %% UseCase to Protocol\n    PublishCommentUseCase --&gt; FComSharedFlowAdapterProtocol\n    PublishCommentUseCase --&gt; PersonalPageAdapterProtocol\n    SendChatMessageUseCase --&gt; FComSharedFlowAdapterProtocol\n    SendChatMessageUseCase --&gt; PersonalPageAdapterProtocol\n    ToggleLikeUseCase --&gt; PersonalPageAdapterProtocol\n    NavigateToProfileUseCase --&gt; PersonalPageAdapterProtocol\n    PrematchCommentFeature --&gt; EventStatusNotifiableProtocol\n\n    %% Protocol to External Package (Adapter Implementation in Main App)\n    FComSharedFlowAdapterProtocol -.-&gt;|implements| FComSharedFlowPackage\n    PersonalPageAdapterProtocol -.-&gt;|implements| PersonalPagePackage\n    EventStatusNotifiableProtocol -.-&gt;|implements| FactsCenterPackage\n\n    %% Styling\n    classDef uiLayer fill:#CFE8FF\n    classDef domainLayer fill:#FFFACD\n    classDef protocolLayer fill:#FFE4E1,stroke:#FF6B6B,stroke-width:2px\n    classDef repositoryLayer fill:#E8F4F8\n    classDef clientLayer fill:#F0F8E8\n    classDef apiLayer fill:#FFF8E8\n    classDef domainModel fill:#E6E6FA\n    classDef externalPackage fill:#E6F3FF\n\n    class RaceDetailView,PrematchCommentView,LiveDetailView uiLayer\n    class PrematchCommentFeature,LiveChatFeature,ReloadCommentListUseCase,PublishCommentUseCase,ToggleLikeUseCase,LoadRepliesUseCase,NavigateToProfileUseCase,SendChatMessageUseCase,JoinChatroomUseCase,LeaveChatroomUseCase,BlockUserUseCase domainLayer\n    class FComSharedFlowAdapterProtocol,PersonalPageAdapterProtocol,EventStatusNotifiableProtocol protocolLayer\n    class PrematchCommentRepository,LiveChatRepository repositoryLayer\n    class PrematchCommentClient,LiveChatClient,ChatWebSocketClient clientLayer\n    class PrematchCommentAPI,ChatAPI apiLayer\n    class Comment,CommentMeta,UserInfo,Message,ChatroomInfo,SortMode,Cursor,PagingInfo domainModel\n    class FactsCenterPackage,PersonalPagePackage,FComSharedFlowPackage externalPackage\n</code></pre>"},{"location":"02_Architecture/01_clean_architecture_diagram/#_5","title":"\u5c64\u7d1a\u8aaa\u660e","text":"Layer \u5b50\u5c64\u7d1a \u8077\u8cac \u5305\u542b\u6a21\u7d44 UI Layer - 1. \u63a5\u6536\u4f7f\u7528\u8005\u4e92\u52d52. \u986f\u793a UI3. \u89f8\u767c Feature Action 1. RaceDetailView2. PrematchCommentView3. LiveDetailView Domain Layer Feature Layer 1. UI orchestration2. Action \u8f49\u63db3. State \u7ba1\u7406 1. PrematchCommentFeature2. LiveChatFeature Domain Layer UseCase Layer 1. \u57f7\u884c\u5546\u696d\u908f\u8f2f2. \u6574\u5408 Repository3. \u8655\u7406\u8de8 Feature \u7684\u5171\u7528\u908f\u8f2f4. \u8655\u7406\u8def\u7531\u8df3\u8f49\u908f\u8f2f 1. ReloadCommentListUseCase2. PublishCommentUseCase3. ToggleLikeUseCase4. LoadRepliesUseCase5. NavigateToProfileUseCase6. SendChatMessageUseCase7. JoinChatroomUseCase8. LeaveChatroomUseCase9. BlockUserUseCase Data &amp; Infrastructure Layer Repository Layer 1. Domain \u8cc7\u6599\u4f86\u6e90\u7684\u62bd\u8c61\u4ecb\u97622. \u547c\u53eb Client \u53d6\u5f97\u8cc7\u65993. DTO \u2192 Domain Model \u8f49\u63db 1. PrematchCommentRepository2. LiveChatRepository Data &amp; Infrastructure Layer Client Layer 1. HTTP \u901a\u8a0a2. WebSocket \u901a\u8a0a3. Request / Response \u7de8\u89e3\u78bc 1. PrematchCommentClient (HTTP)2. LiveChatClient (HTTP)3. ChatWebSocketClient (WebSocket) Data &amp; Infrastructure Layer API Layer 1. \u5b9a\u7fa9\u5f8c\u7aef endpoint2. URL / HTTP method / payload \u5f62\u72c0 1. PrematchCommentAPI2. ChatAPI Domain Model Layer Entity 1. \u6709\u552f\u4e00\u8b58\u5225\u78bc\u7684\u696d\u52d9\u7269\u4ef62. \u7d14\u8cc7\u6599\u7d50\u69cb\uff0c\u7121\u5546\u696d\u908f\u8f2f 1. Comment2. CommentMeta3. UserInfo4. Message5. ChatroomInfo Domain Model Layer Value Object 1. \u6c92\u6709\u552f\u4e00\u8b58\u5225\u78bc\uff0c\u900f\u904e\u503c\u6bd4\u8f032. \u5b8c\u5168\u4e0d\u53ef\u8b8a 1. SortMode2. Cursor3. PagingInfo"},{"location":"02_Architecture/01_clean_architecture_diagram/#domain-layer-feature-usecase","title":"Domain Layer \u8a2d\u8a08\u539f\u5247\uff1aFeature \u8207 UseCase \u7684\u62c6\u5206","text":""},{"location":"02_Architecture/01_clean_architecture_diagram/#feature-layer-usecase-layer","title":"Feature Layer \u8207 UseCase Layer \u7684\u8077\u8cac\u5206\u96e2","text":"<p>Feature Layer\uff08Thin Reducer\uff09\uff1a - \u2705 \u512a\u9ede\uff1a   - \u4fdd\u6301 Feature \u8f15\u91cf\uff0c\u5c08\u6ce8\u65bc UI orchestration   - \u6613\u65bc\u6e2c\u8a66\u548c\u7dad\u8b77   - \u5546\u696d\u908f\u8f2f\u96c6\u4e2d\u5728 UseCase\uff0c\u8077\u8cac\u6e05\u6670 - \u26a0\ufe0f \u7f3a\u9ede\uff1a   - \u9700\u8981\u984d\u5916\u7684 UseCase \u5c64\uff0c\u589e\u52a0\u67b6\u69cb\u8907\u96dc\u5ea6   - \u7c21\u55ae\u64cd\u4f5c\u4e5f\u9700\u8981\u7d93\u904e UseCase\uff0c\u53ef\u80fd\u904e\u5ea6\u8a2d\u8a08</p> <p>UseCase Layer\uff08Business Logic\uff09\uff1a - \u2705 \u512a\u9ede\uff1a   - \u5546\u696d\u908f\u8f2f\u96c6\u4e2d\u7ba1\u7406\uff0c\u6613\u65bc\u6e2c\u8a66   - \u53ef\u91cd\u7528\u6027\u9ad8\uff0c\u591a\u500b Feature \u53ef\u5171\u7528 UseCase   - \u7b26\u5408 Clean Architecture \u539f\u5247 - \u26a0\ufe0f \u7f3a\u9ede\uff1a   - \u7c21\u55ae\u64cd\u4f5c\u4e5f\u9700\u8981\u5efa\u7acb UseCase\uff0c\u53ef\u80fd\u589e\u52a0\u4ee3\u78bc\u91cf   - \u9700\u8981\u660e\u78ba\u7684 Input/Output Model \u5b9a\u7fa9</p>"},{"location":"02_Architecture/01_clean_architecture_diagram/#_6","title":"\u62c6\u5206\u539f\u5247","text":"<ol> <li>Feature \u8ca0\u8cac\uff1a</li> <li>UI event \u8f49\u63db\u70ba Action</li> <li>Action \u8f49\u63db\u70ba UseCase Input</li> <li>UseCase Output \u8f49\u63db\u70ba State \u66f4\u65b0</li> <li> <p>\u4e0d\u5305\u542b\u4efb\u4f55\u5546\u696d\u908f\u8f2f</p> </li> <li> <p>UseCase \u8ca0\u8cac\uff1a</p> </li> <li>\u6240\u6709\u5546\u696d\u908f\u8f2f</li> <li>\u8cc7\u6599\u9a57\u8b49\u8207\u6d41\u7a0b\u63a7\u5236</li> <li>Repository \u6574\u5408</li> <li>\u8de8 Feature \u5171\u7528\u908f\u8f2f</li> <li> <p>\u8def\u7531\u8df3\u8f49\u908f\u8f2f</p> </li> <li> <p>\u4f55\u6642\u9700\u8981 UseCase\uff1a</p> </li> <li>\u2705 \u6d89\u53ca\u5546\u696d\u908f\u8f2f\u6216\u9a57\u8b49</li> <li>\u2705 \u9700\u8981\u6574\u5408\u591a\u500b Repository</li> <li>\u2705 \u9700\u8981\u8655\u7406\u8de8 Feature \u5171\u7528\u908f\u8f2f</li> <li>\u2705 \u9700\u8981\u8def\u7531\u8df3\u8f49</li> <li>\u274c \u7d14 UI \u72c0\u614b\u66f4\u65b0\uff08\u53ef\u5728 Feature \u4e2d\u8655\u7406\uff09</li> </ol>"},{"location":"02_Architecture/01_clean_architecture_diagram/#_7","title":"\u4f9d\u8cf4\u65b9\u5411","text":"\u4f9d\u8cf4\u65b9\u5411 \u8aaa\u660e \u95dc\u4fc2\u985e\u578b UI \u2192 Feature View \u89f8\u767c Feature Action \u4f9d\u8cf4 Feature \u2192 UseCase Feature \u547c\u53eb UseCase \u57f7\u884c\u5546\u696d\u908f\u8f2f \u4f9d\u8cf4 UseCase \u2192 Repository UseCase \u547c\u53eb Repository \u53d6\u5f97\u8cc7\u6599 \u4f9d\u8cf4 Repository \u2192 Client Repository \u547c\u53eb Client \u9032\u884c\u7db2\u8def\u901a\u8a0a \u4f9d\u8cf4 Client \u2192 API Client \u547c\u53eb API \u5b9a\u7fa9\u7684 endpoint \u4f9d\u8cf4 Repository \u2192 Domain Model Repository \u4f7f\u7528 Domain Model \u4f5c\u70ba\u56de\u50b3\u985e\u578b \u4f7f\u7528 UseCase \u2192 Protocol UseCase \u4f9d\u8cf4 Protocol \u4f86\u4f7f\u7528\u5916\u90e8 Package \u529f\u80fd \u4f9d\u8cf4 Protocol \u2192 External Package Protocol \u7684\u5be6\u73fe\uff08Adapter\uff09\u4f7f\u7528 External Package \u5be6\u73fe"},{"location":"02_Architecture/01_clean_architecture_diagram/#_8","title":"\u7981\u6b62\u7684\u4f9d\u8cf4\u65b9\u5411","text":"<p>\u4ee5\u4e0b\u4f9d\u8cf4\u65b9\u5411\u4e00\u5f8b\u7981\u6b62\uff1a</p> <ul> <li>\u274c Feature \u76f4\u63a5\u547c\u53eb Repository \u6216 Client</li> <li>\u274c UseCase \u4f9d\u8cf4 UI / View / Feature</li> <li>\u274c Repository \u4f9d\u8cf4 UI / Feature / UseCase</li> <li>\u274c Client \u76f4\u63a5\u88ab View / Feature \u4f7f\u7528</li> <li>\u274c API \u88ab UseCase / Feature \u76f4\u63a5\u547c\u53eb</li> </ul>"},{"location":"02_Architecture/01_clean_architecture_diagram/#protocol-layer","title":"Protocol Layer \u8aaa\u660e","text":"Protocol \u5b9a\u7fa9\u4f4d\u7f6e \u88ab\u4f7f\u7528\u7684 UseCase \u5be6\u73fe\u4f4d\u7f6e \u4f7f\u7528\u7684 External Package &lt;FComSharedFlowAdapter&gt; PrematchComment PackageLiveChat Package PublishCommentUseCaseSendChatMessageUseCase Main App FComSharedFlow Package &lt;PersonalPageAdapter&gt; PrematchComment PackageLiveChat Package PublishCommentUseCaseSendChatMessageUseCaseToggleLikeUseCaseNavigateToProfileUseCase Main App PersonalPage Package &lt;EventStatusNotifiable&gt; PrematchComment Package PrematchCommentFeature Main App FactsCenter Package"},{"location":"02_Architecture/01_clean_architecture_diagram/#package","title":"\u5916\u90e8 Package \u6574\u5408","text":"External Package \u985e\u578b \u4f7f\u7528\u5834\u666f \u6574\u5408\u65b9\u5f0f FactsCenter Package External Event Status \u8a02\u95b1\u8207\u901a\u77e5 \u900f\u904e &lt;EventStatusNotifiable&gt; Protocol\uff08Feature \u5c64\u63a5\u6536\u901a\u77e5\uff09 PersonalPage Package External \u767b\u5165\u6d41\u7a0b \u900f\u904e &lt;PersonalPageAdapter&gt; Protocol\uff08UseCase \u5c64\u4f7f\u7528\uff09 FComSharedFlow Package External Nickname \u5efa\u7acb \u900f\u904e &lt;FComSharedFlowAdapter&gt; Protocol\uff08UseCase \u5c64\u4f7f\u7528\uff09 <p>\u6ce8\u610f\uff1a - Protocol \u5b9a\u7fa9\u5728 PrematchComment Package \u6216 LiveChat Package \u4e2d - Protocol \u7684\u5be6\u73fe\uff08Adapter Implementation\uff09\u653e\u5728 Main App \u4e2d - UseCase \u4f9d\u8cf4 Protocol\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u4f9d\u8cf4 External Package - FactsCenter Package \u7684\u7279\u6b8a\u60c5\u6cc1\uff1aEvent Status \u901a\u77e5\u662f\u5f9e\u5916\u90e8\u4e3b\u52d5\u63a8\u9001\uff0c\u56e0\u6b64 Feature \u5c64\u5be6\u73fe Protocol \u4f86\u63a5\u6536\u901a\u77e5</p>"},{"location":"02_Architecture/01_clean_architecture_diagram/#_9","title":"\u6a21\u7d44\u8aaa\u660e","text":""},{"location":"02_Architecture/01_clean_architecture_diagram/#ui-layer","title":"UI Layer \u6a21\u7d44","text":"\u6a21\u7d44\u540d\u7a31 \u8077\u8cac RaceDetailView \u8cfd\u4e8b\u8a73\u60c5\u9801\u9762\uff0c\u986f\u793a\u8cfd\u4e8b\u8cc7\u8a0a\u548c\u7559\u8a00\u7d71\u8a08 PrematchCommentView \u8cfd\u524d\u7559\u8a00\u9801\u9762\uff0c\u986f\u793a\u7559\u8a00\u5217\u8868\u548c\u4e92\u52d5\u529f\u80fd LiveDetailView \u76f4\u64ad\u8a73\u60c5\u9801\u9762\uff0c\u986f\u793a\u5373\u6642\u804a\u5929\u5ba4"},{"location":"02_Architecture/01_clean_architecture_diagram/#domain-layer","title":"Domain Layer \u6a21\u7d44","text":"\u6a21\u7d44\u540d\u7a31 \u5c64\u7d1a \u8077\u8cac PrematchCommentFeature Feature Layer TCA Reducer\uff0c\u7ba1\u7406\u8a55\u8ad6\u76f8\u95dc\u7684 State \u548c Action LiveChatFeature Feature Layer TCA Reducer\uff0c\u7ba1\u7406\u804a\u5929\u5ba4\u76f8\u95dc\u7684 State \u548c Action ReloadCommentListUseCase UseCase Layer \u8f09\u5165\u8a55\u8ad6\u5217\u8868\uff08\u652f\u63f4 top/newest \u6a21\u5f0f\uff09 PublishCommentUseCase UseCase Layer \u767c\u9001\u7559\u8a00\u6216\u56de\u8986 ToggleLikeUseCase UseCase Layer \u5207\u63db Like \u72c0\u614b\uff08Optimistic UI\uff09 LoadRepliesUseCase UseCase Layer \u8f09\u5165\u56de\u8986\u5217\u8868\uff08\u5206\u9801\uff09 NavigateToProfileUseCase UseCase Layer \u8655\u7406\u8df3\u8f49\u5230\u500b\u4eba\u4e3b\u9801\u7684\u908f\u8f2f SendChatMessageUseCase UseCase Layer \u767c\u9001\u804a\u5929\u8a0a\u606f JoinChatroomUseCase UseCase Layer \u52a0\u5165\u804a\u5929\u5ba4\u4e26\u8f09\u5165\u6b77\u53f2\u8a0a\u606f LeaveChatroomUseCase UseCase Layer \u96e2\u958b\u804a\u5929\u5ba4\u4e26\u6e05\u7406\u5feb\u53d6 BlockUserUseCase UseCase Layer \u8655\u7406\u5c01\u9396\u7528\u6236\u7684\u908f\u8f2f"},{"location":"02_Architecture/01_clean_architecture_diagram/#usecase","title":"UseCase \u62c6\u5206\u8207\u5408\u4f75\u539f\u5247","text":""},{"location":"02_Architecture/01_clean_architecture_diagram/#usecase_1","title":"\u62c6\u5206\u539f\u5247\uff08\u4f55\u6642\u61c9\u8a72\u62c6\u5206 UseCase\uff09","text":"<p>\u4ee5\u4e0b\u60c5\u6cc1\u5fc5\u9808\u62c6\u5206\u70ba\u4e0d\u540c\u7684 UseCase\uff1a</p> <ol> <li>Domain \u898f\u5247\u4e0d\u540c</li> <li>\u4e0d\u540c\u7684\u9a57\u8b49\u908f\u8f2f</li> <li>\u4e0d\u540c\u7684\u524d\u5f8c\u689d\u4ef6</li> <li> <p>\u4e0d\u540c\u7684\u98a8\u96aa\u63a7\u7ba1\uff08\u5982\u91d1\u878d\u4ea4\u6613 vs \u5167\u5bb9\u7de8\u8f2f\uff09</p> </li> <li> <p>\u526f\u4f5c\u7528\uff08Side-effect\uff09\u4e0d\u540c</p> </li> <li>\u5beb\u5165\u4e0d\u540c\u7684\u8cc7\u6e90</li> <li>\u89f8\u767c\u4e0d\u540c\u7684\u901a\u77e5\u6216\u4e8b\u4ef6</li> <li> <p>\u8b8a\u66f4\u4e0d\u540c\u7684\u4e0a\u4e0b\u6587\u72c0\u614b</p> </li> <li> <p>\u8de8 Bounded Context</p> </li> <li>\u4e0d\u540c\u7684 Domain boundary</li> <li> <p>\u4e0d\u540c\u7684\u696d\u52d9\u9818\u57df\uff08\u5982\u4f7f\u7528\u8005 Domain vs \u8a02\u55ae Domain\uff09</p> </li> <li> <p>\u6280\u8853\u6a21\u578b\u4e0d\u540c</p> </li> <li>HTTP API vs WebSocket</li> <li>Local Storage vs Remote API</li> <li>Background Task vs Real-time</li> </ol>"},{"location":"02_Architecture/01_clean_architecture_diagram/#usecase_2","title":"\u5408\u4f75\u539f\u5247\uff08\u4f55\u6642\u61c9\u8a72\u5408\u4f75 UseCase\uff09","text":"<p>\u4ee5\u4e0b\u60c5\u6cc1\u61c9\u8a72\u5408\u4f75\u70ba\u540c\u4e00\u500b UseCase\uff1a</p> <ol> <li>\u540c\u4e00\u8cc7\u6e90\u3001\u540c\u4e00\u6280\u8853\u884c\u70ba</li> <li>\u64cd\u4f5c\u7684 Domain \u8cc7\u6e90\u76f8\u540c\uff08\u5982\u540c\u4e00 List\u3001\u540c\u4e00 Item\uff09</li> <li>\u884c\u70ba\u578b\u614b\u76f8\u540c\uff08\u90fd\u662f\u8b80\u53d6\u6216\u90fd\u662f\u4fee\u6539\uff09</li> <li> <p>\u610f\u5716\u4e00\u81f4\uff0c\u50c5 UI \u89f8\u767c\u65b9\u5f0f\u4e0d\u540c\uff08init\u3001refresh\u3001switch\u3001retry\uff09</p> </li> <li> <p>\u4f7f\u7528 Input Model \u8868\u9054\u5dee\u7570</p> </li> <li>\u900f\u904e <code>triggerType</code>\uff08init / refresh / switch / retry\uff09\u5340\u5206</li> <li>\u900f\u904e <code>mode</code>\uff08\u6392\u5e8f\u65b9\u5f0f\u3001\u4f86\u6e90\uff09\u5340\u5206</li> <li>\u900f\u904e <code>filterType</code>\u3001<code>contextInfo</code> \u7b49\u6b04\u4f4d\u5340\u5206</li> </ol>"},{"location":"02_Architecture/01_clean_architecture_diagram/#_10","title":"\u547d\u540d\u539f\u5247","text":"<p>\u2705 \u6b63\u78ba\u547d\u540d\uff08\u4ee5 Domain \u884c\u70ba\u547d\u540d\uff09\uff1a - <code>ReloadCommentListUseCase</code>\uff08\u8f09\u5165\u8a55\u8ad6\u5217\u8868\uff09 - <code>PublishCommentUseCase</code>\uff08\u767c\u9001\u7559\u8a00\uff09 - <code>ToggleLikeUseCase</code>\uff08\u5207\u63db Like \u72c0\u614b\uff09 - <code>NavigateToProfileUseCase</code>\uff08\u8df3\u8f49\u500b\u4eba\u4e3b\u9801\uff09</p> <p>\u274c \u932f\u8aa4\u547d\u540d\uff08\u4ee5 UI \u884c\u70ba\u547d\u540d\uff09\uff1a - <code>InitLoadUseCase</code>\uff08\u61c9\u5408\u4f75\u5230 ReloadCommentListUseCase\uff09 - <code>RefreshButtonUseCase</code>\uff08\u61c9\u5408\u4f75\u5230 ReloadCommentListUseCase\uff09 - <code>TabSwitchUseCase</code>\uff08\u61c9\u5408\u4f75\u5230 ReloadCommentListUseCase\uff09</p>"},{"location":"02_Architecture/01_clean_architecture_diagram/#usecase_3","title":"\u672c\u5c08\u6848 UseCase \u62c6\u5206\u7bc4\u4f8b","text":"<p>\u5408\u4f75\u7bc4\u4f8b\uff1a - <code>ReloadCommentListUseCase</code>\uff1a\u5408\u4f75\u4e86\u521d\u59cb\u5316\u8f09\u5165\u3001\u624b\u52d5\u5237\u65b0\u3001\u5207\u63db\u6a19\u7c64\uff08top/newest\uff09\u7b49\u884c\u70ba\uff0c\u900f\u904e Input Model \u7684 <code>triggerType</code> \u548c <code>mode</code> \u5340\u5206</p> <p>\u62c6\u5206\u7bc4\u4f8b\uff1a - <code>PublishCommentUseCase</code> vs <code>ToggleLikeUseCase</code>\uff1a\u96d6\u7136\u90fd\u662f\u64cd\u4f5c Comment\uff0c\u4f46 Domain \u898f\u5247\u4e0d\u540c\uff08\u767c\u9001\u7559\u8a00 vs \u5207\u63db\u72c0\u614b\uff09\uff0c\u56e0\u6b64\u62c6\u5206 - <code>JoinChatroomUseCase</code> vs <code>LeaveChatroomUseCase</code>\uff1a\u96d6\u7136\u90fd\u662f\u804a\u5929\u5ba4\u64cd\u4f5c\uff0c\u4f46\u526f\u4f5c\u7528\u4e0d\u540c\uff08\u52a0\u5165\u4e26\u8f09\u5165\u6b77\u53f2\u8a0a\u606f vs \u96e2\u958b\u4e26\u6e05\u7406\u5feb\u53d6\uff09\uff0c\u56e0\u6b64\u62c6\u5206</p>"},{"location":"02_Architecture/01_clean_architecture_diagram/#data-infrastructure-layer","title":"Data &amp; Infrastructure Layer \u6a21\u7d44","text":"\u6a21\u7d44\u540d\u7a31 \u5c64\u7d1a \u8077\u8cac \u4f7f\u7528\u7684 Client / API PrematchCommentRepository Repository Layer Domain \u8cc7\u6599\u4f86\u6e90\u7684\u62bd\u8c61\u4ecb\u9762\uff08\u8a55\u8ad6\u76f8\u95dc\uff09 PrematchCommentClient \u2192 PrematchCommentAPI LiveChatRepository Repository Layer Domain \u8cc7\u6599\u4f86\u6e90\u7684\u62bd\u8c61\u4ecb\u9762\uff08\u804a\u5929\u5ba4\u76f8\u95dc\uff09 LiveChatClient \u2192 ChatAPIChatWebSocketClient \u2192 ChatAPI PrematchCommentClient Client Layer HTTP \u901a\u8a0a\uff08\u8a55\u8ad6\u76f8\u95dc\uff09 PrematchCommentAPI LiveChatClient Client Layer HTTP \u901a\u8a0a\uff08\u804a\u5929\u5ba4\u76f8\u95dc\uff09 ChatAPI ChatWebSocketClient Client Layer WebSocket \u901a\u8a0a\uff08\u5373\u6642\u8a0a\u606f\uff09 ChatAPI PrematchCommentAPI API Layer \u5f8c\u7aef endpoint \u5b9a\u7fa9\uff08\u8a55\u8ad6\u76f8\u95dc\uff09 - ChatAPI API Layer \u5f8c\u7aef endpoint \u5b9a\u7fa9\uff08\u804a\u5929\u5ba4\u76f8\u95dc\uff09 -"},{"location":"02_Architecture/01_clean_architecture_diagram/#domain-model-layer","title":"Domain Model Layer \u6a21\u7d44","text":"\u6a21\u7d44\u540d\u7a31 \u985e\u578b \u8077\u8cac Comment Entity \u7559\u8a00\u5be6\u9ad4\uff0c\u5305\u542b id\u3001content\u3001likeCount \u7b49 CommentMeta Entity \u7559\u8a00\u7d71\u8a08\u8cc7\u8a0a\u5be6\u9ad4\uff0c\u5305\u542b commentCount\u3001betCount \u7b49 UserInfo Entity \u7528\u6236\u8cc7\u8a0a\u5be6\u9ad4\uff0c\u5305\u542b id\u3001nickname \u7b49 Message Entity \u804a\u5929\u8a0a\u606f\u5be6\u9ad4\uff0c\u5305\u542b id\u3001content\u3001messageNo \u7b49 ChatroomInfo Entity \u804a\u5929\u5ba4\u8cc7\u8a0a\u5be6\u9ad4\uff0c\u5305\u542b chatroomId\u3001lastMessageNo \u7b49 SortMode Value Object \u6392\u5e8f\u6a21\u5f0f\uff08top / newest\uff09 Cursor Value Object \u5206\u9801\u6e38\u6a19 PagingInfo Value Object \u5206\u9801\u8cc7\u8a0a\uff0c\u5305\u542b hasMore\u3001nextCursor \u7b49"},{"location":"03_Module%20Responsibility/","title":"Module Responsibility \u7ae0\u7bc0\u8aaa\u660e","text":"<p>\u672c\u76ee\u9304\u5305\u542b TDD \u6587\u4ef6\u7684 Module Responsibility \u7ae0\u7bc0\uff0c\u5217\u51fa\u4e26\u8aaa\u660e\u6240\u6709\u6a21\u7d44\u7684\u8077\u8cac\u3002</p>"},{"location":"03_Module%20Responsibility/#_1","title":"\u6587\u4ef6\u5217\u8868","text":"<ul> <li><code>01_module_responsibility.md</code> - \u6a21\u7d44\u8077\u8cac\u8aaa\u660e</li> </ul>"},{"location":"03_Module%20Responsibility/#_2","title":"\u8aaa\u660e","text":"<p>Module Responsibility \u7ae0\u7bc0\u5305\u542b\uff1a</p> <ul> <li>Feature Modules\uff08Thin Reducer\uff09</li> <li>UseCase Modules</li> <li>Repository Modules</li> <li>Client Modules</li> <li>API Modules</li> <li>Shared Modules\uff08\u5982\u9069\u7528\uff09</li> </ul> <p>\u6240\u6709\u8aaa\u660e\u4f7f\u7528\u8868\u683c\u5448\u73fe\uff0c\u4ee5\u4fbf\u5feb\u901f\u67e5\u627e\u8207\u6bd4\u8f03\u3002</p>"},{"location":"03_Module%20Responsibility/01_module_responsibility/","title":"\u6a21\u7d44\u8077\u8cac\u8aaa\u660e","text":""},{"location":"03_Module%20Responsibility/01_module_responsibility/#feature-modules","title":"Feature Modules","text":"\u6a21\u7d44\u540d\u7a31 \u5c64\u7d1a \u8077\u8cac \u4f7f\u7528\u7684 UseCase \u4e0d\u5305\u542b PrematchCommentFeature Domain Layer - Feature Layer 1. UI orchestration\uff08\u5c07 UI event \u8f49\u6210 Action\uff092. \u5c07 Action \u8f49\u70ba UseCase Input3. \u547c\u53eb UseCase4. \u63a5\u6536 UseCase Output \u66f4\u65b0 State5. \u8655\u7406 Event Status \u901a\u77e5 1. ReloadCommentListUseCase2. PublishCommentUseCase3. ToggleLikeUseCase4. LoadRepliesUseCase5. NavigateToProfileUseCase 1. \u5546\u696d\u908f\u8f2f2. \u8cc7\u6599\u5b58\u53d6\u908f\u8f2f LiveChatFeature Domain Layer - Feature Layer 1. UI orchestration\uff08\u5c07 UI event \u8f49\u6210 Action\uff092. \u5c07 Action \u8f49\u70ba UseCase Input3. \u547c\u53eb UseCase4. \u63a5\u6536 UseCase Output \u66f4\u65b0 State5. \u7ba1\u7406 WebSocket \u9023\u7dda\u72c0\u614b 1. SendChatMessageUseCase2. JoinChatroomUseCase3. LeaveChatroomUseCase4. NavigateToProfileUseCase5. BlockUserUseCase 1. \u5546\u696d\u908f\u8f2f2. \u8cc7\u6599\u5b58\u53d6\u908f\u8f2f"},{"location":"03_Module%20Responsibility/01_module_responsibility/#usecase-modules","title":"UseCase Modules","text":"UseCase \u540d\u7a31 \u5c64\u7d1a \u8077\u8cac Input Model Output Model \u4f7f\u7528\u7684 Repository \u4f7f\u7528\u7684 Shared Feature ReloadCommentListUseCase Domain Layer - UseCase Layer 1. \u8f09\u5165\u7559\u8a00\u5217\u88682. \u652f\u63f4 top / newest \u6a21\u5f0f3. \u652f\u63f4\u521d\u59cb\u5316\u3001\u5237\u65b0\u3001\u5207\u63db\u6a19\u7c64\u7b49\u89f8\u767c\u65b9\u5f0f 1. <code>refId: String</code>2. <code>triggerType: TriggerType</code>\uff08init / refresh / switch\uff093. <code>mode: SortMode</code>\uff08top / newest\uff094. <code>cursor: Cursor?</code>\uff08\u53ef\u9078\uff09 1. <code>comments: [Comment]</code>2. <code>pagingInfo: PagingInfo?</code> PrematchCommentRepository - PublishCommentUseCase Domain Layer - UseCase Layer 1. \u767c\u9001\u7559\u8a00\u6216\u56de\u89862. \u6aa2\u67e5\u767b\u5165\u72c0\u614b\uff08\u900f\u904e Main App\uff093. \u6aa2\u67e5 nickname\uff08\u900f\u904e Main App\uff094. \u82e5\u7121 nickname \u5247\u8abf\u7528 FComSharedFlow Package \u5efa\u7acb 1. <code>refId: String</code>2. <code>content: String</code>3. <code>parentId: String?</code>\uff08\u53ef\u9078\uff0c\u7528\u65bc\u56de\u8986\uff09 1. <code>comment: Comment</code> PrematchCommentRepository 1. PersonalPage Package\uff08External\uff092. FComSharedFlow Package\uff08External\uff09 ToggleLikeUseCase Domain Layer - UseCase Layer 1. \u5207\u63db Like \u72c0\u614b2. \u6aa2\u67e5\u767b\u5165\u72c0\u614b\uff08\u900f\u904e Main App\uff093. Optimistic UI \u66f4\u65b04. \u540c\u6b65 Like \u72c0\u614b\u5230\u4f3a\u670d\u5668 1. <code>commentId: String</code> 1. <code>comment: Comment</code>\uff08\u66f4\u65b0\u5f8c\u7684 Comment\uff09 PrematchCommentRepository PersonalPage Package\uff08External\uff09 LoadRepliesUseCase Domain Layer - UseCase Layer 1. \u8f09\u5165\u56de\u8986\u5217\u88682. \u5206\u9801\u8f09\u5165\uff08\u6bcf\u6b21\u6700\u591a 5 \u7b46\uff093. \u4f7f\u7528 cursor \u6a5f\u5236\u8ffd\u8e64\u5206\u9801\u4f4d\u7f6e 1. <code>commentId: String</code>2. <code>cursor: Cursor?</code>\uff08\u53ef\u9078\uff09 1. <code>replies: [Comment]</code>2. <code>pagingInfo: PagingInfo</code> PrematchCommentRepository - SendChatMessageUseCase Domain Layer - UseCase Layer 1. \u767c\u9001\u804a\u5929\u8a0a\u606f2. \u6aa2\u67e5\u767b\u5165\u72c0\u614b\uff08\u900f\u904e Main App\uff093. \u6aa2\u67e5 nickname\uff08\u900f\u904e Main App\uff094. \u82e5\u7121 nickname \u5247\u8abf\u7528 FComSharedFlow Package \u5efa\u7acb 1. <code>chatroomId: String</code>2. <code>content: String</code>3. <code>messageType: MessageType</code> 1. <code>message: Message</code> LiveChatRepository 1. PersonalPage Package\uff08External\uff092. FComSharedFlow Package\uff08External\uff09 JoinChatroomUseCase Domain Layer - UseCase Layer 1. \u52a0\u5165\u804a\u5929\u5ba42. \u8f09\u5165\u6b77\u53f2\u8a0a\u606f3. \u5c07\u6b77\u53f2\u8a0a\u606f\u8207 WebSocket \u8a0a\u606f\u5408\u4f754. \u4f9d messageNo \u53bb\u91cd 1. <code>refId: String</code> 1. <code>chatroomInfo: ChatroomInfo</code>2. <code>messages: [Message]</code> LiveChatRepository - LeaveChatroomUseCase Domain Layer - UseCase Layer 1. \u96e2\u958b\u804a\u5929\u5ba42. \u6e05\u9664\u5feb\u53d6\u7684\u8a0a\u606f3. \u57f7\u884c\u9ed1\u540d\u55ae\u6aa2\u67e5\u8207\u6e05\u7406\uff084 \u5c0f\u6642\u81ea\u52d5\u6e05\u7406\uff09 1. <code>chatroomId: String</code> - LiveChatRepository - NavigateToProfileUseCase Domain Layer - UseCase Layer 1. \u8655\u7406\u8df3\u8f49\u5230\u500b\u4eba\u4e3b\u9801\u7684\u908f\u8f2f2. \u900f\u904e PersonalPageAdapter Protocol \u57f7\u884c\u8def\u7531\u8df3\u8f49 1. <code>userId: String</code> - - PersonalPageAdapter Protocol BlockUserUseCase Domain Layer - UseCase Layer 1. \u8655\u7406\u5c01\u9396\u7528\u6236\u7684\u908f\u8f2f2. \u5c07\u8a72\u7528\u6236\u52a0\u5165\u9ed1\u540d\u55ae DB3. WebSocket \u91cd\u9023\u5f8c\u540c\u6b65 blocked user \u6e05\u55ae 1. <code>userId: String</code>2. <code>eventId: String</code>3. <code>timestamp: Date</code> - LiveChatRepository -"},{"location":"03_Module%20Responsibility/01_module_responsibility/#repository-modules","title":"Repository Modules","text":"Repository \u540d\u7a31 \u5c64\u7d1a \u8077\u8cac \u63d0\u4f9b\u7684\u65b9\u6cd5 \u4f7f\u7528\u7684 Client \u88ab\u4f7f\u7528\u7684 Feature \u5099\u8a3b PrematchCommentRepository Data &amp; Infrastructure Layer - Repository Layer 1. Domain \u8cc7\u6599\u4f86\u6e90\u7684\u62bd\u8c61\u4ecb\u9762\uff08\u8a55\u8ad6\u76f8\u95dc\uff092. \u547c\u53eb Client \u53d6\u5f97\u6216\u66f4\u65b0\u9060\u7aef\u8cc7\u65993. \u8ca0\u8cac\u5c07 DTO \u8f49\u63db\u70ba Domain Model 1. <code>getUserInfo() async throws -&gt; UserInfo</code>2. <code>getCommentMeta(refId: String) async throws -&gt; CommentMeta</code>3. <code>getComments(refId: String, mode: SortMode, cursor: Cursor?) async throws -&gt; ([Comment], PagingInfo)</code>4. <code>publishComment(refId: String, content: String, parentId: String?) async throws -&gt; Comment</code>5. <code>toggleLike(commentId: String) async throws -&gt; Comment</code>6. <code>getReplies(commentId: String, cursor: Cursor?) async throws -&gt; ([Comment], PagingInfo)</code> PrematchCommentClient PrematchCommentFeature \u6240\u6709\u65b9\u6cd5\u90fd\u8ca0\u8cac DTO \u2192 Domain Model \u8f49\u63db LiveChatRepository Data &amp; Infrastructure Layer - Repository Layer 1. Domain \u8cc7\u6599\u4f86\u6e90\u7684\u62bd\u8c61\u4ecb\u9762\uff08\u804a\u5929\u5ba4\u76f8\u95dc\uff092. \u547c\u53eb Client \u53d6\u5f97\u6216\u66f4\u65b0\u9060\u7aef\u8cc7\u65993. \u8ca0\u8cac\u5c07 DTO \u8f49\u63db\u70ba Domain Model4. \u7ba1\u7406 WebSocket \u9023\u7dda 1. <code>getChatroomInfo(refId: String) async throws -&gt; ChatroomInfo</code>2. <code>joinChatroom(chatroomId: String) async throws -&gt; Void</code>3. <code>loadHistoricalMessages(chatroomId: String, lastMessageNo: Int) async throws -&gt; [Message]</code>4. <code>sendMessage(chatroomId: String, content: String, messageType: MessageType) async throws -&gt; Message</code>5. <code>leaveChatroom(chatroomId: String) async throws -&gt; Void</code>6. <code>subscribeWebSocket() async throws -&gt; Void</code>7. <code>unsubscribeWebSocket() async throws -&gt; Void</code> LiveChatClientChatWebSocketClient LiveChatFeature 1. \u6240\u6709\u65b9\u6cd5\u90fd\u8ca0\u8cac DTO \u2192 Domain Model \u8f49\u63db2. WebSocket \u9023\u7dda\u7ba1\u7406"},{"location":"03_Module%20Responsibility/01_module_responsibility/#client-modules","title":"Client Modules","text":"Client \u540d\u7a31 \u5c64\u7d1a \u6280\u8853 \u8077\u8cac \u4f7f\u7528\u7684 API \u88ab\u4f7f\u7528\u7684 Feature \u5099\u8a3b PrematchCommentClient Data &amp; Infrastructure Layer - Client Layer HTTP 1. HTTP \u901a\u8a0a\uff08\u8a55\u8ad6\u76f8\u95dc\uff092. Request / Response \u7de8\u89e3\u78bc3. \u932f\u8aa4\u8655\u7406 PrematchCommentAPI PrematchCommentFeature - LiveChatClient Data &amp; Infrastructure Layer - Client Layer HTTP 1. HTTP \u901a\u8a0a\uff08\u804a\u5929\u5ba4\u76f8\u95dc\uff092. Request / Response \u7de8\u89e3\u78bc3. \u932f\u8aa4\u8655\u7406 ChatAPI LiveChatFeature - ChatWebSocketClient Data &amp; Infrastructure Layer - Client Layer WebSocket 1. WebSocket \u901a\u8a0a\uff08\u5373\u6642\u8a0a\u606f\uff092. \u8a02\u95b1 / \u53d6\u6d88\u8a02\u95b13. \u8a0a\u606f\u63a5\u6536\u8207\u767c\u90014. \u9023\u7dda\u7ba1\u7406\uff08\u91cd\u9023\u3001\u5fc3\u8df3\u7b49\uff09 ChatAPI LiveChatFeature 1. WebSocket \u7aef\u9ede\uff1awss://www.encorebet.net/chat/websocket/web-chat2. \u652f\u63f4\u91cd\u9023\u6a5f\u5236"},{"location":"03_Module%20Responsibility/01_module_responsibility/#api-modules","title":"API Modules","text":"API \u540d\u7a31 \u5c64\u7d1a \u8077\u8cac Endpoints \u53ea\u80fd\u88ab \u88ab\u4f7f\u7528\u7684 Feature \u5099\u8a3b PrematchCommentAPI Data &amp; Infrastructure Layer - API Layer \u5f8c\u7aef endpoint \u5b9a\u7fa9\uff08\u8a55\u8ad6\u76f8\u95dc\uff09 1. <code>POST /chat/match/comment/batch/info</code>2. <code>GET /chat/match/comment/info/{refId}</code>3. <code>GET /chat/match/comment/popular</code>4. <code>GET /chat/match/comment/newest</code>5. <code>GET /chat/match/comment/replies</code>6. <code>POST /chat/match/comment</code>7. <code>POST /chat/match/comment/like</code> PrematchCommentClient PrematchCommentFeature 1. \u6279\u91cf API \u7528\u65bc\u6279\u91cf\u7372\u53d6\u8a55\u8ad6\u8cc7\u8a0a ChatAPI Data &amp; Infrastructure Layer - API Layer \u5f8c\u7aef endpoint \u5b9a\u7fa9\uff08\u804a\u5929\u5ba4\u76f8\u95dc\uff09 1. <code>POST /chat/match/batch/count</code>2. <code>GET /chat/match/{refId}</code>3. <code>GET /chat/match/backward</code>4. <code>POST /chat/match/message</code>5. <code>wss://{domain}/chat/websocket/web-chat</code>\uff08WebSocket\uff09 LiveChatClientChatWebSocketClient LiveChatFeature 1. WebSocket \u7aef\u9ede\u7528\u65bc\u5373\u6642\u8a0a\u606f\u50b3\u905e2. \u50c5\u652f\u63f4 TEXT \u985e\u578b\u7684\u8a0a\u606f"},{"location":"03_Module%20Responsibility/01_module_responsibility/#shared-modules","title":"Shared Modules","text":"Shared Module \u540d\u7a31 \u5c64\u7d1a \u8077\u8cac \u63d0\u4f9b\u7684\u65b9\u6cd5 \u88ab\u4f7f\u7528\u7684 Feature \u5171\u7528\u539f\u56e0 PersonalPage Package\uff08External\uff09 External Package 1. \u767b\u5165\u6d41\u7a0b2. \u7528\u6236\u8a8d\u8b49 1. <code>route(to: .personalPage)</code>2. \u767b\u5165\u5b8c\u6210\u5f8c\u56de\u8df3\u81f3\u539f\u9801\u9762 1. PrematchCommentFeature2. LiveChatFeature 1. \u7528\u6236\u8eab\u4efd\u8a8d\u8b492. \u767b\u5165\u72c0\u614b\u6aa2\u67e5 FComSharedFlow Package\uff08External\uff09 External Package 1. Nickname \u5efa\u7acb\u6d41\u7a0b2. \u986f\u793a create nickName pop-up 1. <code>CreatNickName API</code> 1. PrematchCommentFeature2. LiveChatFeature 1. Nickname \u7ba1\u74062. \u7528\u6236\u8cc7\u8a0a\u5efa\u7acb FactsCenter Package\uff08External\uff09 External Package 1. Event Status \u8a02\u95b12. Event Status \u901a\u77e5 1. <code>eventStatus(didChange status: Int)</code>\uff08interface\uff09 PrematchCommentFeature 1. Event Status \u7ba1\u74062. \u8cfd\u4e8b\u72c0\u614b\u540c\u6b65"},{"location":"03_Module%20Responsibility/01_module_responsibility/#_2","title":"\u6a21\u7d44\u6536\u6582\u8aaa\u660e","text":""},{"location":"03_Module%20Responsibility/01_module_responsibility/#repository","title":"Repository \u6536\u6582","text":"<ul> <li>PrematchCommentRepository\uff1a\u6536\u6582\u6240\u6709\u8a55\u8ad6\u76f8\u95dc\u7684\u8b80\u5beb\u64cd\u4f5c\uff08getComments\u3001publishComment\u3001toggleLike\u3001getReplies \u7b49\uff09</li> <li>LiveChatRepository\uff1a\u6536\u6582\u6240\u6709\u804a\u5929\u5ba4\u76f8\u95dc\u7684\u8b80\u5beb\u64cd\u4f5c\uff08getChatroomInfo\u3001joinChatroom\u3001sendMessage \u7b49\uff09</li> </ul>"},{"location":"03_Module%20Responsibility/01_module_responsibility/#client","title":"Client \u6536\u6582","text":"<ul> <li>PrematchCommentClient\uff1a\u6536\u6582\u6240\u6709\u8a55\u8ad6\u76f8\u95dc\u7684 HTTP \u901a\u8a0a</li> <li>LiveChatClient\uff1a\u6536\u6582\u6240\u6709\u804a\u5929\u5ba4\u76f8\u95dc\u7684 HTTP \u901a\u8a0a</li> <li>ChatWebSocketClient\uff1a\u7368\u7acb\u65bc HTTP Client\uff0c\u5c08\u9580\u8655\u7406 WebSocket \u901a\u8a0a</li> </ul>"},{"location":"03_Module%20Responsibility/01_module_responsibility/#usecase","title":"UseCase \u6536\u6582","text":"<ul> <li>ReloadCommentListUseCase\uff1a\u6536\u6582\u6240\u6709\u8f09\u5165\u7559\u8a00\u5217\u8868\u7684\u884c\u70ba\uff08\u521d\u59cb\u5316\u3001\u5237\u65b0\u3001\u5207\u63db\u6a19\u7c64\uff09\uff0c\u4f7f\u7528 Input Model \u7684 <code>triggerType</code> \u548c <code>mode</code> \u5340\u5206\u884c\u70ba</li> <li>PublishCommentUseCase\uff1a\u6536\u6582\u767c\u9001\u7559\u8a00\u548c\u56de\u8986\u7684\u884c\u70ba\uff0c\u4f7f\u7528 Input Model \u7684 <code>parentId</code> \u5340\u5206\u662f\u7559\u8a00\u9084\u662f\u56de\u8986</li> </ul>"},{"location":"04_Domain%20Model/","title":"Domain Model \u7ae0\u7bc0\u8aaa\u660e","text":"<p>\u672c\u76ee\u9304\u5305\u542b TDD \u6587\u4ef6\u7684 Domain Model \u7ae0\u7bc0\uff0c\u5b9a\u7fa9\u6240\u6709 Entity \u548c Value Object\u3002</p>"},{"location":"04_Domain%20Model/#_1","title":"\u6587\u4ef6\u5217\u8868","text":"<ul> <li><code>01_domain_model.md</code> - Domain Model \u5b9a\u7fa9</li> <li><code>02_domain_model_uml_standard.md</code> - Domain Model UML \u6a19\u6e96\u95dc\u4fc2\u5716</li> </ul>"},{"location":"04_Domain%20Model/#_2","title":"\u8aaa\u660e","text":"<p>Domain Model \u7ae0\u7bc0\u5305\u542b\uff1a</p> <ul> <li>\u6240\u6709 Entity\uff08\u5be6\u9ad4\uff09\u5b9a\u7fa9</li> <li>\u6240\u6709 Value Object\uff08\u503c\u7269\u4ef6\uff09\u5b9a\u7fa9</li> <li>Entity \u548c Value Object \u7684\u95dc\u4fc2\u5716</li> <li>\u8a9e\u610f\u5316\u95dc\u4fc2\u8aaa\u660e</li> </ul>"},{"location":"04_Domain%20Model/#domain-model_1","title":"Domain Model \u985e\u578b","text":"<ol> <li>Entity\uff08\u5be6\u9ad4\uff09\uff1a\u6709\u552f\u4e00\u8b58\u5225\u78bc\u7684\u696d\u52d9\u7269\u4ef6</li> <li>Value Object\uff08\u503c\u7269\u4ef6\uff09\uff1a\u6c92\u6709\u552f\u4e00\u8b58\u5225\u78bc\uff0c\u900f\u904e\u503c\u6bd4\u8f03</li> </ol>"},{"location":"04_Domain%20Model/01_domain_model/","title":"Domain Model \u5b9a\u7fa9","text":""},{"location":"04_Domain%20Model/01_domain_model/#entity","title":"Entity\uff08\u5be6\u9ad4\uff09","text":""},{"location":"04_Domain%20Model/01_domain_model/#comment","title":"Comment","text":"<p>\u7559\u8a00\u5be6\u9ad4\uff0c\u4ee3\u8868\u4e00\u5247\u7559\u8a00\u6216\u56de\u8986\u3002</p> <pre><code>struct Comment: Identifiable, Equatable {\n    let id: String  // \u552f\u4e00\u8b58\u5225\u78bc\uff08\u5f9e API \u7684 Int64 \u8f49\u63db\u800c\u4f86\uff09\n    let content: String  // \u7559\u8a00\u5167\u5bb9\n    var likeCount: Int  // \u6309\u8b9a\u6578\uff08\u53ef\u8b8a\uff09\n    let authorId: String  // \u4f5c\u8005 ID\n    let authorNickname: String?  // \u4f5c\u8005\u66b1\u7a31\uff08\u53ef\u9078\uff09\n    let parentId: String?  // \u7236\u7559\u8a00 ID\uff08\u53ef\u9078\uff0c\u7528\u65bc\u56de\u8986\uff0c0 \u8868\u793a\u7b2c\u4e00\u5c64\u8a55\u8ad6\uff09\n    let createdAt: Date  // \u5efa\u7acb\u6642\u9593\uff08\u5f9e API \u7684 Int64 \u6642\u9593\u6233\u8f49\u63db\u800c\u4f86\uff09\n    let refId: String  // \u8cfd\u4e8b\u53c3\u8003 ID\uff08\u901a\u5e38\u5f9e UseCase \u5c64\u50b3\u5165\uff09\n    let repliesCount: Int  // \u56de\u8986\u6578\u91cf\n    let likedByMe: Bool  // \u76ee\u524d\u7528\u6236\u662f\u5426\u5df2\u9ede\u8b9a\n    let isIsolated: Bool  // \u8a55\u8ad6\u662f\u5426\u88ab\u9694\u96e2\n    let isDeleted: Bool  // \u8a55\u8ad6\u662f\u5426\u5df2\u88ab\u522a\u9664\n\n    // \u900f\u904e id \u4f86\u6bd4\u8f03\n    static func == (lhs: Comment, rhs: Comment) -&gt; Bool {\n        lhs.id == rhs.id\n    }\n}\n</code></pre> <p>\u6ce8\u610f\uff1a - <code>id</code> \u5728 API \u4e2d\u662f <code>Int64</code>\uff0c\u4f46\u5728 Domain Model \u4e2d\u8f49\u63db\u70ba <code>String</code> \u4ee5\u4fbf\u7d71\u4e00\u8655\u7406 - <code>parentId</code> \u5728 API \u4e2d\u70ba <code>Int64</code>\uff0c0 \u8868\u793a\u7b2c\u4e00\u5c64\u8a55\u8ad6\uff0c\u5728 Domain Model \u4e2d\u8f49\u63db\u70ba <code>String?</code>\uff0c0 \u8f49\u63db\u70ba <code>nil</code> - <code>createdAt</code> \u5728 API \u4e2d\u662f <code>Int64</code> \u6642\u9593\u6233\uff08\u6beb\u79d2\uff09\uff0c\u5728 Domain Model \u4e2d\u8f49\u63db\u70ba <code>Date</code> - <code>refId</code> \u901a\u5e38\u4e0d\u5728 API \u56de\u61c9\u4e2d\uff0c\u9700\u8981\u5f9e UseCase \u5c64\u50b3\u5165 - <code>repliesCount</code>\u3001<code>likedByMe</code>\u3001<code>isIsolated</code>\u3001<code>isDeleted</code> \u662f\u5f9e API \u65b0\u589e\u7684\u6b04\u4f4d</p> <p>\u5224\u65b7\u4f9d\u64da\uff1a - \u2705 \u6709\u552f\u4e00\u8b58\u5225\u78bc\uff08id\uff09 - \u2705 \u9700\u8981\u8ffd\u8e64\u7269\u4ef6\u7684\u72c0\u614b\u8b8a\u5316\uff08likeCount\uff09 - \u2705 \u696d\u52d9\u8a9e\u610f\u4e0a\u9019\u662f\u300c\u4e00\u5247\u7559\u8a00\u300d</p>"},{"location":"04_Domain%20Model/01_domain_model/#commentmeta","title":"CommentMeta","text":"<p>\u7559\u8a00\u7d71\u8a08\u8cc7\u8a0a\u5be6\u9ad4\uff0c\u4ee3\u8868\u8cfd\u4e8b\u7684\u7559\u8a00\u7d71\u8a08\u3002</p> <pre><code>struct CommentMeta: Identifiable, Equatable {\n    let id: String  // \u552f\u4e00\u8b58\u5225\u78bc\uff08\u901a\u5e38\u70ba refId\uff09\n    let commentCount: Int  // \u7559\u8a00\u6578\u91cf\uff08\u5f9e API \u7684 String \u8f49\u63db\u800c\u4f86\uff09\n    let betCount: String  // \u6295\u6ce8\u6578\u91cf\uff08API \u8fd4\u56de\u70ba String \u683c\u5f0f\uff0c\u4f8b\u5982 \"&lt;100\"\uff09\n    let refId: String  // \u8cfd\u4e8b\u53c3\u8003 ID\n\n    // \u900f\u904e id \u4f86\u6bd4\u8f03\n    static func == (lhs: CommentMeta, rhs: CommentMeta) -&gt; Bool {\n        lhs.id == rhs.id\n    }\n}\n</code></pre> <p>\u6ce8\u610f\uff1a - <code>commentCount</code> \u5728 API \u4e2d\u662f <code>String</code>\uff0c\u5728 Domain Model \u4e2d\u8f49\u63db\u70ba <code>Int</code> - <code>betCount</code> \u5728 API \u4e2d\u662f <code>String</code>\uff08\u4f8b\u5982 \"&lt;100\"\uff09\uff0c\u5728 Domain Model \u4e2d\u4fdd\u6301\u70ba <code>String</code> \u4ee5\u4fdd\u7559\u539f\u59cb\u683c\u5f0f</p> <p>\u5224\u65b7\u4f9d\u64da\uff1a - \u2705 \u6709\u552f\u4e00\u8b58\u5225\u78bc\uff08id\uff0c\u901a\u5e38\u70ba refId\uff09 - \u2705 \u9700\u8981\u8ffd\u8e64\u7269\u4ef6\u7684\u72c0\u614b\u8b8a\u5316\uff08commentCount\u3001betCount\uff09 - \u2705 \u696d\u52d9\u8a9e\u610f\u4e0a\u9019\u662f\u300c\u4e00\u500b\u8cfd\u4e8b\u7684\u7559\u8a00\u7d71\u8a08\u300d</p>"},{"location":"04_Domain%20Model/01_domain_model/#userinfo","title":"UserInfo","text":"<p>\u7528\u6236\u8cc7\u8a0a\u5be6\u9ad4\uff0c\u4ee3\u8868\u7528\u6236\u7684\u57fa\u672c\u8cc7\u8a0a\u3002</p> <pre><code>struct UserInfo: Identifiable, Equatable {\n    let id: String  // \u552f\u4e00\u8b58\u5225\u78bc\uff08\u7528\u6236 ID\uff09\n    let nickname: String?  // \u66b1\u7a31\uff08\u53ef\u9078\uff09\n    let avatar: String?  // \u982d\u50cf URL\uff08\u53ef\u9078\uff09\n    let tierLevel: String?  // \u7528\u6236\u7b49\u7d1a\uff08\u53ef\u9078\uff09\n    let countryCode: String?  // \u570b\u5bb6\u4ee3\u78bc\uff08\u53ef\u9078\uff09\n\n    // \u900f\u904e id \u4f86\u6bd4\u8f03\n    static func == (lhs: UserInfo, rhs: UserInfo) -&gt; Bool {\n        lhs.id == rhs.id\n    }\n}\n</code></pre> <p>\u6ce8\u610f\uff1a - <code>tierLevel</code> \u548c <code>countryCode</code> \u662f\u5f9e API \u65b0\u589e\u7684\u6b04\u4f4d - \u5728 Comment API \u4e2d\uff0c\u9019\u4e9b\u8cc7\u8a0a\u53ef\u80fd\u76f4\u63a5\u5b58\u5728\u65bc Comment \u4e2d\uff0c\u4f46\u70ba\u4e86\u7d71\u4e00\u8655\u7406\uff0c\u5efa\u8b70\u4f7f\u7528 UserInfo Entity</p> <p>\u5224\u65b7\u4f9d\u64da\uff1a - \u2705 \u6709\u552f\u4e00\u8b58\u5225\u78bc\uff08id\uff09 - \u2705 \u9700\u8981\u8ffd\u8e64\u7269\u4ef6\u7684\u72c0\u614b\u8b8a\u5316\uff08nickname\u3001avatar\uff09 - \u2705 \u696d\u52d9\u8a9e\u610f\u4e0a\u9019\u662f\u300c\u4e00\u500b\u7528\u6236\u300d</p>"},{"location":"04_Domain%20Model/01_domain_model/#message","title":"Message","text":"<p>\u804a\u5929\u8a0a\u606f\u5be6\u9ad4\uff0c\u4ee3\u8868\u4e00\u5247\u804a\u5929\u8a0a\u606f\u3002</p> <pre><code>struct Message: Identifiable, Equatable {\n    let id: String  // \u552f\u4e00\u8b58\u5225\u78bc\uff08\u901a\u5e38\u70ba messageNo \u8f49\u63db\u800c\u4f86\uff09\n    let content: String  // \u8a0a\u606f\u5167\u5bb9\uff08TEXT \u985e\u578b\uff09\n    let messageNo: Int  // \u8a0a\u606f\u7de8\u865f\uff08\u7528\u65bc\u6392\u5e8f\u548c\u53bb\u91cd\uff09\n    let previousMessageNo: Int  // \u4e0a\u4e00\u689d\u8a0a\u606f\u7de8\u865f\n    let authorId: String  // \u4f5c\u8005 ID\n    let authorNickname: String?  // \u4f5c\u8005\u66b1\u7a31\uff08\u53ef\u9078\uff09\n    let messageType: MessageType  // \u8a0a\u606f\u985e\u578b\uff08\u76ee\u524d\u50c5\u652f\u63f4 TEXT\uff09\n    let createdAt: Date  // \u5efa\u7acb\u6642\u9593\uff08\u5f9e API \u7684 Int64 \u6642\u9593\u6233\u8f49\u63db\u800c\u4f86\uff09\n    let chatroomId: String  // \u804a\u5929\u5ba4 ID\n    let isIsolated: Bool  // \u662f\u5426\u88ab\u9694\u96e2\n    let isDeleted: Bool  // \u662f\u5426\u5df2\u88ab\u522a\u9664\n    let status: Int  // \u8a0a\u606f\u72c0\u614b\n\n    // \u900f\u904e id \u4f86\u6bd4\u8f03\n    static func == (lhs: Message, rhs: Message) -&gt; Bool {\n        lhs.id == rhs.id\n    }\n}\n</code></pre> <p>\u6ce8\u610f\uff1a - <code>id</code> \u901a\u5e38\u4f7f\u7528 <code>messageNo</code> \u8f49\u63db\u70ba <code>String</code> - <code>createdAt</code> \u5728 API \u4e2d\u662f <code>Int64</code> \u6642\u9593\u6233\uff08\u6beb\u79d2\uff09\uff0c\u5728 Domain Model \u4e2d\u8f49\u63db\u70ba <code>Date</code> - <code>previousMessageNo</code>\u3001<code>isIsolated</code>\u3001<code>isDeleted</code>\u3001<code>status</code> \u662f\u5f9e API \u65b0\u589e\u7684\u6b04\u4f4d - \u76ee\u524d\u50c5\u652f\u63f4 TEXT \u985e\u578b\u7684\u8a0a\u606f</p> <p>\u5224\u65b7\u4f9d\u64da\uff1a - \u2705 \u6709\u552f\u4e00\u8b58\u5225\u78bc\uff08id\uff09 - \u2705 \u9700\u8981\u8ffd\u8e64\u7269\u4ef6\u7684\u72c0\u614b\u8b8a\u5316 - \u2705 \u696d\u52d9\u8a9e\u610f\u4e0a\u9019\u662f\u300c\u4e00\u5247\u804a\u5929\u8a0a\u606f\u300d</p>"},{"location":"04_Domain%20Model/01_domain_model/#chatroominfo","title":"ChatroomInfo","text":"<p>\u804a\u5929\u5ba4\u8cc7\u8a0a\u5be6\u9ad4\uff0c\u4ee3\u8868\u804a\u5929\u5ba4\u7684\u57fa\u672c\u8cc7\u8a0a\u3002</p> <pre><code>struct ChatroomInfo: Identifiable, Equatable {\n    let id: String  // \u552f\u4e00\u8b58\u5225\u78bc\uff08\u901a\u5e38\u70ba chatroomId\uff09\n    let chatroomId: String  // \u804a\u5929\u5ba4 ID\n    let lastMessageNo: Int  // \u6700\u5f8c\u8a0a\u606f\u7de8\u865f\n    let refId: String  // \u8cfd\u4e8b\u53c3\u8003 ID\n    let onlineCount: Int  // \u5728\u7dda\u7528\u6236\u6578\n    let betCount: String  // \u6295\u6ce8\u6578\uff08API \u8fd4\u56de\u70ba String \u683c\u5f0f\uff09\n    let chatRoomType: Int  // \u804a\u5929\u5ba4\u985e\u578b\uff08\u76ee\u524d\u50c5\u4f7f\u7528 GROUP(10)\uff09\n    let nickNameAvailable: Bool?  // \u66b1\u7a31\u662f\u5426\u53ef\u7528\uff08\u53ef\u9078\uff09\n\n    // \u900f\u904e id \u4f86\u6bd4\u8f03\n    static func == (lhs: ChatroomInfo, rhs: ChatroomInfo) -&gt; Bool {\n        lhs.id == rhs.id\n    }\n}\n</code></pre> <p>\u6ce8\u610f\uff1a - <code>onlineCount</code> \u5728 API \u4e2d\u662f <code>String</code>\uff0c\u5728 Domain Model \u4e2d\u8f49\u63db\u70ba <code>Int</code> - <code>betCount</code> \u5728 API \u4e2d\u662f <code>String</code>\uff08\u4f8b\u5982 \"&lt;100\"\uff09\uff0c\u5728 Domain Model \u4e2d\u4fdd\u6301\u70ba <code>String</code> - <code>chatRoomType</code> \u548c <code>nickNameAvailable</code> \u662f\u5f9e API \u65b0\u589e\u7684\u6b04\u4f4d</p> <p>\u5224\u65b7\u4f9d\u64da\uff1a - \u2705 \u6709\u552f\u4e00\u8b58\u5225\u78bc\uff08id\uff0c\u901a\u5e38\u70ba chatroomId\uff09 - \u2705 \u9700\u8981\u8ffd\u8e64\u7269\u4ef6\u7684\u72c0\u614b\u8b8a\u5316\uff08lastMessageNo\uff09 - \u2705 \u696d\u52d9\u8a9e\u610f\u4e0a\u9019\u662f\u300c\u4e00\u500b\u804a\u5929\u5ba4\u300d</p>"},{"location":"04_Domain%20Model/01_domain_model/#value-object","title":"Value Object\uff08\u503c\u7269\u4ef6\uff09","text":""},{"location":"04_Domain%20Model/01_domain_model/#sortmode","title":"SortMode","text":"<p>\u6392\u5e8f\u6a21\u5f0f\u503c\u7269\u4ef6\uff0c\u7528\u65bc\u5340\u5206\u7559\u8a00\u7684\u6392\u5e8f\u65b9\u5f0f\u3002</p> <pre><code>struct SortMode: Equatable {\n    let value: String  // \"top\" \u6216 \"newest\"\n\n    static let top = SortMode(value: \"top\")\n    static let newest = SortMode(value: \"newest\")\n\n    // \u5169\u500b SortMode \u5982\u679c value \u76f8\u540c\uff0c\u5c31\u8996\u70ba\u76f8\u540c\n    // Swift \u81ea\u52d5\u5be6\u73fe Equatable\n}\n</code></pre> <p>\u5224\u65b7\u4f9d\u64da\uff1a - \u2705 \u6c92\u6709\u552f\u4e00\u8b58\u5225\u78bc - \u2705 \u53ea\u95dc\u5fc3\u7269\u4ef6\u7684\u300c\u503c\u300d\uff0c\u4e0d\u95dc\u5fc3\u300c\u662f\u54ea\u4e00\u500b\u300d - \u2705 \u5b8c\u5168\u4e0d\u53ef\u8b8a\uff08\u4f7f\u7528 <code>let</code>\uff09 - \u2705 \u696d\u52d9\u8a9e\u610f\u4e0a\u9019\u662f\u300c\u6392\u5e8f\u65b9\u5f0f\u300d</p>"},{"location":"04_Domain%20Model/01_domain_model/#cursor","title":"Cursor","text":"<p>\u5206\u9801\u6e38\u6a19\u503c\u7269\u4ef6\uff0c\u7528\u65bc\u8ffd\u8e64\u5206\u9801\u4f4d\u7f6e\u3002</p> <pre><code>struct Cursor: Equatable {\n    let value: String?  // \u6e38\u6a19\u503c\uff08\u53ef\u9078\uff09\n\n    // \u5169\u500b Cursor \u5982\u679c value \u76f8\u540c\uff0c\u5c31\u8996\u70ba\u76f8\u540c\n    // Swift \u81ea\u52d5\u5be6\u73fe Equatable\n}\n</code></pre> <p>\u5224\u65b7\u4f9d\u64da\uff1a - \u2705 \u6c92\u6709\u552f\u4e00\u8b58\u5225\u78bc - \u2705 \u53ea\u95dc\u5fc3\u7269\u4ef6\u7684\u300c\u503c\u300d\uff0c\u4e0d\u95dc\u5fc3\u300c\u662f\u54ea\u4e00\u500b\u300d - \u2705 \u5b8c\u5168\u4e0d\u53ef\u8b8a\uff08\u4f7f\u7528 <code>let</code>\uff09 - \u2705 \u696d\u52d9\u8a9e\u610f\u4e0a\u9019\u662f\u300c\u5206\u9801\u6e38\u6a19\u300d - \u2705 \u53ef\u88ab\u591a\u500b Feature \u5171\u4eab\u4f7f\u7528\uff08\u653e\u5728 SharedValueObjects\uff09</p>"},{"location":"04_Domain%20Model/01_domain_model/#paginginfo","title":"PagingInfo","text":"<p>\u5206\u9801\u8cc7\u8a0a\u503c\u7269\u4ef6\uff0c\u7528\u65bc\u63cf\u8ff0\u5206\u9801\u72c0\u614b\u3002</p> <pre><code>struct PagingInfo: Equatable {\n    let hasMore: Bool  // \u662f\u5426\u9084\u6709\u66f4\u591a\u8cc7\u6599\n    let nextCursor: Cursor?  // \u4e0b\u4e00\u9801\u6e38\u6a19\uff08\u53ef\u9078\uff09\n\n    // \u5169\u500b PagingInfo \u5982\u679c\u6240\u6709\u5c6c\u6027\u76f8\u540c\uff0c\u5c31\u8996\u70ba\u76f8\u540c\n    // Swift \u81ea\u52d5\u5be6\u73fe Equatable\n}\n</code></pre> <p>\u5224\u65b7\u4f9d\u64da\uff1a - \u2705 \u6c92\u6709\u552f\u4e00\u8b58\u5225\u78bc - \u2705 \u53ea\u95dc\u5fc3\u7269\u4ef6\u7684\u300c\u503c\u300d\uff0c\u4e0d\u95dc\u5fc3\u300c\u662f\u54ea\u4e00\u500b\u300d - \u2705 \u5b8c\u5168\u4e0d\u53ef\u8b8a\uff08\u4f7f\u7528 <code>let</code>\uff09 - \u2705 \u696d\u52d9\u8a9e\u610f\u4e0a\u9019\u662f\u300c\u5206\u9801\u8cc7\u8a0a\u300d - \u2705 \u53ef\u88ab\u591a\u500b Feature \u5171\u4eab\u4f7f\u7528\uff08\u653e\u5728 SharedValueObjects\uff09</p>"},{"location":"04_Domain%20Model/01_domain_model/#messagetype","title":"MessageType","text":"<p>\u8a0a\u606f\u985e\u578b\u503c\u7269\u4ef6\uff0c\u7528\u65bc\u5340\u5206\u8a0a\u606f\u985e\u578b\u3002</p> <pre><code>struct MessageType: Equatable {\n    let value: String  // \"TEXT\" \u7b49\n\n    static let text = MessageType(value: \"TEXT\")\n\n    // \u5169\u500b MessageType \u5982\u679c value \u76f8\u540c\uff0c\u5c31\u8996\u70ba\u76f8\u540c\n    // Swift \u81ea\u52d5\u5be6\u73fe Equatable\n}\n</code></pre> <p>\u5224\u65b7\u4f9d\u64da\uff1a - \u2705 \u6c92\u6709\u552f\u4e00\u8b58\u5225\u78bc - \u2705 \u53ea\u95dc\u5fc3\u7269\u4ef6\u7684\u300c\u503c\u300d\uff0c\u4e0d\u95dc\u5fc3\u300c\u662f\u54ea\u4e00\u500b\u300d - \u2705 \u5b8c\u5168\u4e0d\u53ef\u8b8a\uff08\u4f7f\u7528 <code>let</code>\uff09 - \u2705 \u696d\u52d9\u8a9e\u610f\u4e0a\u9019\u662f\u300c\u8a0a\u606f\u985e\u578b\u300d</p>"},{"location":"04_Domain%20Model/01_domain_model/#domain-model_1","title":"Domain Model \u95dc\u4fc2","text":""},{"location":"04_Domain%20Model/01_domain_model/#_1","title":"\u8a9e\u610f\u5316\u95dc\u4fc2","text":"<ul> <li>Comment <code>has author</code> UserInfo\uff08\u7559\u8a00\u6709\u4f5c\u8005\uff09</li> <li>Comment <code>references</code> Comment\uff08\u56de\u8986\u5f15\u7528\u7236\u7559\u8a00\uff09</li> <li>Comment <code>belongs to</code> CommentMeta\uff08\u7559\u8a00\u5c6c\u65bc\u7559\u8a00\u7d71\u8a08\uff09</li> <li>Message <code>has author</code> UserInfo\uff08\u8a0a\u606f\u6709\u4f5c\u8005\uff09</li> <li>Message <code>belongs to</code> ChatroomInfo\uff08\u8a0a\u606f\u5c6c\u65bc\u804a\u5929\u5ba4\uff09</li> <li>PagingInfo <code>contains</code> Cursor\uff08\u5206\u9801\u8cc7\u8a0a\u5305\u542b\u6e38\u6a19\uff09</li> </ul>"},{"location":"04_Domain%20Model/01_domain_model/#_2","title":"\u95dc\u4fc2\u8aaa\u660e\u8868\u683c","text":"\u95dc\u4fc2 \u8a9e\u610f\u5316\u95dc\u4fc2 \u6a19\u6e96 UML \u95dc\u4fc2 \u95dc\u4fc2\u8aaa\u660e \u5be6\u4f5c\u65b9\u5f0f \u65b9\u5411 Comment \u2192 UserInfo has author Association \u7559\u8a00\u6709\u4f5c\u8005 <code>authorId: String</code>\uff08\u5f15\u7528 UserInfo.id\uff09 \u55ae\u5411 Comment \u2192 Comment references Association \u56de\u8986\u5f15\u7528\u7236\u7559\u8a00 <code>parentId: String?</code>\uff08\u5f15\u7528 Comment.id\uff09 \u55ae\u5411 Comment \u2192 CommentMeta belongs to Association \u7559\u8a00\u5c6c\u65bc\u7559\u8a00\u7d71\u8a08 <code>refId: String</code>\uff08\u5f15\u7528 CommentMeta.refId\uff09 \u55ae\u5411 Message \u2192 UserInfo has author Association \u8a0a\u606f\u6709\u4f5c\u8005 <code>authorId: String</code>\uff08\u5f15\u7528 UserInfo.id\uff09 \u55ae\u5411 Message \u2192 ChatroomInfo belongs to Association \u8a0a\u606f\u5c6c\u65bc\u804a\u5929\u5ba4 <code>chatroomId: String</code>\uff08\u5f15\u7528 ChatroomInfo.chatroomId\uff09 \u55ae\u5411 PagingInfo \u2192 Cursor contains Composition \u5206\u9801\u8cc7\u8a0a\u5305\u542b\u6e38\u6a19 <code>nextCursor: Cursor?</code>\uff08\u76f4\u63a5\u5305\u542b\uff09 \u55ae\u5411"},{"location":"04_Domain%20Model/01_domain_model/#value-object_1","title":"\u53ef\u5171\u4eab\u7684 Value Object","text":"<p>\u4ee5\u4e0b Value Object \u53ef\u88ab\u591a\u500b Feature \u5171\u4eab\u4f7f\u7528\uff0c\u61c9\u653e\u5728 <code>SharedValueObjects</code> \u4e2d\uff1a</p> <ul> <li>Cursor\uff1a\u5206\u9801\u6e38\u6a19</li> <li>PagingInfo\uff1a\u5206\u9801\u8cc7\u8a0a</li> </ul>"},{"location":"04_Domain%20Model/01_domain_model/#domain-model-vs-dto","title":"Domain Model vs DTO \u5c0d\u7167","text":"\u7279\u6027 Domain Model DTO \u7528\u9014 \u696d\u52d9\u9818\u57df\u7684\u8cc7\u6599\u6a21\u578b API \u50b3\u8f38\u7684\u8cc7\u6599\u7d50\u69cb \u5b58\u5728\u4f4d\u7f6e Domain Model Layer Client Layer \u2194 API Layer \u53ef\u88ab\u4f7f\u7528 Feature\u3001UseCase\u3001Repository Client\u3001API \u4e0d\u53ef\u88ab\u4f7f\u7528 - Feature\u3001UseCase\u3001Repository \u8f49\u63db - Repository \u8ca0\u8cac DTO \u2192 Domain Model \u5efa\u6a21\u4f9d\u64da \u696d\u52d9\u8a9e\u610f API schema Swift \u985e\u578b <code>struct</code>\uff08Entity / Value Object\uff09 <code>struct</code>\uff08\u901a\u5e38\uff09"},{"location":"04_Domain%20Model/01_domain_model/#tca","title":"\u5728 TCA \u4e2d\u7684\u4f7f\u7528","text":""},{"location":"04_Domain%20Model/01_domain_model/#feature-state-domain-model","title":"Feature State \u4e2d\u7684 Domain Model","text":"<pre><code>struct PrematchCommentState {\n    var comments: [Comment]  // \u2705 Entity \u9663\u5217\n    var pagingInfo: PagingInfo?  // \u2705 Value Object\n    var cursor: Cursor?  // \u2705 Value Object\n    var sortMode: SortMode  // \u2705 Value Object\n    // var apiResponse: CommentResponseDTO  // \u274c \u7981\u6b62\n}\n</code></pre>"},{"location":"04_Domain%20Model/01_domain_model/#usecase-input-output-domain-model","title":"UseCase Input / Output \u4e2d\u7684 Domain Model","text":"<pre><code>struct ReloadCommentListInput {\n    let refId: String\n    let mode: SortMode  // \u2705 Value Object\n    let cursor: Cursor?  // \u2705 Value Object\n    // let requestDTO: CommentRequestDTO  // \u274c \u7981\u6b62\n}\n\nstruct ReloadCommentListOutput {\n    let comments: [Comment]  // \u2705 Entity \u9663\u5217\n    let pagingInfo: PagingInfo  // \u2705 Value Object\n}\n</code></pre>"},{"location":"04_Domain%20Model/01_domain_model/#repository-domain-model","title":"Repository \u4e2d\u7684 Domain Model","text":"<pre><code>func getComments(refId: String, mode: SortMode) async throws -&gt; [Comment] {\n    let dto = try await client.getComments(refId, mode: mode.value)\n    return dto.map { Comment(from: $0) }  // DTO \u2192 Domain Model\n}\n</code></pre>"},{"location":"04_Domain%20Model/02_domain_model_uml_standard/","title":"Domain Model UML \u6a19\u6e96\u95dc\u4fc2\u5716","text":""},{"location":"04_Domain%20Model/02_domain_model_uml_standard/#uml","title":"\u6a19\u6e96 UML \u95dc\u4fc2\u5716","text":"<pre><code>classDiagram\n    class Comment {\n        +String id\n        +String content\n        +Int likeCount\n        +String authorId\n        +String? authorNickname\n        +String? parentId\n        +Date createdAt\n        +String refId\n    }\n\n    class CommentMeta {\n        +String id\n        +Int commentCount\n        +Int betCount\n        +String refId\n    }\n\n    class UserInfo {\n        +String id\n        +String? nickname\n        +String? avatar\n    }\n\n    class Message {\n        +String id\n        +String content\n        +Int messageNo\n        +String authorId\n        +String? authorNickname\n        +MessageType messageType\n        +Date createdAt\n        +String chatroomId\n    }\n\n    class ChatroomInfo {\n        +String id\n        +String chatroomId\n        +Int lastMessageNo\n        +String refId\n    }\n\n    class SortMode {\n        +String value\n    }\n\n    class Cursor {\n        +String? value\n    }\n\n    class PagingInfo {\n        +Bool hasMore\n        +Cursor? nextCursor\n    }\n\n    class MessageType {\n        +String value\n    }\n\n    Comment --|&gt; UserInfo : has author\n    Comment --&gt; Comment : references (parentId)\n    Comment --|&gt; CommentMeta : belongs to\n    Message --|&gt; UserInfo : has author\n    Message --|&gt; ChatroomInfo : belongs to\n    PagingInfo *-- Cursor : contains</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>classDiagram\n    class Comment {\n        +String id\n        +String content\n        +Int likeCount\n        +String authorId\n        +String? authorNickname\n        +String? parentId\n        +Date createdAt\n        +String refId\n    }\n\n    class CommentMeta {\n        +String id\n        +Int commentCount\n        +Int betCount\n        +String refId\n    }\n\n    class UserInfo {\n        +String id\n        +String? nickname\n        +String? avatar\n    }\n\n    class Message {\n        +String id\n        +String content\n        +Int messageNo\n        +String authorId\n        +String? authorNickname\n        +MessageType messageType\n        +Date createdAt\n        +String chatroomId\n    }\n\n    class ChatroomInfo {\n        +String id\n        +String chatroomId\n        +Int lastMessageNo\n        +String refId\n    }\n\n    class SortMode {\n        +String value\n    }\n\n    class Cursor {\n        +String? value\n    }\n\n    class PagingInfo {\n        +Bool hasMore\n        +Cursor? nextCursor\n    }\n\n    class MessageType {\n        +String value\n    }\n\n    Comment --|&gt; UserInfo : has author\n    Comment --&gt; Comment : references (parentId)\n    Comment --|&gt; CommentMeta : belongs to\n    Message --|&gt; UserInfo : has author\n    Message --|&gt; ChatroomInfo : belongs to\n    PagingInfo *-- Cursor : contains\n</code></pre>"},{"location":"04_Domain%20Model/02_domain_model_uml_standard/#_1","title":"\u95dc\u4fc2\u8aaa\u660e","text":""},{"location":"04_Domain%20Model/02_domain_model_uml_standard/#association","title":"Association\uff08\u95dc\u806f\uff09","text":"<ul> <li>Comment \u2192 UserInfo\uff1a\u7559\u8a00\u6709\u4f5c\u8005\uff08\u900f\u904e <code>authorId</code> \u5f15\u7528\uff09</li> <li>Comment \u2192 Comment\uff1a\u56de\u8986\u5f15\u7528\u7236\u7559\u8a00\uff08\u900f\u904e <code>parentId</code> \u5f15\u7528\uff09</li> <li>Comment \u2192 CommentMeta\uff1a\u7559\u8a00\u5c6c\u65bc\u7559\u8a00\u7d71\u8a08\uff08\u900f\u904e <code>refId</code> \u95dc\u806f\uff09</li> <li>Message \u2192 UserInfo\uff1a\u8a0a\u606f\u6709\u4f5c\u8005\uff08\u900f\u904e <code>authorId</code> \u5f15\u7528\uff09</li> <li>Message \u2192 ChatroomInfo\uff1a\u8a0a\u606f\u5c6c\u65bc\u804a\u5929\u5ba4\uff08\u900f\u904e <code>chatroomId</code> \u5f15\u7528\uff09</li> </ul>"},{"location":"04_Domain%20Model/02_domain_model_uml_standard/#composition","title":"Composition\uff08\u7d44\u5408\uff09","text":"<ul> <li>PagingInfo \u2192 Cursor\uff1a\u5206\u9801\u8cc7\u8a0a\u5305\u542b\u6e38\u6a19\uff08\u76f4\u63a5\u5305\u542b <code>nextCursor: Cursor?</code>\uff09</li> </ul>"},{"location":"04_Domain%20Model/02_domain_model_uml_standard/#_2","title":"\u8a9e\u610f\u5316\u95dc\u4fc2\u5716","text":"<pre><code>flowchart TD\n    Comment[\"Comment&lt;br/&gt;(\u7559\u8a00\u5be6\u9ad4)\"]\n    CommentMeta[\"CommentMeta&lt;br/&gt;(\u7559\u8a00\u7d71\u8a08\u5be6\u9ad4)\"]\n    UserInfo[\"UserInfo&lt;br/&gt;(\u7528\u6236\u8cc7\u8a0a\u5be6\u9ad4)\"]\n    Message[\"Message&lt;br/&gt;(\u804a\u5929\u8a0a\u606f\u5be6\u9ad4)\"]\n    ChatroomInfo[\"ChatroomInfo&lt;br/&gt;(\u804a\u5929\u5ba4\u8cc7\u8a0a\u5be6\u9ad4)\"]\n    SortMode[\"SortMode&lt;br/&gt;(\u6392\u5e8f\u6a21\u5f0f\u503c\u7269\u4ef6)\"]\n    Cursor[\"Cursor&lt;br/&gt;(\u5206\u9801\u6e38\u6a19\u503c\u7269\u4ef6)\"]\n    PagingInfo[\"PagingInfo&lt;br/&gt;(\u5206\u9801\u8cc7\u8a0a\u503c\u7269\u4ef6)\"]\n    MessageType[\"MessageType&lt;br/&gt;(\u8a0a\u606f\u985e\u578b\u503c\u7269\u4ef6)\"]\n\n    Comment --&gt;|has author| UserInfo\n    Comment --&gt;|references| Comment\n    Comment --&gt;|belongs to| CommentMeta\n    Message --&gt;|has author| UserInfo\n    Message --&gt;|belongs to| ChatroomInfo\n    PagingInfo --&gt;|contains| Cursor</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>flowchart TD\n    Comment[\"Comment&lt;br/&gt;(\u7559\u8a00\u5be6\u9ad4)\"]\n    CommentMeta[\"CommentMeta&lt;br/&gt;(\u7559\u8a00\u7d71\u8a08\u5be6\u9ad4)\"]\n    UserInfo[\"UserInfo&lt;br/&gt;(\u7528\u6236\u8cc7\u8a0a\u5be6\u9ad4)\"]\n    Message[\"Message&lt;br/&gt;(\u804a\u5929\u8a0a\u606f\u5be6\u9ad4)\"]\n    ChatroomInfo[\"ChatroomInfo&lt;br/&gt;(\u804a\u5929\u5ba4\u8cc7\u8a0a\u5be6\u9ad4)\"]\n    SortMode[\"SortMode&lt;br/&gt;(\u6392\u5e8f\u6a21\u5f0f\u503c\u7269\u4ef6)\"]\n    Cursor[\"Cursor&lt;br/&gt;(\u5206\u9801\u6e38\u6a19\u503c\u7269\u4ef6)\"]\n    PagingInfo[\"PagingInfo&lt;br/&gt;(\u5206\u9801\u8cc7\u8a0a\u503c\u7269\u4ef6)\"]\n    MessageType[\"MessageType&lt;br/&gt;(\u8a0a\u606f\u985e\u578b\u503c\u7269\u4ef6)\"]\n\n    Comment --&gt;|has author| UserInfo\n    Comment --&gt;|references| Comment\n    Comment --&gt;|belongs to| CommentMeta\n    Message --&gt;|has author| UserInfo\n    Message --&gt;|belongs to| ChatroomInfo\n    PagingInfo --&gt;|contains| Cursor\n</code></pre>"},{"location":"04_Domain%20Model/02_domain_model_uml_standard/#_3","title":"\u95dc\u4fc2\u8a73\u7d30\u8aaa\u660e","text":"\u95dc\u4fc2 \u8a9e\u610f\u5316\u95dc\u4fc2 \u6a19\u6e96 UML \u95dc\u4fc2 \u95dc\u4fc2\u8aaa\u660e \u5be6\u4f5c\u65b9\u5f0f \u65b9\u5411 Comment \u2192 UserInfo has author Association \u7559\u8a00\u6709\u4f5c\u8005 <code>authorId: String</code>\uff08\u5f15\u7528 UserInfo.id\uff09 \u55ae\u5411 Comment \u2192 Comment references Association \u56de\u8986\u5f15\u7528\u7236\u7559\u8a00 <code>parentId: String?</code>\uff08\u5f15\u7528 Comment.id\uff09 \u55ae\u5411 Comment \u2192 CommentMeta belongs to Association \u7559\u8a00\u5c6c\u65bc\u7559\u8a00\u7d71\u8a08 <code>refId: String</code>\uff08\u5f15\u7528 CommentMeta.refId\uff09 \u55ae\u5411 Message \u2192 UserInfo has author Association \u8a0a\u606f\u6709\u4f5c\u8005 <code>authorId: String</code>\uff08\u5f15\u7528 UserInfo.id\uff09 \u55ae\u5411 Message \u2192 ChatroomInfo belongs to Association \u8a0a\u606f\u5c6c\u65bc\u804a\u5929\u5ba4 <code>chatroomId: String</code>\uff08\u5f15\u7528 ChatroomInfo.chatroomId\uff09 \u55ae\u5411 PagingInfo \u2192 Cursor contains Composition \u5206\u9801\u8cc7\u8a0a\u5305\u542b\u6e38\u6a19 <code>nextCursor: Cursor?</code>\uff08\u76f4\u63a5\u5305\u542b\uff09 \u55ae\u5411"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/","title":"LiveChat Module Sequence Diagrams","text":"<p>\u672c\u76ee\u9304\u5305\u542b LiveChat Feature \u7684\u6a21\u7d44\u5e8f\u5217\u5716\u3002</p>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/#_1","title":"\u6587\u4ef6\u5217\u8868","text":"<ul> <li><code>01_data_initialization_initialize_chatroom.md</code> - \u521d\u59cb\u5316\u804a\u5929\u5ba4\u6d41\u7a0b</li> <li><code>02_data_interaction_send_message.md</code> - \u767c\u9001\u804a\u5929\u8a0a\u606f\u6d41\u7a0b</li> <li><code>03_structural_navigation_block_user.md</code> - \u5c01\u9396\u7528\u6236\u6d41\u7a0b</li> <li><code>04_structural_navigation_profile.md</code> - \u8df3\u8f49\u500b\u4eba\u4e3b\u9801\u6d41\u7a0b</li> </ul>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/#flow","title":"Flow \u95dc\u4fc2","text":"Flow ID Flow Type Flow Name \u7236\u6d41\u7a0b LC-FULL-001 Full \u7528\u6236\u9032\u5165\u8207\u96e2\u958b\u804a\u5929\u5ba4\uff08\u542b WebSocket \u76f8\u4f9d\uff09 - LC-SUB-001 Sub \u7528\u6236\u7559 comment \u6642\u767b\u5165\u8207 nickname \u6aa2\u67e5 LC-FULL-001 LC-SUB-002 Sub \u7528\u6236\u9ede\u64ca avatar \u8207\u5c01\u9396\u5176\u4ed6 user \u908f\u8f2f LC-FULL-001 LC-SUB-003 Sub \u804a\u5929\u5ba4\u8a0a\u606f\u50b3\u905e\u8207\u6efe\u52d5\u52a0\u8f09 LC-FULL-001"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/01_data_initialization_initialize_chatroom/","title":"\u521d\u59cb\u5316\u804a\u5929\u5ba4\u6d41\u7a0b","text":""},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/01_data_initialization_initialize_chatroom/#flow","title":"Flow \u8cc7\u8a0a","text":"\u6b04\u4f4d \u503c feature LiveChat flow_id LC-FULL-001 flow_type Full flow_name \u7528\u6236\u9032\u5165\u8207\u96e2\u958b\u804a\u5929\u5ba4\uff08\u542b WebSocket \u76f8\u4f9d\uff09 parent_flow_id null parent_flow_name null original_annotation @flow: Full"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/01_data_initialization_initialize_chatroom/#_2","title":"\u6a21\u7d44\u8aaa\u660e","text":"\u6a21\u7d44\u540d\u7a31 \u8077\u8cac LiveDetailView \u76f4\u64ad\u8a73\u60c5\u9801\u9762 LiveChatFeature TCA Reducer\uff0c\u7ba1\u7406\u804a\u5929\u5ba4\u76f8\u95dc\u7684 State \u548c Action JoinChatroomUseCase \u52a0\u5165\u804a\u5929\u5ba4\u4e26\u8f09\u5165\u6b77\u53f2\u8a0a\u606f LeaveChatroomUseCase \u96e2\u958b\u804a\u5929\u5ba4\u4e26\u6e05\u7406\u5feb\u53d6 LiveChatRepository Domain \u8cc7\u6599\u4f86\u6e90\u7684\u62bd\u8c61\u4ecb\u9762\uff08\u804a\u5929\u5ba4\u76f8\u95dc\uff09 LiveChatClient HTTP \u901a\u8a0a\uff08\u804a\u5929\u5ba4\u76f8\u95dc\uff09 ChatWebSocketClient WebSocket \u901a\u8a0a\uff08\u5373\u6642\u8a0a\u606f\uff09 ChatAPI \u5f8c\u7aef endpoint \u5b9a\u7fa9\uff08\u804a\u5929\u5ba4\u76f8\u95dc\uff09"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/01_data_initialization_initialize_chatroom/#_3","title":"\u6d41\u7a0b\u8aaa\u660e","text":"\u6d41\u7a0b\u6b65\u9a5f \u8aaa\u660e 1. \u9032\u5165\u9801\u9762\u8207 WebSocket \u8a02\u95b1 1. \u7528\u6236\u9032\u5165 Live Detail Page2. \u81ea\u52d5\u5efa\u7acb WebSocket \u9023\u7dda 2. \u53d6\u5f97\u804a\u5929\u5ba4\u8cc7\u8a0a 1. \u5411\u4f3a\u670d\u5668\u8acb\u6c42\u804a\u5929\u5ba4 ID \u548c\u6700\u5f8c\u8a0a\u606f\u7de8\u865f2. \u6210\u529f\u5247\u5132\u5b58\u8cc7\u8a0a\uff0c\u5931\u6557\u5247\u96b1\u85cf Live Chat Bar 3. \u958b\u555f\u804a\u5929\u8996\u7a97 1. \u7528\u6236\u9ede\u64ca Join the chat \u6309\u92152. \u4f7f\u7528\u5df2\u53d6\u5f97\u7684 chatroomId \u8f09\u5165\u6b77\u53f2\u8a0a\u606f 4. \u8f09\u5165\u6b77\u53f2\u8a0a\u606f 1. \u900f\u904e backward API \u8f09\u5165\u820a\u8a0a\u606f2. \u5c07\u6b77\u53f2\u8a0a\u606f\u8207 WebSocket \u8a0a\u606f\u5408\u4f75\u4e26\u53bb\u91cd 5. \u95dc\u9589\u804a\u5929\u8996\u7a97 1. \u7528\u6236\u95dc\u9589\u804a\u5929\u5ba42. \u6e05\u9664\u672c\u5730\u5feb\u53d6\u7684\u8a0a\u606f\uff08\u4e0d\u9700\u8981\u547c\u53eb API\uff09 6. \u96e2\u958b\u9801\u9762 1. \u7528\u6236\u96e2\u958b Live Detail Page2. \u53d6\u6d88 WebSocket \u8a02\u95b1"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/01_data_initialization_initialize_chatroom/#_4","title":"\u5834\u666f\u5e8f\u5217\u5716\uff08\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\u7684\u5e8f\u5217\u5716\uff0c\u5c55\u793a\u5f9e\u696d\u52d9\u89d2\u5ea6\u7684\u5b8c\u6574\u6d41\u7a0b\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    participant LiveChat as LiveChat Package\n    participant Chat as Chat API Server\n\n    %% \u9032\u5165\u9801\u9762\n    User-&gt;&gt;LiveChat: \u9032\u5165 Live Detail Page\n    LiveChat-&gt;&gt;Chat: (subscribe) wss://www.encorebet.net/chat/websocket/web-chat\n\n    %% \u53d6\u5f97 chatroomId \u8207 lastMessageNo\n    LiveChat-&gt;&gt;Chat: GET /chat/match/{refId}\n    Chat--&gt;&gt;LiveChat: { chatroomId, lastMessageNo }\n\n    alt \u6210\u529f\u53d6\u5f97 chatroomId\n        LiveChat-&gt;&gt;LiveChat: \u5132\u5b58 chatroomId \u8207 lastMessageNo\n    else \u7121\u6cd5\u53d6\u5f97 chatroomId\n        LiveChat-&gt;&gt;LiveChat: \u96b1\u85cf Live Chat Bar\uff08user \u7121\u6cd5\u958b\u555f chatroom\uff09\n    end\n\n    %% \u4f7f\u7528\u8005\u958b\u555f\u804a\u5929\u8996\u7a97\n    User-&gt;&gt;LiveChat: \u9ede\u64ca Join the chat (\u958b\u555f Chatroom)\n    Note over LiveChat: \u4f7f\u7528\u5df2\u53d6\u5f97\u7684 chatroomId\n\n    %% backward API\uff1a\u88dc\u820a\u8a0a\u606f\n    LiveChat-&gt;&gt;Chat: GET /chat/match/backward { chatroomId, lastMessageNo }\n    Chat--&gt;&gt;LiveChat: \u8fd4\u56de historicalMessages\n    LiveChat-&gt;&gt;LiveChat: \u5c07 historicalMessages \u8207 websocketMessages \u5408\u4f75\u5f8c\u4f9d messageNo \u53bb\u91cd\u986f\u793a\n\n    %% \u4f7f\u7528\u8005\u95dc\u9589\u804a\u5929\u8996\u7a97\n    User-&gt;&gt;LiveChat: \u9ede\u64ca\u804a\u5929\u5ba4\u5916\u90e8\u7f6e\u7070\u5340\u57df\u6216 bar\uff08\u95dc\u9589 Chatroom\uff09\n    Note over LiveChat: \u50c5\u6e05\u9664\u672c\u5730\u5feb\u53d6\uff0c\u4e0d\u9700\u8981\u547c\u53eb API\n    LiveChat-&gt;&gt;LiveChat: \u6e05\u9664 cache \u7684 messages\n\n    %% \u4f7f\u7528\u8005\u96e2\u958b Live Detail Page\n    User-&gt;&gt;LiveChat: \u96e2\u958b Live Detail Page\n    LiveChat-&gt;&gt;Chat: (unsubscribe) websocket</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    participant LiveChat as LiveChat Package\n    participant Chat as Chat API Server\n\n    %% \u9032\u5165\u9801\u9762\n    User-&gt;&gt;LiveChat: \u9032\u5165 Live Detail Page\n    LiveChat-&gt;&gt;Chat: (subscribe) wss://www.encorebet.net/chat/websocket/web-chat\n\n    %% \u53d6\u5f97 chatroomId \u8207 lastMessageNo\n    LiveChat-&gt;&gt;Chat: GET /chat/match/{refId}\n    Chat--&gt;&gt;LiveChat: { chatroomId, lastMessageNo }\n\n    alt \u6210\u529f\u53d6\u5f97 chatroomId\n        LiveChat-&gt;&gt;LiveChat: \u5132\u5b58 chatroomId \u8207 lastMessageNo\n    else \u7121\u6cd5\u53d6\u5f97 chatroomId\n        LiveChat-&gt;&gt;LiveChat: \u96b1\u85cf Live Chat Bar\uff08user \u7121\u6cd5\u958b\u555f chatroom\uff09\n    end\n\n    %% \u4f7f\u7528\u8005\u958b\u555f\u804a\u5929\u8996\u7a97\n    User-&gt;&gt;LiveChat: \u9ede\u64ca Join the chat (\u958b\u555f Chatroom)\n    Note over LiveChat: \u4f7f\u7528\u5df2\u53d6\u5f97\u7684 chatroomId\n\n    %% backward API\uff1a\u88dc\u820a\u8a0a\u606f\n    LiveChat-&gt;&gt;Chat: GET /chat/match/backward { chatroomId, lastMessageNo }\n    Chat--&gt;&gt;LiveChat: \u8fd4\u56de historicalMessages\n    LiveChat-&gt;&gt;LiveChat: \u5c07 historicalMessages \u8207 websocketMessages \u5408\u4f75\u5f8c\u4f9d messageNo \u53bb\u91cd\u986f\u793a\n\n    %% \u4f7f\u7528\u8005\u95dc\u9589\u804a\u5929\u8996\u7a97\n    User-&gt;&gt;LiveChat: \u9ede\u64ca\u804a\u5929\u5ba4\u5916\u90e8\u7f6e\u7070\u5340\u57df\u6216 bar\uff08\u95dc\u9589 Chatroom\uff09\n    Note over LiveChat: \u50c5\u6e05\u9664\u672c\u5730\u5feb\u53d6\uff0c\u4e0d\u9700\u8981\u547c\u53eb API\n    LiveChat-&gt;&gt;LiveChat: \u6e05\u9664 cache \u7684 messages\n\n    %% \u4f7f\u7528\u8005\u96e2\u958b Live Detail Page\n    User-&gt;&gt;LiveChat: \u96e2\u958b Live Detail Page\n    LiveChat-&gt;&gt;Chat: (unsubscribe) websocket\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/01_data_initialization_initialize_chatroom/#_5","title":"\u6a21\u7d44\u5e8f\u5217\u5716\uff08\u67b6\u69cb\u8a2d\u8a08\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u8f49\u63db\u5f8c\u7684\u6a21\u7d44\u5e8f\u5217\u5716\uff0c\u5c55\u793a Clean Architecture \u5404\u5c64\u7d1a\u7684\u4e92\u52d5\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant LiveDetailView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant LiveChatFeature\n        participant JoinChatroomUseCase\n        participant LeaveChatroomUseCase\n    end\n    box rgb(240,240,240) Data &amp; Infrastructure Layer\n        participant LiveChatRepository\n        participant LiveChatClient\n        participant ChatWebSocketClient\n        participant ChatAPI\n    end\n    participant Server\n\n    Note over User,LiveDetailView: \u7528\u6236\u9032\u5165 Live Detail Page\n    User-&gt;&gt;LiveDetailView: \u9032\u5165 Live Detail Page\n    LiveDetailView-&gt;&gt;LiveChatFeature: onAppear\n    LiveChatFeature-&gt;&gt;LiveChatRepository: subscribeWebSocket()\n    LiveChatRepository-&gt;&gt;ChatWebSocketClient: subscribe()\n    ChatWebSocketClient-&gt;&gt;ChatAPI: WebSocket \u8a02\u95b1\n    ChatAPI-&gt;&gt;Server: wss://www.encorebet.net/chat/websocket/web-chat\n    LiveChatRepository-&gt;&gt;JoinChatroomUseCase: execute(input: JoinChatroomInput)\n    JoinChatroomUseCase-&gt;&gt;LiveChatRepository: getChatroomInfo(refId: String)\n    LiveChatRepository-&gt;&gt;LiveChatClient: getChatroomInfo(refId: String)\n    LiveChatClient-&gt;&gt;ChatAPI: GET /chat/match/{refId}\n    ChatAPI-&gt;&gt;Server: GET /chat/match/{refId}\n    Server--&gt;&gt;ChatAPI: { chatroomId, lastMessageNo }\n    ChatAPI--&gt;&gt;LiveChatClient: ChatroomInfo DTO\n    LiveChatClient--&gt;&gt;LiveChatRepository: ChatroomInfo DTO\n    LiveChatRepository--&gt;&gt;JoinChatroomUseCase: ChatroomInfo Entity\n    alt \u6210\u529f\u53d6\u5f97 chatroomId\n        JoinChatroomUseCase-&gt;&gt;JoinChatroomUseCase: \u5132\u5b58 chatroomId \u8207 lastMessageNo\n        JoinChatroomUseCase--&gt;&gt;LiveChatFeature: Output(chatroomInfo: ChatroomInfo)\n        LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n    else \u7121\u6cd5\u53d6\u5f97 chatroomId\n        JoinChatroomUseCase--&gt;&gt;LiveChatFeature: Output(error: Error)\n        LiveChatFeature-&gt;&gt;LiveChatFeature: \u96b1\u85cf Live Chat Bar\n        LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n    end\n\n    Note over User,LiveDetailView: \u7528\u6236\u958b\u555f\u804a\u5929\u8996\u7a97\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca Join the chat\n    LiveDetailView-&gt;&gt;LiveChatFeature: joinChatroom()\n    LiveChatFeature-&gt;&gt;JoinChatroomUseCase: execute(input: JoinChatroomInput)\n    JoinChatroomUseCase-&gt;&gt;LiveChatRepository: joinChatroom(chatroomId: String)\n    LiveChatRepository-&gt;&gt;LiveChatClient: joinChatroom(chatroomId: String)\n    Note over JoinChatroomUseCase: \u4f7f\u7528\u5df2\u53d6\u5f97\u7684 chatroomId \u548c lastMessageNo\n    ChatAPI-&gt;&gt;Server: POST /chat/match/join\n    Server--&gt;&gt;ChatAPI: 200 OK\n    ChatAPI--&gt;&gt;LiveChatClient: Success\n    LiveChatClient--&gt;&gt;LiveChatRepository: Success\n    LiveChatRepository--&gt;&gt;JoinChatroomUseCase: Success\n    JoinChatroomUseCase-&gt;&gt;LiveChatRepository: loadHistoricalMessages(chatroomId: String, lastMessageNo: Int)\n    LiveChatRepository-&gt;&gt;LiveChatClient: loadHistoricalMessages(chatroomId: String, lastMessageNo: Int)\n    LiveChatClient-&gt;&gt;ChatAPI: GET /chat/match/backward\n    ChatAPI-&gt;&gt;Server: POST /chat/match/backward { chatroomId, lastMessageNo }\n    Server--&gt;&gt;ChatAPI: historicalMessages\n    ChatAPI--&gt;&gt;LiveChatClient: [Message] DTO\n    LiveChatClient--&gt;&gt;LiveChatRepository: [Message] DTO\n    LiveChatRepository--&gt;&gt;JoinChatroomUseCase: [Message] Entity\n    JoinChatroomUseCase-&gt;&gt;JoinChatroomUseCase: \u5c07 historicalMessages \u8207 websocketMessages \u5408\u4f75\u5f8c\u4f9d messageNo \u53bb\u91cd\n    JoinChatroomUseCase--&gt;&gt;LiveChatFeature: Output(messages: [Message])\n    LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n\n    Note over User,LiveDetailView: \u7528\u6236\u95dc\u9589\u804a\u5929\u8996\u7a97\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca\u804a\u5929\u5ba4\u5916\u90e8\u7f6e\u7070\u5340\u57df\u6216 bar\n    LiveDetailView-&gt;&gt;LiveChatFeature: leaveChatroom()\n    LiveChatFeature-&gt;&gt;LeaveChatroomUseCase: execute(input: LeaveChatroomInput)\n    LeaveChatroomUseCase-&gt;&gt;LiveChatRepository: leaveChatroom(chatroomId: String)\n    LiveChatRepository-&gt;&gt;LiveChatClient: leaveChatroom(chatroomId: String)\n    Note over LeaveChatroomUseCase: \u50c5\u6e05\u9664\u672c\u5730\u5feb\u53d6\uff0c\u4e0d\u9700\u8981\u547c\u53eb API\n    ChatAPI-&gt;&gt;Server: POST /chat/match/leave\n    Server--&gt;&gt;ChatAPI: 200 OK\n    ChatAPI--&gt;&gt;LiveChatClient: Success\n    LiveChatClient--&gt;&gt;LiveChatRepository: Success\n    LiveChatRepository--&gt;&gt;LeaveChatroomUseCase: Success\n    LeaveChatroomUseCase-&gt;&gt;LeaveChatroomUseCase: \u6e05\u9664 cache \u7684 messages\n    LeaveChatroomUseCase-&gt;&gt;LiveChatRepository: checkAndCleanBlacklist()\n    LiveChatRepository-&gt;&gt;LiveChatRepository: \u6bd4\u8f03\u9ed1\u540d\u55ae\u7d00\u9304\u7684\u52a0\u5165\u6642\u9593\u8207\u7576\u524d\u6642\u9593\n    LiveChatRepository-&gt;&gt;LiveChatRepository: \u82e5\u8d85\u904e 4 \u5c0f\u6642\u5247\u81ea\u52d5\u79fb\u9664\u9ed1\u540d\u55ae\u7d00\u9304\n    LiveChatRepository--&gt;&gt;LeaveChatroomUseCase: Success\n    LeaveChatroomUseCase--&gt;&gt;LiveChatFeature: Output()\n    LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n\n    Note over User,LiveDetailView: \u7528\u6236\u96e2\u958b Live Detail Page\n    User-&gt;&gt;LiveDetailView: \u96e2\u958b Live Detail Page\n    LiveDetailView-&gt;&gt;LiveChatFeature: onDisappear\n    LiveChatFeature-&gt;&gt;LiveChatRepository: unsubscribeWebSocket()\n    LiveChatRepository-&gt;&gt;ChatWebSocketClient: unsubscribe()\n    ChatWebSocketClient-&gt;&gt;ChatAPI: WebSocket \u53d6\u6d88\u8a02\u95b1\n    ChatAPI-&gt;&gt;Server: WebSocket \u53d6\u6d88\u8a02\u95b1</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant LiveDetailView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant LiveChatFeature\n        participant JoinChatroomUseCase\n        participant LeaveChatroomUseCase\n    end\n    box rgb(240,240,240) Data &amp; Infrastructure Layer\n        participant LiveChatRepository\n        participant LiveChatClient\n        participant ChatWebSocketClient\n        participant ChatAPI\n    end\n    participant Server\n\n    Note over User,LiveDetailView: \u7528\u6236\u9032\u5165 Live Detail Page\n    User-&gt;&gt;LiveDetailView: \u9032\u5165 Live Detail Page\n    LiveDetailView-&gt;&gt;LiveChatFeature: onAppear\n    LiveChatFeature-&gt;&gt;LiveChatRepository: subscribeWebSocket()\n    LiveChatRepository-&gt;&gt;ChatWebSocketClient: subscribe()\n    ChatWebSocketClient-&gt;&gt;ChatAPI: WebSocket \u8a02\u95b1\n    ChatAPI-&gt;&gt;Server: wss://www.encorebet.net/chat/websocket/web-chat\n    LiveChatRepository-&gt;&gt;JoinChatroomUseCase: execute(input: JoinChatroomInput)\n    JoinChatroomUseCase-&gt;&gt;LiveChatRepository: getChatroomInfo(refId: String)\n    LiveChatRepository-&gt;&gt;LiveChatClient: getChatroomInfo(refId: String)\n    LiveChatClient-&gt;&gt;ChatAPI: GET /chat/match/{refId}\n    ChatAPI-&gt;&gt;Server: GET /chat/match/{refId}\n    Server--&gt;&gt;ChatAPI: { chatroomId, lastMessageNo }\n    ChatAPI--&gt;&gt;LiveChatClient: ChatroomInfo DTO\n    LiveChatClient--&gt;&gt;LiveChatRepository: ChatroomInfo DTO\n    LiveChatRepository--&gt;&gt;JoinChatroomUseCase: ChatroomInfo Entity\n    alt \u6210\u529f\u53d6\u5f97 chatroomId\n        JoinChatroomUseCase-&gt;&gt;JoinChatroomUseCase: \u5132\u5b58 chatroomId \u8207 lastMessageNo\n        JoinChatroomUseCase--&gt;&gt;LiveChatFeature: Output(chatroomInfo: ChatroomInfo)\n        LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n    else \u7121\u6cd5\u53d6\u5f97 chatroomId\n        JoinChatroomUseCase--&gt;&gt;LiveChatFeature: Output(error: Error)\n        LiveChatFeature-&gt;&gt;LiveChatFeature: \u96b1\u85cf Live Chat Bar\n        LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n    end\n\n    Note over User,LiveDetailView: \u7528\u6236\u958b\u555f\u804a\u5929\u8996\u7a97\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca Join the chat\n    LiveDetailView-&gt;&gt;LiveChatFeature: joinChatroom()\n    LiveChatFeature-&gt;&gt;JoinChatroomUseCase: execute(input: JoinChatroomInput)\n    JoinChatroomUseCase-&gt;&gt;LiveChatRepository: joinChatroom(chatroomId: String)\n    LiveChatRepository-&gt;&gt;LiveChatClient: joinChatroom(chatroomId: String)\n    Note over JoinChatroomUseCase: \u4f7f\u7528\u5df2\u53d6\u5f97\u7684 chatroomId \u548c lastMessageNo\n    ChatAPI-&gt;&gt;Server: POST /chat/match/join\n    Server--&gt;&gt;ChatAPI: 200 OK\n    ChatAPI--&gt;&gt;LiveChatClient: Success\n    LiveChatClient--&gt;&gt;LiveChatRepository: Success\n    LiveChatRepository--&gt;&gt;JoinChatroomUseCase: Success\n    JoinChatroomUseCase-&gt;&gt;LiveChatRepository: loadHistoricalMessages(chatroomId: String, lastMessageNo: Int)\n    LiveChatRepository-&gt;&gt;LiveChatClient: loadHistoricalMessages(chatroomId: String, lastMessageNo: Int)\n    LiveChatClient-&gt;&gt;ChatAPI: GET /chat/match/backward\n    ChatAPI-&gt;&gt;Server: POST /chat/match/backward { chatroomId, lastMessageNo }\n    Server--&gt;&gt;ChatAPI: historicalMessages\n    ChatAPI--&gt;&gt;LiveChatClient: [Message] DTO\n    LiveChatClient--&gt;&gt;LiveChatRepository: [Message] DTO\n    LiveChatRepository--&gt;&gt;JoinChatroomUseCase: [Message] Entity\n    JoinChatroomUseCase-&gt;&gt;JoinChatroomUseCase: \u5c07 historicalMessages \u8207 websocketMessages \u5408\u4f75\u5f8c\u4f9d messageNo \u53bb\u91cd\n    JoinChatroomUseCase--&gt;&gt;LiveChatFeature: Output(messages: [Message])\n    LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n\n    Note over User,LiveDetailView: \u7528\u6236\u95dc\u9589\u804a\u5929\u8996\u7a97\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca\u804a\u5929\u5ba4\u5916\u90e8\u7f6e\u7070\u5340\u57df\u6216 bar\n    LiveDetailView-&gt;&gt;LiveChatFeature: leaveChatroom()\n    LiveChatFeature-&gt;&gt;LeaveChatroomUseCase: execute(input: LeaveChatroomInput)\n    LeaveChatroomUseCase-&gt;&gt;LiveChatRepository: leaveChatroom(chatroomId: String)\n    LiveChatRepository-&gt;&gt;LiveChatClient: leaveChatroom(chatroomId: String)\n    Note over LeaveChatroomUseCase: \u50c5\u6e05\u9664\u672c\u5730\u5feb\u53d6\uff0c\u4e0d\u9700\u8981\u547c\u53eb API\n    ChatAPI-&gt;&gt;Server: POST /chat/match/leave\n    Server--&gt;&gt;ChatAPI: 200 OK\n    ChatAPI--&gt;&gt;LiveChatClient: Success\n    LiveChatClient--&gt;&gt;LiveChatRepository: Success\n    LiveChatRepository--&gt;&gt;LeaveChatroomUseCase: Success\n    LeaveChatroomUseCase-&gt;&gt;LeaveChatroomUseCase: \u6e05\u9664 cache \u7684 messages\n    LeaveChatroomUseCase-&gt;&gt;LiveChatRepository: checkAndCleanBlacklist()\n    LiveChatRepository-&gt;&gt;LiveChatRepository: \u6bd4\u8f03\u9ed1\u540d\u55ae\u7d00\u9304\u7684\u52a0\u5165\u6642\u9593\u8207\u7576\u524d\u6642\u9593\n    LiveChatRepository-&gt;&gt;LiveChatRepository: \u82e5\u8d85\u904e 4 \u5c0f\u6642\u5247\u81ea\u52d5\u79fb\u9664\u9ed1\u540d\u55ae\u7d00\u9304\n    LiveChatRepository--&gt;&gt;LeaveChatroomUseCase: Success\n    LeaveChatroomUseCase--&gt;&gt;LiveChatFeature: Output()\n    LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n\n    Note over User,LiveDetailView: \u7528\u6236\u96e2\u958b Live Detail Page\n    User-&gt;&gt;LiveDetailView: \u96e2\u958b Live Detail Page\n    LiveDetailView-&gt;&gt;LiveChatFeature: onDisappear\n    LiveChatFeature-&gt;&gt;LiveChatRepository: unsubscribeWebSocket()\n    LiveChatRepository-&gt;&gt;ChatWebSocketClient: unsubscribe()\n    ChatWebSocketClient-&gt;&gt;ChatAPI: WebSocket \u53d6\u6d88\u8a02\u95b1\n    ChatAPI-&gt;&gt;Server: WebSocket \u53d6\u6d88\u8a02\u95b1\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/02_data_interaction_send_message/","title":"\u767c\u9001\u804a\u5929\u8a0a\u606f\u6d41\u7a0b","text":""},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/02_data_interaction_send_message/#flow","title":"Flow \u8cc7\u8a0a","text":"\u6b04\u4f4d \u503c feature LiveChat flow_id LC-SUB-001 flow_type Sub flow_name \u7528\u6236\u7559 comment \u6642\u767b\u5165\u8207 nickname \u6aa2\u67e5 parent_flow_id LC-FULL-001 parent_flow_name \u7528\u6236\u9032\u5165\u8207\u96e2\u958b\u804a\u5929\u5ba4\uff08\u542b WebSocket \u76f8\u4f9d\uff09 original_annotation @flow: Sub"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/02_data_interaction_send_message/#_2","title":"\u6a21\u7d44\u8aaa\u660e","text":"\u6a21\u7d44\u540d\u7a31 \u8077\u8cac LiveDetailView \u76f4\u64ad\u8a73\u60c5\u9801\u9762 LiveChatFeature TCA Reducer\uff0c\u7ba1\u7406\u804a\u5929\u5ba4\u76f8\u95dc\u7684 State \u548c Action SendChatMessageUseCase \u767c\u9001\u804a\u5929\u8a0a\u606f LiveChatRepository Domain \u8cc7\u6599\u4f86\u6e90\u7684\u62bd\u8c61\u4ecb\u9762\uff08\u804a\u5929\u5ba4\u76f8\u95dc\uff09 LiveChatClient HTTP \u901a\u8a0a\uff08\u804a\u5929\u5ba4\u76f8\u95dc\uff09 ChatAPI \u5f8c\u7aef endpoint \u5b9a\u7fa9\uff08\u804a\u5929\u5ba4\u76f8\u95dc\uff09 PersonalPage Package (External) \u767b\u5165\u6d41\u7a0b\uff08\u5916\u90e8 Package\uff09 FComSharedFlow Package (External) Nickname \u5efa\u7acb\u6d41\u7a0b\uff08\u5916\u90e8 Package\uff09"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/02_data_interaction_send_message/#_3","title":"\u6d41\u7a0b\u8aaa\u660e","text":"\u6d41\u7a0b\u6b65\u9a5f \u8aaa\u660e 1. \u9ede\u64ca\u8f38\u5165\u6846\u8207\u767b\u5165\u6aa2\u67e5 1. \u7528\u6236\u9ede\u64ca\u8f38\u5165\u6846\u6e96\u5099\u8f38\u5165\u7559\u8a002. \u6aa2\u67e5\u767b\u5165\u72c0\u614b3. \u672a\u767b\u5165\u5247\u8df3\u8f49\u5230 PersonalPage \u5b8c\u6210\u767b\u5165 2. \u8f38\u5165\u4e26\u9001\u51fa\u7559\u8a00 1. \u7528\u6236\u8f38\u5165\u4e26\u9001\u51fa Chat2. \u6aa2\u67e5 nickname \u662f\u5426\u5b58\u5728 3. \u6709 nickname \u6642\u767c\u9001 1. \u5df2\u6709 nickname\uff0c\u76f4\u63a5\u9001\u51fa\u7559\u8a002. \u986f\u793a\u65b0\u7559\u8a00 4. \u7121 nickname \u6642\u767c\u9001 1. \u8abf\u7528 FComSharedFlow Package \u5efa\u7acb nickname2. \u5efa\u7acb\u6210\u529f\u5f8c\u9001\u51fa\u7559\u8a003. \u986f\u793a Chat \u5728\u6700\u65b0\u7684\u4f4d\u7f6e\u4e26 highlight 3 \u79d2"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/02_data_interaction_send_message/#_4","title":"\u5834\u666f\u5e8f\u5217\u5716\uff08\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\u7684\u5e8f\u5217\u5716\uff0c\u5c55\u793a\u5f9e\u696d\u52d9\u89d2\u5ea6\u7684\u5b8c\u6574\u6d41\u7a0b\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(255, 248, 220) App\n        participant LiveChat as LiveChat Package\n        participant MainApp as Main App\n        participant PersonalPage as PersonalPage Package(external)\n        participant FComSharedFlow as FComSharedFlow Package(external)\n    end\n    participant Chat as Server\n\n    %% \u4f7f\u7528\u8005\u9ede\u64ca\u8f38\u5165\u6846 \u2192 \u5148\u505a\u767b\u5165\u6aa2\u67e5\n    User-&gt;&gt;LiveChat: \u9ede\u64ca\u8f38\u5165\u6846\uff08\u6e96\u5099\u8f38\u5165 Chat\uff09\n    note over LiveChat: \u9ede\u64ca\u8f38\u5165\u6846\u6642\u89f8\u767c\u767b\u5165\u6aa2\u67e5\n    LiveChat-&gt;&gt;MainApp: APICoordinator.shared.accountManager \u6aa2\u67e5\u767b\u5165\u72c0\u614b\n\n    alt [\u4f7f\u7528\u8005\u5df2\u767b\u5165]\n        MainApp--&gt;&gt;LiveChat: \u5df2\u767b\u5165\n        note over LiveChat: \u5df2\u767b\u5165\uff0c\u5141\u8a31\u8f38\u5165\u7559\u8a00\n    else [\u4f7f\u7528\u8005\u672a\u767b\u5165]\n        MainApp--&gt;&gt;LiveChat: \u672a\u767b\u5165\n        LiveChat-&gt;&gt;MainApp: route(to: .personalPage)\n        MainApp-&gt;&gt;PersonalPage: \u8df3\u8f49\u5230 PersonalPage\n        PersonalPage-&gt;&gt;PersonalPage: \u5b8c\u6210 user \u767b\u5165\u6d41\u7a0b\n        PersonalPage--&gt;&gt;LiveChat: \u767b\u5165\u6210\u529f\uff08\u56de\u8df3\u81f3\u539f\u9801\u9762\uff09\n        note over LiveChat: \u767b\u5165\u5b8c\u6210\u5f8c\u53ef\u518d\u6b21\u9ede\u64ca\u8f38\u5165\u6846\u7e7c\u7e8c\u6d41\u7a0b\n    end\n\n    %% \u4f7f\u7528\u8005\u8f38\u5165\u4e26\u9001\u51fa Comment/Reply\n    User-&gt;&gt;LiveChat: \u8f38\u5165\u4e26\u9001\u51fa Chat\n\n    %% nickname \u6aa2\u67e5\uff08\u900f\u904e Main App \u7684 accountManager\uff09\n    note over LiveChat: \u9001\u51fa\u524d\u6aa2\u67e5 client \u7aef nickname \u662f\u5426\u5b58\u5728\n    LiveChat-&gt;&gt;MainApp: APICoordinator.shared.accountManager.currentMetadata?.nickname \u6aa2\u67e5\n\n    alt [nickname \u5b58\u5728]\n        MainApp--&gt;&gt;LiveChat: nickname \u5b58\u5728\n        note over LiveChat: \u5df2\u6709 nickname\uff0c\u76f4\u63a5\u9001\u51fa Chat\n        LiveChat-&gt;&gt;Chat: POST /chat/match/comment { refId, content, parentId? }\n\n        alt [\u7559\u8a00\u6210\u529f]\n            Chat--&gt;&gt;LiveChat: 201 Created\uff08\u56de\u50b3 comment \u8cc7\u6599\uff09\n            LiveChat--&gt;&gt;User: \u986f\u793a\u65b0\u7559\u8a00\n        else [\u7559\u8a00\u5931\u6557]\n            Chat--&gt;&gt;LiveChat: 4xx/5xx Error\uff08\u7559\u8a00\u5931\u6557\uff09\n            LiveChat--&gt;&gt;User: \u986f\u793a\u932f\u8aa4 Toast\uff08\u7559\u8a00\u5931\u6557\uff09\n        end\n\n    else [nickname \u4e0d\u5b58\u5728]\n        MainApp--&gt;&gt;LiveChat: nickname \u4e0d\u5b58\u5728\n        note over LiveChat: \u9700\u4f7f\u7528 FComSharedFlow Package \u5efa\u7acb nickname\n\n        %% App \u7aef nickname \u5efa\u7acb\u6d41\u7a0b\uff08\u900f\u904e FComSharedFlow Package\uff09\n        LiveChat-&gt;&gt;FComSharedFlow: \u8abf\u7528 CreatNickName API\n        FComSharedFlow--&gt;&gt;User: \u986f\u793a create nickName pop-up\n        User-&gt;&gt;FComSharedFlow: \u4f7f\u7528\u8005\u8f38\u5165 nickname\n        FComSharedFlow-&gt;&gt;FComSharedFlow: FComSharedFlow Package \u5efa\u7acb nickname\n        FComSharedFlow--&gt;&gt;LiveChat: nickname \u5efa\u7acb\u6210\u529f\n\n        LiveChat-&gt;&gt;Chat: POST /chat/{matchId}/message { content, messageType: TEXT }\n\n        alt [\u7559\u8a00\u6210\u529f]\n            Chat--&gt;&gt;LiveChat: 201 Created\n            LiveChat--&gt;&gt;User: \u986f\u793a Chat \u5728\u6700\u65b0\u7684\u4f4d\u7f6e\uff0c\u4e26 highlight 3 \u79d2\n        else [\u7559\u8a00\u5931\u6557]\n            Chat--&gt;&gt;LiveChat: 4xx/5xx Error\uff08\u7559\u8a00\u5931\u6557\uff09\n            LiveChat--&gt;&gt;User: \u986f\u793a\u932f\u8aa4 Toast\uff08\u7559\u8a00\u5931\u6557\uff09\n        end\n    end</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(255, 248, 220) App\n        participant LiveChat as LiveChat Package\n        participant MainApp as Main App\n        participant PersonalPage as PersonalPage Package(external)\n        participant FComSharedFlow as FComSharedFlow Package(external)\n    end\n    participant Chat as Server\n\n    %% \u4f7f\u7528\u8005\u9ede\u64ca\u8f38\u5165\u6846 \u2192 \u5148\u505a\u767b\u5165\u6aa2\u67e5\n    User-&gt;&gt;LiveChat: \u9ede\u64ca\u8f38\u5165\u6846\uff08\u6e96\u5099\u8f38\u5165 Chat\uff09\n    note over LiveChat: \u9ede\u64ca\u8f38\u5165\u6846\u6642\u89f8\u767c\u767b\u5165\u6aa2\u67e5\n    LiveChat-&gt;&gt;MainApp: APICoordinator.shared.accountManager \u6aa2\u67e5\u767b\u5165\u72c0\u614b\n\n    alt [\u4f7f\u7528\u8005\u5df2\u767b\u5165]\n        MainApp--&gt;&gt;LiveChat: \u5df2\u767b\u5165\n        note over LiveChat: \u5df2\u767b\u5165\uff0c\u5141\u8a31\u8f38\u5165\u7559\u8a00\n    else [\u4f7f\u7528\u8005\u672a\u767b\u5165]\n        MainApp--&gt;&gt;LiveChat: \u672a\u767b\u5165\n        LiveChat-&gt;&gt;MainApp: route(to: .personalPage)\n        MainApp-&gt;&gt;PersonalPage: \u8df3\u8f49\u5230 PersonalPage\n        PersonalPage-&gt;&gt;PersonalPage: \u5b8c\u6210 user \u767b\u5165\u6d41\u7a0b\n        PersonalPage--&gt;&gt;LiveChat: \u767b\u5165\u6210\u529f\uff08\u56de\u8df3\u81f3\u539f\u9801\u9762\uff09\n        note over LiveChat: \u767b\u5165\u5b8c\u6210\u5f8c\u53ef\u518d\u6b21\u9ede\u64ca\u8f38\u5165\u6846\u7e7c\u7e8c\u6d41\u7a0b\n    end\n\n    %% \u4f7f\u7528\u8005\u8f38\u5165\u4e26\u9001\u51fa Comment/Reply\n    User-&gt;&gt;LiveChat: \u8f38\u5165\u4e26\u9001\u51fa Chat\n\n    %% nickname \u6aa2\u67e5\uff08\u900f\u904e Main App \u7684 accountManager\uff09\n    note over LiveChat: \u9001\u51fa\u524d\u6aa2\u67e5 client \u7aef nickname \u662f\u5426\u5b58\u5728\n    LiveChat-&gt;&gt;MainApp: APICoordinator.shared.accountManager.currentMetadata?.nickname \u6aa2\u67e5\n\n    alt [nickname \u5b58\u5728]\n        MainApp--&gt;&gt;LiveChat: nickname \u5b58\u5728\n        note over LiveChat: \u5df2\u6709 nickname\uff0c\u76f4\u63a5\u9001\u51fa Chat\n        LiveChat-&gt;&gt;Chat: POST /chat/match/comment { refId, content, parentId? }\n\n        alt [\u7559\u8a00\u6210\u529f]\n            Chat--&gt;&gt;LiveChat: 201 Created\uff08\u56de\u50b3 comment \u8cc7\u6599\uff09\n            LiveChat--&gt;&gt;User: \u986f\u793a\u65b0\u7559\u8a00\n        else [\u7559\u8a00\u5931\u6557]\n            Chat--&gt;&gt;LiveChat: 4xx/5xx Error\uff08\u7559\u8a00\u5931\u6557\uff09\n            LiveChat--&gt;&gt;User: \u986f\u793a\u932f\u8aa4 Toast\uff08\u7559\u8a00\u5931\u6557\uff09\n        end\n\n    else [nickname \u4e0d\u5b58\u5728]\n        MainApp--&gt;&gt;LiveChat: nickname \u4e0d\u5b58\u5728\n        note over LiveChat: \u9700\u4f7f\u7528 FComSharedFlow Package \u5efa\u7acb nickname\n\n        %% App \u7aef nickname \u5efa\u7acb\u6d41\u7a0b\uff08\u900f\u904e FComSharedFlow Package\uff09\n        LiveChat-&gt;&gt;FComSharedFlow: \u8abf\u7528 CreatNickName API\n        FComSharedFlow--&gt;&gt;User: \u986f\u793a create nickName pop-up\n        User-&gt;&gt;FComSharedFlow: \u4f7f\u7528\u8005\u8f38\u5165 nickname\n        FComSharedFlow-&gt;&gt;FComSharedFlow: FComSharedFlow Package \u5efa\u7acb nickname\n        FComSharedFlow--&gt;&gt;LiveChat: nickname \u5efa\u7acb\u6210\u529f\n\n        LiveChat-&gt;&gt;Chat: POST /chat/{matchId}/message { content, messageType: TEXT }\n\n        alt [\u7559\u8a00\u6210\u529f]\n            Chat--&gt;&gt;LiveChat: 201 Created\n            LiveChat--&gt;&gt;User: \u986f\u793a Chat \u5728\u6700\u65b0\u7684\u4f4d\u7f6e\uff0c\u4e26 highlight 3 \u79d2\n        else [\u7559\u8a00\u5931\u6557]\n            Chat--&gt;&gt;LiveChat: 4xx/5xx Error\uff08\u7559\u8a00\u5931\u6557\uff09\n            LiveChat--&gt;&gt;User: \u986f\u793a\u932f\u8aa4 Toast\uff08\u7559\u8a00\u5931\u6557\uff09\n        end\n    end\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/02_data_interaction_send_message/#_5","title":"\u6a21\u7d44\u5e8f\u5217\u5716\uff08\u67b6\u69cb\u8a2d\u8a08\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u8f49\u63db\u5f8c\u7684\u6a21\u7d44\u5e8f\u5217\u5716\uff0c\u5c55\u793a Clean Architecture \u5404\u5c64\u7d1a\u7684\u4e92\u52d5\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant LiveDetailView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant LiveChatFeature\n        participant SendChatMessageUseCase\n    end\n    box rgb(240,240,240) Data &amp; Infrastructure Layer\n        participant LiveChatRepository\n        participant LiveChatClient\n        participant ChatAPI\n    end\n    participant PersonalPagePackage as PersonalPage Package (External)\n    participant FComSharedFlowPackage as FComSharedFlow Package (External)\n    participant Server\n\n    Note over User,LiveDetailView: \u7528\u6236\u9ede\u64ca\u8f38\u5165\u6846\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca\u8f38\u5165\u6846\n    LiveDetailView-&gt;&gt;LiveChatFeature: tapInputField\n    LiveChatFeature-&gt;&gt;LiveChatFeature: \u6aa2\u67e5\u767b\u5165\u72c0\u614b\uff08\u900f\u904e Main App\uff09\n    alt \u4f7f\u7528\u8005\u5df2\u767b\u5165\n        LiveChatFeature-&gt;&gt;LiveChatFeature: \u5df2\u767b\u5165\uff0c\u5141\u8a31\u8f38\u5165\u7559\u8a00\n    else \u4f7f\u7528\u8005\u672a\u767b\u5165\n        LiveChatFeature-&gt;&gt;PersonalPagePackage: route(to: .personalPage)\n        PersonalPagePackage-&gt;&gt;PersonalPagePackage: \u5b8c\u6210 user \u767b\u5165\u6d41\u7a0b\n        PersonalPagePackage--&gt;&gt;LiveChatFeature: \u767b\u5165\u6210\u529f\uff08\u56de\u8df3\u81f3\u539f\u9801\u9762\uff09\n    end\n\n    Note over User,LiveDetailView: \u7528\u6236\u8f38\u5165\u4e26\u9001\u51fa Chat\n    User-&gt;&gt;LiveDetailView: \u8f38\u5165\u4e26\u9001\u51fa Chat\n    LiveDetailView-&gt;&gt;LiveChatFeature: sendMessage(content: String)\n    LiveChatFeature-&gt;&gt;SendChatMessageUseCase: execute(input: SendChatMessageInput)\n    SendChatMessageUseCase-&gt;&gt;SendChatMessageUseCase: \u6aa2\u67e5 nickname\uff08\u900f\u904e Main App\uff09\n    alt nickname \u5b58\u5728\n        SendChatMessageUseCase-&gt;&gt;LiveChatRepository: sendMessage(chatroomId: String, content: String, messageType: MessageType)\n        LiveChatRepository-&gt;&gt;LiveChatClient: sendMessage(chatroomId: String, content: String, messageType: MessageType)\n        LiveChatClient-&gt;&gt;ChatAPI: POST /chat/match/comment\n        ChatAPI-&gt;&gt;Server: POST /chat/match/comment { refId, content, parentId? }\n        alt \u7559\u8a00\u6210\u529f\n            Server--&gt;&gt;ChatAPI: 201 Created\uff08\u56de\u50b3 comment \u8cc7\u6599\uff09\n            ChatAPI--&gt;&gt;LiveChatClient: Message DTO\n            LiveChatClient--&gt;&gt;LiveChatRepository: Message DTO\n            LiveChatRepository--&gt;&gt;SendChatMessageUseCase: Message Entity\n            SendChatMessageUseCase--&gt;&gt;LiveChatFeature: Output(message: Message)\n            LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n            LiveDetailView--&gt;&gt;User: \u986f\u793a\u65b0\u7559\u8a00\n        else \u7559\u8a00\u5931\u6557\n            Server--&gt;&gt;ChatAPI: 4xx/5xx Error\n            ChatAPI--&gt;&gt;LiveChatClient: Error\n            LiveChatClient--&gt;&gt;LiveChatRepository: Error\n            LiveChatRepository--&gt;&gt;SendChatMessageUseCase: Error\n            SendChatMessageUseCase--&gt;&gt;LiveChatFeature: Output(error: Error)\n            LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n            LiveDetailView--&gt;&gt;User: \u986f\u793a\u932f\u8aa4 Toast\n        end\n    else nickname \u4e0d\u5b58\u5728\n        SendChatMessageUseCase-&gt;&gt;FComSharedFlowPackage: CreatNickName API\n        FComSharedFlowPackage--&gt;&gt;User: \u986f\u793a create nickName pop-up\n        User-&gt;&gt;FComSharedFlowPackage: \u4f7f\u7528\u8005\u8f38\u5165 nickname\n        FComSharedFlowPackage-&gt;&gt;FComSharedFlowPackage: FComSharedFlow Package \u5efa\u7acb nickname\n        FComSharedFlowPackage--&gt;&gt;SendChatMessageUseCase: nickname \u5efa\u7acb\u6210\u529f\n        SendChatMessageUseCase-&gt;&gt;LiveChatRepository: sendMessage(chatroomId: String, content: String, messageType: MessageType)\n        LiveChatRepository-&gt;&gt;LiveChatClient: sendMessage(chatroomId: String, content: String, messageType: MessageType)\n        LiveChatClient-&gt;&gt;ChatAPI: POST /chat/{matchId}/message\n        ChatAPI-&gt;&gt;Server: POST /chat/{matchId}/message { content, messageType: TEXT }\n        alt \u7559\u8a00\u6210\u529f\n            Server--&gt;&gt;ChatAPI: 201 Created\n            ChatAPI--&gt;&gt;LiveChatClient: Message DTO\n            LiveChatClient--&gt;&gt;LiveChatRepository: Message DTO\n            LiveChatRepository--&gt;&gt;SendChatMessageUseCase: Message Entity\n            SendChatMessageUseCase--&gt;&gt;LiveChatFeature: Output(message: Message)\n            LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n            LiveDetailView--&gt;&gt;User: \u986f\u793a Chat \u5728\u6700\u65b0\u7684\u4f4d\u7f6e\uff0c\u4e26 highlight 3 \u79d2\n        else \u7559\u8a00\u5931\u6557\n            Server--&gt;&gt;ChatAPI: 4xx/5xx Error\n            ChatAPI--&gt;&gt;LiveChatClient: Error\n            LiveChatClient--&gt;&gt;LiveChatRepository: Error\n            LiveChatRepository--&gt;&gt;SendChatMessageUseCase: Error\n            SendChatMessageUseCase--&gt;&gt;LiveChatFeature: Output(error: Error)\n            LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n            LiveDetailView--&gt;&gt;User: \u986f\u793a\u932f\u8aa4 Toast\n        end\n    end</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant LiveDetailView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant LiveChatFeature\n        participant SendChatMessageUseCase\n    end\n    box rgb(240,240,240) Data &amp; Infrastructure Layer\n        participant LiveChatRepository\n        participant LiveChatClient\n        participant ChatAPI\n    end\n    participant PersonalPagePackage as PersonalPage Package (External)\n    participant FComSharedFlowPackage as FComSharedFlow Package (External)\n    participant Server\n\n    Note over User,LiveDetailView: \u7528\u6236\u9ede\u64ca\u8f38\u5165\u6846\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca\u8f38\u5165\u6846\n    LiveDetailView-&gt;&gt;LiveChatFeature: tapInputField\n    LiveChatFeature-&gt;&gt;LiveChatFeature: \u6aa2\u67e5\u767b\u5165\u72c0\u614b\uff08\u900f\u904e Main App\uff09\n    alt \u4f7f\u7528\u8005\u5df2\u767b\u5165\n        LiveChatFeature-&gt;&gt;LiveChatFeature: \u5df2\u767b\u5165\uff0c\u5141\u8a31\u8f38\u5165\u7559\u8a00\n    else \u4f7f\u7528\u8005\u672a\u767b\u5165\n        LiveChatFeature-&gt;&gt;PersonalPagePackage: route(to: .personalPage)\n        PersonalPagePackage-&gt;&gt;PersonalPagePackage: \u5b8c\u6210 user \u767b\u5165\u6d41\u7a0b\n        PersonalPagePackage--&gt;&gt;LiveChatFeature: \u767b\u5165\u6210\u529f\uff08\u56de\u8df3\u81f3\u539f\u9801\u9762\uff09\n    end\n\n    Note over User,LiveDetailView: \u7528\u6236\u8f38\u5165\u4e26\u9001\u51fa Chat\n    User-&gt;&gt;LiveDetailView: \u8f38\u5165\u4e26\u9001\u51fa Chat\n    LiveDetailView-&gt;&gt;LiveChatFeature: sendMessage(content: String)\n    LiveChatFeature-&gt;&gt;SendChatMessageUseCase: execute(input: SendChatMessageInput)\n    SendChatMessageUseCase-&gt;&gt;SendChatMessageUseCase: \u6aa2\u67e5 nickname\uff08\u900f\u904e Main App\uff09\n    alt nickname \u5b58\u5728\n        SendChatMessageUseCase-&gt;&gt;LiveChatRepository: sendMessage(chatroomId: String, content: String, messageType: MessageType)\n        LiveChatRepository-&gt;&gt;LiveChatClient: sendMessage(chatroomId: String, content: String, messageType: MessageType)\n        LiveChatClient-&gt;&gt;ChatAPI: POST /chat/match/comment\n        ChatAPI-&gt;&gt;Server: POST /chat/match/comment { refId, content, parentId? }\n        alt \u7559\u8a00\u6210\u529f\n            Server--&gt;&gt;ChatAPI: 201 Created\uff08\u56de\u50b3 comment \u8cc7\u6599\uff09\n            ChatAPI--&gt;&gt;LiveChatClient: Message DTO\n            LiveChatClient--&gt;&gt;LiveChatRepository: Message DTO\n            LiveChatRepository--&gt;&gt;SendChatMessageUseCase: Message Entity\n            SendChatMessageUseCase--&gt;&gt;LiveChatFeature: Output(message: Message)\n            LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n            LiveDetailView--&gt;&gt;User: \u986f\u793a\u65b0\u7559\u8a00\n        else \u7559\u8a00\u5931\u6557\n            Server--&gt;&gt;ChatAPI: 4xx/5xx Error\n            ChatAPI--&gt;&gt;LiveChatClient: Error\n            LiveChatClient--&gt;&gt;LiveChatRepository: Error\n            LiveChatRepository--&gt;&gt;SendChatMessageUseCase: Error\n            SendChatMessageUseCase--&gt;&gt;LiveChatFeature: Output(error: Error)\n            LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n            LiveDetailView--&gt;&gt;User: \u986f\u793a\u932f\u8aa4 Toast\n        end\n    else nickname \u4e0d\u5b58\u5728\n        SendChatMessageUseCase-&gt;&gt;FComSharedFlowPackage: CreatNickName API\n        FComSharedFlowPackage--&gt;&gt;User: \u986f\u793a create nickName pop-up\n        User-&gt;&gt;FComSharedFlowPackage: \u4f7f\u7528\u8005\u8f38\u5165 nickname\n        FComSharedFlowPackage-&gt;&gt;FComSharedFlowPackage: FComSharedFlow Package \u5efa\u7acb nickname\n        FComSharedFlowPackage--&gt;&gt;SendChatMessageUseCase: nickname \u5efa\u7acb\u6210\u529f\n        SendChatMessageUseCase-&gt;&gt;LiveChatRepository: sendMessage(chatroomId: String, content: String, messageType: MessageType)\n        LiveChatRepository-&gt;&gt;LiveChatClient: sendMessage(chatroomId: String, content: String, messageType: MessageType)\n        LiveChatClient-&gt;&gt;ChatAPI: POST /chat/{matchId}/message\n        ChatAPI-&gt;&gt;Server: POST /chat/{matchId}/message { content, messageType: TEXT }\n        alt \u7559\u8a00\u6210\u529f\n            Server--&gt;&gt;ChatAPI: 201 Created\n            ChatAPI--&gt;&gt;LiveChatClient: Message DTO\n            LiveChatClient--&gt;&gt;LiveChatRepository: Message DTO\n            LiveChatRepository--&gt;&gt;SendChatMessageUseCase: Message Entity\n            SendChatMessageUseCase--&gt;&gt;LiveChatFeature: Output(message: Message)\n            LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n            LiveDetailView--&gt;&gt;User: \u986f\u793a Chat \u5728\u6700\u65b0\u7684\u4f4d\u7f6e\uff0c\u4e26 highlight 3 \u79d2\n        else \u7559\u8a00\u5931\u6557\n            Server--&gt;&gt;ChatAPI: 4xx/5xx Error\n            ChatAPI--&gt;&gt;LiveChatClient: Error\n            LiveChatClient--&gt;&gt;LiveChatRepository: Error\n            LiveChatRepository--&gt;&gt;SendChatMessageUseCase: Error\n            SendChatMessageUseCase--&gt;&gt;LiveChatFeature: Output(error: Error)\n            LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n            LiveDetailView--&gt;&gt;User: \u986f\u793a\u932f\u8aa4 Toast\n        end\n    end\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/03_structural_navigation_block_user/","title":"\u5c01\u9396\u7528\u6236\u6d41\u7a0b","text":""},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/03_structural_navigation_block_user/#flow","title":"Flow \u8cc7\u8a0a","text":"\u6b04\u4f4d \u503c feature LiveChat flow_id LC-SUB-002 flow_type Sub flow_name \u7528\u6236\u9ede\u64ca avatar \u8207\u5c01\u9396\u5176\u4ed6 user \u908f\u8f2f parent_flow_id LC-FULL-001 parent_flow_name \u7528\u6236\u9032\u5165\u8207\u96e2\u958b\u804a\u5929\u5ba4\uff08\u542b WebSocket \u76f8\u4f9d\uff09 original_annotation @flow: Sub"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/03_structural_navigation_block_user/#_2","title":"\u6a21\u7d44\u8aaa\u660e","text":"\u6a21\u7d44\u540d\u7a31 \u8077\u8cac LiveDetailView \u76f4\u64ad\u8a73\u60c5\u9801\u9762 LiveChatFeature TCA Reducer\uff0c\u7ba1\u7406\u804a\u5929\u5ba4\u76f8\u95dc\u7684 State \u548c Action BlockUserUseCase \u8655\u7406\u5c01\u9396\u7528\u6236\u7684\u908f\u8f2f LiveChatRepository Domain \u8cc7\u6599\u4f86\u6e90\u7684\u62bd\u8c61\u4ecb\u9762\uff08\u804a\u5929\u5ba4\u76f8\u95dc\uff09"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/03_structural_navigation_block_user/#_3","title":"\u6d41\u7a0b\u8aaa\u660e","text":"\u6d41\u7a0b\u6b65\u9a5f \u8aaa\u660e 1. \u9ede\u64ca\u7528\u6236\u540d\u7a31 1. \u7528\u6236\u9ede\u64ca\u804a\u5929\u5ba4\u4e2d\u5176\u4ed6\u7528\u6236\u7684\u540d\u7a312. \u986f\u793a\u64cd\u4f5c\u9078\u55ae\uff08\u542b\u300c\u500b\u4eba\u4e3b\u9801\u300d\u300cBlock this user\u300d\uff09 2. \u5c01\u9396\u7528\u6236 1. \u7528\u6236\u9078\u64c7\u300cBlock this user\u300d2. \u986f\u793a\u78ba\u8a8d\u5f48\u7a973. \u78ba\u8a8d\u5f8c Feature \u547c\u53eb BlockUserUseCase4. UseCase \u5c07\u8a72\u7528\u6236\u52a0\u5165\u9ed1\u540d\u55ae DB5. WebSocket \u91cd\u9023\u5f8c\u540c\u6b65 blocked user \u6e05\u55ae 3. \u9ed1\u540d\u55ae\u6e05\u7406 1. \u7528\u6236\u95dc\u9589\u804a\u5929\u5ba4\u6642\u57f7\u884c\u9ed1\u540d\u55ae\u6aa2\u67e52. \u6bd4\u8f03\u9ed1\u540d\u55ae\u7d00\u9304\u7684\u52a0\u5165\u6642\u9593\u8207\u7576\u524d\u6642\u95933. \u82e5\u8d85\u904e 4 \u5c0f\u6642\u5247\u81ea\u52d5\u79fb\u9664\u9ed1\u540d\u55ae\u7d00\u9304"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/03_structural_navigation_block_user/#_4","title":"\u5834\u666f\u5e8f\u5217\u5716\uff08\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\u7684\u5e8f\u5217\u5716\uff0c\u5c55\u793a\u5f9e\u696d\u52d9\u89d2\u5ea6\u7684\u5b8c\u6574\u6d41\u7a0b\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    participant LiveChat as LiveChat Package\n    participant MainApp as Main App\n    participant Chat as Chat API Server\n\n    %% \u4f7f\u7528\u8005\u9ede\u64ca\u4f7f\u7528\u8005\u540d\u7a31\n    User-&gt;&gt;LiveChat: \u9ede\u64ca\u4f7f\u7528\u8005\u540d\u7a31\n    LiveChat--&gt;&gt;User: \u986f\u793a\u5e95\u90e8\u5f48\u7a97\uff08\u542b\u300c\u500b\u4eba\u4e3b\u9801\u300d\u300cBlock this user\u300d\uff09\n\n    alt 1\ufe0f\u20e3 \u8df3\u8f49\u500b\u4eba\u4e3b\u9801\n        User-&gt;&gt;LiveChat: \u9ede\u64ca Go to Profile\n        LiveChat-&gt;&gt;MainApp: UIViewController+routeToDestination.route(to destination: .personal)\n        note over MainApp: \u900f\u904e routeToDestination \u8df3\u8f49\u5230 User Profile Page\n        MainApp--&gt;&gt;User: \u986f\u793a\u8a72\u4f7f\u7528\u8005\u7684\u500b\u4eba\u4e3b\u9801\u756b\u9762\n\n    else 2\ufe0f\u20e3 \u5c01\u9396\u4f7f\u7528\u8005\n        User-&gt;&gt;LiveChat: \u9ede\u64ca Block this user\n        LiveChat--&gt;&gt;User: \u986f\u793a\u78ba\u8a8d\u5f48\u7a97\n        User-&gt;&gt;LiveChat: \u9ede\u64ca\u78ba\u8a8d\u5c01\u9396\n\n        %% \u52a0\u5165\u9ed1\u540d\u55ae\n        LiveChat-&gt;&gt;LiveChat: \u5c07\u8a72 User \u52a0\u5165\u9ed1\u540d\u55ae DB (userID, eventID, timestamp)\n\n        %% websocket \u884c\u70ba\n        LiveChat-&gt;&gt;Chat: websocket \u91cd\u9023\u5f8c\u540c\u6b65 blocked user \u6e05\u55ae\n    end\n\n    %% \u4f7f\u7528\u8005\u95dc\u9589 Chatroom\n    User-&gt;&gt;LiveChat: \u95dc\u9589\u804a\u5929\u5ba4\uff08\u9000\u51fa Chatroom\uff09\n    LiveChat-&gt;&gt;LiveChat: \u57f7\u884c\u9ed1\u540d\u55ae\u6aa2\u67e5\u8207\u6e05\u7406\n\n    %% \u56db\u5c0f\u6642\u6e05\u9664\u908f\u8f2f\n    LiveChat-&gt;&gt;LiveChat: \u6bd4\u8f03\u9ed1\u540d\u55ae\u7d00\u9304\u7684\u52a0\u5165\u6642\u9593\u8207\u7576\u524d\u6642\u9593\n    LiveChat-&gt;&gt;LiveChat: \u82e5\u8d85\u904e 4 \u5c0f\u6642 \u2192 \u81ea\u52d5\u79fb\u9664\u9ed1\u540d\u55ae\u7d00\u9304</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    participant LiveChat as LiveChat Package\n    participant MainApp as Main App\n    participant Chat as Chat API Server\n\n    %% \u4f7f\u7528\u8005\u9ede\u64ca\u4f7f\u7528\u8005\u540d\u7a31\n    User-&gt;&gt;LiveChat: \u9ede\u64ca\u4f7f\u7528\u8005\u540d\u7a31\n    LiveChat--&gt;&gt;User: \u986f\u793a\u5e95\u90e8\u5f48\u7a97\uff08\u542b\u300c\u500b\u4eba\u4e3b\u9801\u300d\u300cBlock this user\u300d\uff09\n\n    alt 1\ufe0f\u20e3 \u8df3\u8f49\u500b\u4eba\u4e3b\u9801\n        User-&gt;&gt;LiveChat: \u9ede\u64ca Go to Profile\n        LiveChat-&gt;&gt;MainApp: UIViewController+routeToDestination.route(to destination: .personal)\n        note over MainApp: \u900f\u904e routeToDestination \u8df3\u8f49\u5230 User Profile Page\n        MainApp--&gt;&gt;User: \u986f\u793a\u8a72\u4f7f\u7528\u8005\u7684\u500b\u4eba\u4e3b\u9801\u756b\u9762\n\n    else 2\ufe0f\u20e3 \u5c01\u9396\u4f7f\u7528\u8005\n        User-&gt;&gt;LiveChat: \u9ede\u64ca Block this user\n        LiveChat--&gt;&gt;User: \u986f\u793a\u78ba\u8a8d\u5f48\u7a97\n        User-&gt;&gt;LiveChat: \u9ede\u64ca\u78ba\u8a8d\u5c01\u9396\n\n        %% \u52a0\u5165\u9ed1\u540d\u55ae\n        LiveChat-&gt;&gt;LiveChat: \u5c07\u8a72 User \u52a0\u5165\u9ed1\u540d\u55ae DB (userID, eventID, timestamp)\n\n        %% websocket \u884c\u70ba\n        LiveChat-&gt;&gt;Chat: websocket \u91cd\u9023\u5f8c\u540c\u6b65 blocked user \u6e05\u55ae\n    end\n\n    %% \u4f7f\u7528\u8005\u95dc\u9589 Chatroom\n    User-&gt;&gt;LiveChat: \u95dc\u9589\u804a\u5929\u5ba4\uff08\u9000\u51fa Chatroom\uff09\n    LiveChat-&gt;&gt;LiveChat: \u57f7\u884c\u9ed1\u540d\u55ae\u6aa2\u67e5\u8207\u6e05\u7406\n\n    %% \u56db\u5c0f\u6642\u6e05\u9664\u908f\u8f2f\n    LiveChat-&gt;&gt;LiveChat: \u6bd4\u8f03\u9ed1\u540d\u55ae\u7d00\u9304\u7684\u52a0\u5165\u6642\u9593\u8207\u7576\u524d\u6642\u9593\n    LiveChat-&gt;&gt;LiveChat: \u82e5\u8d85\u904e 4 \u5c0f\u6642 \u2192 \u81ea\u52d5\u79fb\u9664\u9ed1\u540d\u55ae\u7d00\u9304\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/03_structural_navigation_block_user/#_5","title":"\u6a21\u7d44\u5e8f\u5217\u5716\uff08\u67b6\u69cb\u8a2d\u8a08\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u8f49\u63db\u5f8c\u7684\u6a21\u7d44\u5e8f\u5217\u5716\uff0c\u5c55\u793a Clean Architecture \u5404\u5c64\u7d1a\u7684\u4e92\u52d5\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant LiveDetailView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant LiveChatFeature\n        participant BlockUserUseCase\n    end\n    box rgb(240,240,240) Data &amp; Infrastructure Layer\n        participant LiveChatRepository\n    end\n\n    Note over User,LiveDetailView: \u7528\u6236\u9ede\u64ca\u7528\u6236\u540d\u7a31\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca\u4f7f\u7528\u8005\u540d\u7a31\n    LiveDetailView-&gt;&gt;LiveChatFeature: tapUserName(userId: String)\n    LiveChatFeature--&gt;&gt;LiveDetailView: \u986f\u793a\u5e95\u90e8\u5f48\u7a97\n    LiveDetailView--&gt;&gt;User: \u986f\u793a\u5e95\u90e8\u5f48\u7a97\uff08\u542b\u300c\u500b\u4eba\u4e3b\u9801\u300d\u300cBlock this user\u300d\uff09\n\n    Note over User,LiveDetailView: \u7528\u6236\u9078\u64c7\u5c01\u9396\u4f7f\u7528\u8005\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca Block this user\n    LiveDetailView-&gt;&gt;LiveChatFeature: blockUser(userId: String)\n    LiveChatFeature--&gt;&gt;LiveDetailView: \u986f\u793a\u78ba\u8a8d\u5f48\u7a97\n    LiveDetailView--&gt;&gt;User: \u986f\u793a\u78ba\u8a8d\u5f48\u7a97\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca\u78ba\u8a8d\u5c01\u9396\n    LiveDetailView-&gt;&gt;LiveChatFeature: confirmBlockUser(userId: String)\n    LiveChatFeature-&gt;&gt;BlockUserUseCase: execute(input: BlockUserInput)\n    BlockUserUseCase-&gt;&gt;LiveChatRepository: addToBlacklist(userId: String, eventId: String, timestamp: Date)\n    LiveChatRepository-&gt;&gt;LiveChatRepository: \u5c07\u8a72 User \u52a0\u5165\u9ed1\u540d\u55ae DB (userID, eventID, timestamp)\n    LiveChatRepository--&gt;&gt;BlockUserUseCase: Success\n    BlockUserUseCase-&gt;&gt;BlockUserUseCase: websocket \u91cd\u9023\u5f8c\u540c\u6b65 blocked user \u6e05\u55ae\n    BlockUserUseCase--&gt;&gt;LiveChatFeature: Output()\n    LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n\n    Note over User,LiveDetailView: \u7528\u6236\u95dc\u9589\u804a\u5929\u5ba4\u6642\u7684\u9ed1\u540d\u55ae\u6e05\u7406\u908f\u8f2f\n    Note over User,LiveDetailView: \u8acb\u53c3\u8003 01_data_initialization_initialize_chatroom.md \u4e2d\u7684 LeaveChatroomUseCase \u6d41\u7a0b</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant LiveDetailView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant LiveChatFeature\n        participant BlockUserUseCase\n    end\n    box rgb(240,240,240) Data &amp; Infrastructure Layer\n        participant LiveChatRepository\n    end\n\n    Note over User,LiveDetailView: \u7528\u6236\u9ede\u64ca\u7528\u6236\u540d\u7a31\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca\u4f7f\u7528\u8005\u540d\u7a31\n    LiveDetailView-&gt;&gt;LiveChatFeature: tapUserName(userId: String)\n    LiveChatFeature--&gt;&gt;LiveDetailView: \u986f\u793a\u5e95\u90e8\u5f48\u7a97\n    LiveDetailView--&gt;&gt;User: \u986f\u793a\u5e95\u90e8\u5f48\u7a97\uff08\u542b\u300c\u500b\u4eba\u4e3b\u9801\u300d\u300cBlock this user\u300d\uff09\n\n    Note over User,LiveDetailView: \u7528\u6236\u9078\u64c7\u5c01\u9396\u4f7f\u7528\u8005\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca Block this user\n    LiveDetailView-&gt;&gt;LiveChatFeature: blockUser(userId: String)\n    LiveChatFeature--&gt;&gt;LiveDetailView: \u986f\u793a\u78ba\u8a8d\u5f48\u7a97\n    LiveDetailView--&gt;&gt;User: \u986f\u793a\u78ba\u8a8d\u5f48\u7a97\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca\u78ba\u8a8d\u5c01\u9396\n    LiveDetailView-&gt;&gt;LiveChatFeature: confirmBlockUser(userId: String)\n    LiveChatFeature-&gt;&gt;BlockUserUseCase: execute(input: BlockUserInput)\n    BlockUserUseCase-&gt;&gt;LiveChatRepository: addToBlacklist(userId: String, eventId: String, timestamp: Date)\n    LiveChatRepository-&gt;&gt;LiveChatRepository: \u5c07\u8a72 User \u52a0\u5165\u9ed1\u540d\u55ae DB (userID, eventID, timestamp)\n    LiveChatRepository--&gt;&gt;BlockUserUseCase: Success\n    BlockUserUseCase-&gt;&gt;BlockUserUseCase: websocket \u91cd\u9023\u5f8c\u540c\u6b65 blocked user \u6e05\u55ae\n    BlockUserUseCase--&gt;&gt;LiveChatFeature: Output()\n    LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n\n    Note over User,LiveDetailView: \u7528\u6236\u95dc\u9589\u804a\u5929\u5ba4\u6642\u7684\u9ed1\u540d\u55ae\u6e05\u7406\u908f\u8f2f\n    Note over User,LiveDetailView: \u8acb\u53c3\u8003 01_data_initialization_initialize_chatroom.md \u4e2d\u7684 LeaveChatroomUseCase \u6d41\u7a0b\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/04_structural_navigation_profile/","title":"\u8df3\u8f49\u500b\u4eba\u4e3b\u9801\u6d41\u7a0b","text":""},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/04_structural_navigation_profile/#flow","title":"Flow \u8cc7\u8a0a","text":"\u6b04\u4f4d \u503c feature LiveChat flow_id LC-SUB-002 (\u90e8\u5206\u6d41\u7a0b) flow_type Sub flow_name \u7528\u6236\u9ede\u64ca avatar \u8207\u5c01\u9396\u5176\u4ed6 user \u908f\u8f2f\uff08\u8df3\u8f49\u500b\u4eba\u4e3b\u9801\u90e8\u5206\uff09 parent_flow_id LC-FULL-001 parent_flow_name \u7528\u6236\u9032\u5165\u8207\u96e2\u958b\u804a\u5929\u5ba4\uff08\u542b WebSocket \u76f8\u4f9d\uff09 original_annotation @flow: Sub"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/04_structural_navigation_profile/#_2","title":"\u6a21\u7d44\u8aaa\u660e","text":"\u6a21\u7d44\u540d\u7a31 \u8077\u8cac LiveDetailView \u76f4\u64ad\u8a73\u60c5\u9801\u9762 LiveChatFeature TCA Reducer\uff0c\u7ba1\u7406\u804a\u5929\u5ba4\u76f8\u95dc\u7684 State \u548c Action NavigateToProfileUseCase \u8655\u7406\u8df3\u8f49\u5230\u500b\u4eba\u4e3b\u9801\u7684\u908f\u8f2f PersonalPageAdapter Protocol \u500b\u4eba\u4e3b\u9801\u8def\u7531\u8df3\u8f49\u7684 Protocol\uff08\u5b9a\u7fa9\u5728 LiveChat Package \u4e2d\uff09"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/04_structural_navigation_profile/#_3","title":"\u6d41\u7a0b\u8aaa\u660e","text":"\u6d41\u7a0b\u6b65\u9a5f \u8aaa\u660e 1. \u9ede\u64ca\u7528\u6236\u540d\u7a31 1. \u7528\u6236\u9ede\u64ca\u804a\u5929\u5ba4\u4e2d\u5176\u4ed6\u7528\u6236\u7684\u540d\u7a312. \u986f\u793a\u64cd\u4f5c\u9078\u55ae\uff08\u542b\u300c\u500b\u4eba\u4e3b\u9801\u300d\u300cBlock this user\u300d\uff09 2. \u8df3\u8f49\u500b\u4eba\u4e3b\u9801 1. \u7528\u6236\u9078\u64c7\u300cGo to Profile\u300d2. Feature \u547c\u53eb NavigateToProfileUseCase3. UseCase \u900f\u904e PersonalPageAdapter Protocol \u57f7\u884c\u8def\u7531\u8df3\u8f49"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/04_structural_navigation_profile/#_4","title":"\u5834\u666f\u5e8f\u5217\u5716\uff08\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\u7684\u5e8f\u5217\u5716\uff0c\u5c55\u793a\u5f9e\u696d\u52d9\u89d2\u5ea6\u7684\u5b8c\u6574\u6d41\u7a0b\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    participant MainApp as Main App\n\n    User-&gt;&gt;MainApp: \u9ede\u64ca\u4f7f\u7528\u8005\u540d\u7a31\u53ca Avatar\n\n    MainApp-&gt;&gt;MainApp: UIViewController+routeToDestination.route(to destination: .personal)\n    note over MainApp: \u900f\u904e routeToDestination \u8df3\u8f49\u5230 User Profile Page\n    MainApp--&gt;&gt;User: \u986f\u793a\u8a72\u4f7f\u7528\u8005\u7684\u500b\u4eba\u4e3b\u9801\u756b\u9762</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    participant MainApp as Main App\n\n    User-&gt;&gt;MainApp: \u9ede\u64ca\u4f7f\u7528\u8005\u540d\u7a31\u53ca Avatar\n\n    MainApp-&gt;&gt;MainApp: UIViewController+routeToDestination.route(to destination: .personal)\n    note over MainApp: \u900f\u904e routeToDestination \u8df3\u8f49\u5230 User Profile Page\n    MainApp--&gt;&gt;User: \u986f\u793a\u8a72\u4f7f\u7528\u8005\u7684\u500b\u4eba\u4e3b\u9801\u756b\u9762\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/04_structural_navigation_profile/#_5","title":"\u6a21\u7d44\u5e8f\u5217\u5716\uff08\u67b6\u69cb\u8a2d\u8a08\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u8f49\u63db\u5f8c\u7684\u6a21\u7d44\u5e8f\u5217\u5716\uff0c\u5c55\u793a Clean Architecture \u5404\u5c64\u7d1a\u7684\u4e92\u52d5\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant LiveDetailView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant LiveChatFeature\n        participant NavigateToProfileUseCase\n    end\n    participant PersonalPageAdapterProtocol as \"&lt;PersonalPageAdapter&gt;\"\n\n    Note over User,LiveDetailView: \u7528\u6236\u9ede\u64ca\u7528\u6236\u540d\u7a31\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca\u4f7f\u7528\u8005\u540d\u7a31\n    LiveDetailView-&gt;&gt;LiveChatFeature: tapUserName(userId: String)\n    LiveChatFeature--&gt;&gt;LiveDetailView: \u986f\u793a\u5e95\u90e8\u5f48\u7a97\n    LiveDetailView--&gt;&gt;User: \u986f\u793a\u5e95\u90e8\u5f48\u7a97\uff08\u542b\u300c\u500b\u4eba\u4e3b\u9801\u300d\u300cBlock this user\u300d\uff09\n\n    Note over User,LiveDetailView: \u7528\u6236\u9078\u64c7\u8df3\u8f49\u500b\u4eba\u4e3b\u9801\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca Go to Profile\n    LiveDetailView-&gt;&gt;LiveChatFeature: navigateToProfile(userId: String)\n    LiveChatFeature-&gt;&gt;NavigateToProfileUseCase: execute(input: NavigateToProfileInput)\n    NavigateToProfileUseCase-&gt;&gt;PersonalPageAdapterProtocol: navigateToProfile(userId: String)\n    PersonalPageAdapterProtocol-&gt;&gt;PersonalPageAdapterProtocol: \u900f\u904e routeToDestination \u8df3\u8f49\u5230 User Profile Page\n    PersonalPageAdapterProtocol--&gt;&gt;NavigateToProfileUseCase: Success\n    NavigateToProfileUseCase--&gt;&gt;LiveChatFeature: Output()\n    LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n    LiveDetailView--&gt;&gt;User: \u986f\u793a\u8a72\u4f7f\u7528\u8005\u7684\u500b\u4eba\u4e3b\u9801\u756b\u9762</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant LiveDetailView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant LiveChatFeature\n        participant NavigateToProfileUseCase\n    end\n    participant PersonalPageAdapterProtocol as \"&lt;PersonalPageAdapter&gt;\"\n\n    Note over User,LiveDetailView: \u7528\u6236\u9ede\u64ca\u7528\u6236\u540d\u7a31\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca\u4f7f\u7528\u8005\u540d\u7a31\n    LiveDetailView-&gt;&gt;LiveChatFeature: tapUserName(userId: String)\n    LiveChatFeature--&gt;&gt;LiveDetailView: \u986f\u793a\u5e95\u90e8\u5f48\u7a97\n    LiveDetailView--&gt;&gt;User: \u986f\u793a\u5e95\u90e8\u5f48\u7a97\uff08\u542b\u300c\u500b\u4eba\u4e3b\u9801\u300d\u300cBlock this user\u300d\uff09\n\n    Note over User,LiveDetailView: \u7528\u6236\u9078\u64c7\u8df3\u8f49\u500b\u4eba\u4e3b\u9801\n    User-&gt;&gt;LiveDetailView: \u9ede\u64ca Go to Profile\n    LiveDetailView-&gt;&gt;LiveChatFeature: navigateToProfile(userId: String)\n    LiveChatFeature-&gt;&gt;NavigateToProfileUseCase: execute(input: NavigateToProfileInput)\n    NavigateToProfileUseCase-&gt;&gt;PersonalPageAdapterProtocol: navigateToProfile(userId: String)\n    PersonalPageAdapterProtocol-&gt;&gt;PersonalPageAdapterProtocol: \u900f\u904e routeToDestination \u8df3\u8f49\u5230 User Profile Page\n    PersonalPageAdapterProtocol--&gt;&gt;NavigateToProfileUseCase: Success\n    NavigateToProfileUseCase--&gt;&gt;LiveChatFeature: Output()\n    LiveChatFeature--&gt;&gt;LiveDetailView: \u66f4\u65b0 State\n    LiveDetailView--&gt;&gt;User: \u986f\u793a\u8a72\u4f7f\u7528\u8005\u7684\u500b\u4eba\u4e3b\u9801\u756b\u9762\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/","title":"PrematchComment Module Sequence Diagrams","text":"<p>\u672c\u76ee\u9304\u5305\u542b PrematchComment Feature \u7684\u6a21\u7d44\u5e8f\u5217\u5716\u3002</p>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/#_1","title":"\u6587\u4ef6\u5217\u8868","text":"<ul> <li><code>01_data_initialization_refresh.md</code> - \u521d\u59cb\u5316\u8207\u5237\u65b0\u7559\u8a00\u5217\u8868\u6d41\u7a0b</li> <li><code>02_data_interaction_publish_comment.md</code> - \u767c\u9001\u7559\u8a00\u6d41\u7a0b</li> <li><code>03_data_interaction_toggle_like.md</code> - \u5207\u63db Like \u72c0\u614b\u6d41\u7a0b</li> <li><code>04_data_interaction_load_replies.md</code> - \u8f09\u5165\u56de\u8986\u5217\u8868\u6d41\u7a0b</li> <li><code>05_structural_navigation_profile.md</code> - \u8df3\u8f49\u500b\u4eba\u4e3b\u9801\u6d41\u7a0b</li> <li><code>06_event_status_subscription.md</code> - Event Status \u8a02\u95b1\u8207\u901a\u77e5\u6d41\u7a0b</li> </ul>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/#flow","title":"Flow \u95dc\u4fc2","text":"Flow ID Flow Type Flow Name \u7236\u6d41\u7a0b PC-FULL-001 Full \u7528\u6236\u9032\u5165 Upcoming Race Page, Prematch Comment Page \u8207 Top - PC-SUB-001 Sub Event Status \u8a02\u95b1\u8207\u901a\u77e5\u6d41\u7a0b PC-FULL-001 PC-SUB-002 Sub \u7528\u6236\u767c Comment - Reply\uff08\u542b\u767b\u5165\u8207 nickname \u6aa2\u67e5\uff09 PC-FULL-001 PC-SUB-003 Sub \u7528\u6236\u67e5\u770b replies\uff08\u542b\u5206\u9801\u8f09\u5165\uff09 PC-FULL-001 PC-SUB-004 Sub \u7528\u6236\u9ede\u64ca Like\uff08\u542b\u767b\u5165\u6aa2\u67e5\uff09 PC-FULL-001 PC-SUB-005 Sub \u7528\u6236\u9ede\u64ca\u7528\u6236\u540d\u7a31 \u2192 \u8df3\u8f49\u500b\u4eba\u4e3b\u9801 PC-FULL-001 PC-SUB-001 Sub Event Status \u8a02\u95b1\u8207\u901a\u77e5\u6d41\u7a0b PC-FULL-001"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/01_data_initialization_refresh/","title":"\u521d\u59cb\u5316\u8207\u5237\u65b0\u7559\u8a00\u5217\u8868\u6d41\u7a0b","text":""},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/01_data_initialization_refresh/#flow","title":"Flow \u8cc7\u8a0a","text":"\u6b04\u4f4d \u503c feature PrematchComment flow_id PC-FULL-001 flow_type Full flow_name \u7528\u6236\u9032\u5165 Upcoming Race Page, Prematch Comment Page \u8207 Top parent_flow_id null parent_flow_name null original_annotation @flow: Full"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/01_data_initialization_refresh/#_2","title":"\u6a21\u7d44\u8aaa\u660e","text":"\u6a21\u7d44\u540d\u7a31 \u8077\u8cac RaceDetailView \u8cfd\u4e8b\u8a73\u60c5\u9801\u9762 PrematchCommentView \u8cfd\u524d\u7559\u8a00\u9801\u9762 PrematchCommentFeature TCA Reducer\uff0c\u7ba1\u7406\u8a55\u8ad6\u76f8\u95dc\u7684 State \u548c Action ReloadCommentListUseCase \u8f09\u5165\u8a55\u8ad6\u5217\u8868\uff08\u652f\u63f4 top/newest \u6a21\u5f0f\uff09 PrematchCommentRepository Domain \u8cc7\u6599\u4f86\u6e90\u7684\u62bd\u8c61\u4ecb\u9762\uff08\u8a55\u8ad6\u76f8\u95dc\uff09 PrematchCommentClient HTTP \u901a\u8a0a\uff08\u8a55\u8ad6\u76f8\u95dc\uff09 PrematchCommentAPI \u5f8c\u7aef endpoint \u5b9a\u7fa9\uff08\u8a55\u8ad6\u76f8\u95dc\uff09"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/01_data_initialization_refresh/#_3","title":"\u6d41\u7a0b\u8aaa\u660e","text":"\u6d41\u7a0b\u6b65\u9a5f \u8aaa\u660e 1. \u9032\u5165\u9801\u9762\u8207\u53d6\u5f97\u500b\u4eba\u8cc7\u8a0a 1. \u7528\u6236\u9032\u5165 Race Detail Page2. \u81ea\u52d5\u53d6\u5f97\u7528\u6236\u500b\u4eba\u8cc7\u8a0a3. \u81ea\u52d5\u53d6\u5f97\u8cfd\u4e8b\u7559\u8a00\u7d71\u8a08\u8cc7\u8a0a 2. \u9032\u5165 Prematch Comment Page 1. \u7528\u6236\u9032\u5165 Prematch Comment Page2. \u9810\u8a2d\u986f\u793a Top \u6a19\u7c643. \u8f09\u5165\u71b1\u9580\u7559\u8a00\u5217\u8868 3. \u5207\u63db\u6a19\u7c64 1. \u7528\u6236\u5207\u63db Top / Newest \u6a19\u7c642. \u6839\u64da\u7576\u524d\u6a19\u7c64\u8f09\u5165\u5c0d\u61c9\u7684\u7559\u8a00\u5217\u8868 4. \u624b\u52d5\u5237\u65b0 1. \u7528\u6236\u9ede\u64ca Refresh button2. \u6839\u64da\u7576\u524d\u6a19\u7c64\u91cd\u65b0\u8f09\u5165\u6700\u65b0\u7684\u7559\u8a00\u5217\u8868"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/01_data_initialization_refresh/#_4","title":"\u5834\u666f\u5e8f\u5217\u5716\uff08\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\u7684\u5e8f\u5217\u5716\uff0c\u5c55\u793a\u5f9e\u696d\u52d9\u89d2\u5ea6\u7684\u5b8c\u6574\u6d41\u7a0b\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    participant App\n    participant Server as Server\n\n    %% \u9032\u5165\u9801\u9762 &amp; \u53d6\u5f97\u500b\u4eba\u8cc7\u8a0a\n    User-&gt;&gt;App: \u9032\u5165 Race Detail Page\n    App-&gt;&gt;Server: GET /{TBD \u500b\u4eba\u8cc7\u8a0a API}\n    note over App,Server: \ud83d\udea8 \u9700\u8207 Eason \u78ba\u8a8d\u5be6\u969b API\uff0c\u6216\u78ba\u8a8d\u662f\u5426\u53ef\u8207 Han \u7684\u6d41\u7a0b\u4e32\u63a5\n    Server--&gt;&gt;App: userInfo\n    note over App: \u5c07 userInfo \u5132\u5b58\u5728 client side\uff08\u4f8b\u5982\u66ab\u5b58\u5728\u8a18\u61b6\u9ad4 / state\uff09\n\n    %% \u53d6\u5f97\u8cfd\u4e8b\u7559\u8a00\u8207\u6295\u6ce8\u8cc7\u8a0a\n    App-&gt;&gt;Server: GET /chat/match/comment/info/{refId}\n    Server--&gt;&gt;App: { commentCount, betCount }\n\n    %% \u9810\u8a2d Top tab\n    User-&gt;&gt;App: \u9032\u5165 Prematch Comment Page\n    App-&gt;&gt;Server: GET /chat/match/comment/popular\n    note over App: \ud83d\udfe2 Default tab is Top\n    Server--&gt;&gt;App: comments (sorted by like)\n\n    %% \u5207\u63db tab\n    User-&gt;&gt;App: \u5207\u63db tab\n    alt [App \u5224\u65b7\u76ee\u524d\u70ba Newest tab]\n        App-&gt;&gt;Server: GET /chat/match/comment/newest\n        Server--&gt;&gt;App: comments (sorted by time)\n    else [\u4f7f\u7528\u8005\u7dad\u6301\u5728 Top tab]\n        App-&gt;&gt;Server: GET /chat/match/comment/popular\n        Server--&gt;&gt;App: comments\n    end\n\n    %% \u4f7f\u7528\u8005\u624b\u52d5\u5237\u65b0\n    User-&gt;&gt;App: \u9ede\u64ca\u300cRefresh button\u300d\n    alt [\u76ee\u524d\u5728 Top tab]\n        App-&gt;&gt;Server: GET /chat/match/comment/popular\n        Server--&gt;&gt;App: \u6700\u65b0 comments (\u6309 Like \u6578)\n    else [\u76ee\u524d\u5728 Newest tab]\n        App-&gt;&gt;Server: GET /chat/match/comment/newest\n        Server--&gt;&gt;App: \u6700\u65b0 comments (\u6309\u6642\u9593)\n    end</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    participant App\n    participant Server as Server\n\n    %% \u9032\u5165\u9801\u9762 &amp; \u53d6\u5f97\u500b\u4eba\u8cc7\u8a0a\n    User-&gt;&gt;App: \u9032\u5165 Race Detail Page\n    App-&gt;&gt;Server: GET /{TBD \u500b\u4eba\u8cc7\u8a0a API}\n    note over App,Server: \ud83d\udea8 \u9700\u8207 Eason \u78ba\u8a8d\u5be6\u969b API\uff0c\u6216\u78ba\u8a8d\u662f\u5426\u53ef\u8207 Han \u7684\u6d41\u7a0b\u4e32\u63a5\n    Server--&gt;&gt;App: userInfo\n    note over App: \u5c07 userInfo \u5132\u5b58\u5728 client side\uff08\u4f8b\u5982\u66ab\u5b58\u5728\u8a18\u61b6\u9ad4 / state\uff09\n\n    %% \u53d6\u5f97\u8cfd\u4e8b\u7559\u8a00\u8207\u6295\u6ce8\u8cc7\u8a0a\n    App-&gt;&gt;Server: GET /chat/match/comment/info/{refId}\n    Server--&gt;&gt;App: { commentCount, betCount }\n\n    %% \u9810\u8a2d Top tab\n    User-&gt;&gt;App: \u9032\u5165 Prematch Comment Page\n    App-&gt;&gt;Server: GET /chat/match/comment/popular\n    note over App: \ud83d\udfe2 Default tab is Top\n    Server--&gt;&gt;App: comments (sorted by like)\n\n    %% \u5207\u63db tab\n    User-&gt;&gt;App: \u5207\u63db tab\n    alt [App \u5224\u65b7\u76ee\u524d\u70ba Newest tab]\n        App-&gt;&gt;Server: GET /chat/match/comment/newest\n        Server--&gt;&gt;App: comments (sorted by time)\n    else [\u4f7f\u7528\u8005\u7dad\u6301\u5728 Top tab]\n        App-&gt;&gt;Server: GET /chat/match/comment/popular\n        Server--&gt;&gt;App: comments\n    end\n\n    %% \u4f7f\u7528\u8005\u624b\u52d5\u5237\u65b0\n    User-&gt;&gt;App: \u9ede\u64ca\u300cRefresh button\u300d\n    alt [\u76ee\u524d\u5728 Top tab]\n        App-&gt;&gt;Server: GET /chat/match/comment/popular\n        Server--&gt;&gt;App: \u6700\u65b0 comments (\u6309 Like \u6578)\n    else [\u76ee\u524d\u5728 Newest tab]\n        App-&gt;&gt;Server: GET /chat/match/comment/newest\n        Server--&gt;&gt;App: \u6700\u65b0 comments (\u6309\u6642\u9593)\n    end\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/01_data_initialization_refresh/#_5","title":"\u6a21\u7d44\u5e8f\u5217\u5716\uff08\u67b6\u69cb\u8a2d\u8a08\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u8f49\u63db\u5f8c\u7684\u6a21\u7d44\u5e8f\u5217\u5716\uff0c\u5c55\u793a Clean Architecture \u5404\u5c64\u7d1a\u7684\u4e92\u52d5\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant RaceDetailView\n        participant PrematchCommentView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant PrematchCommentFeature\n        participant ReloadCommentListUseCase\n    end\n    box rgb(240,240,240) Data &amp; Infrastructure Layer\n        participant PrematchCommentRepository\n        participant PrematchCommentClient\n        participant PrematchCommentAPI\n    end\n    participant Server\n\n    Note over User,RaceDetailView: \u7528\u6236\u9032\u5165 Race Detail Page\n    User-&gt;&gt;RaceDetailView: \u9032\u5165 Race Detail Page\n    RaceDetailView-&gt;&gt;PrematchCommentFeature: onAppear\n    PrematchCommentFeature-&gt;&gt;ReloadCommentListUseCase: execute(triggerType: .init)\n    ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getUserInfo()\n    PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getUserInfo()\n    PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /{TBD \u500b\u4eba\u8cc7\u8a0a API}\n    PrematchCommentAPI-&gt;&gt;Server: GET /{TBD \u500b\u4eba\u8cc7\u8a0a API}\n    Server--&gt;&gt;PrematchCommentAPI: userInfo\n    PrematchCommentAPI--&gt;&gt;PrematchCommentClient: userInfo DTO\n    PrematchCommentClient--&gt;&gt;PrematchCommentRepository: userInfo DTO\n    PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: UserInfo Entity\n    ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getCommentMeta(refId: String)\n    PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getCommentMeta(refId: String)\n    PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/info/{refId}\n    PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/info/{refId}\n    Server--&gt;&gt;PrematchCommentAPI: { commentCount, betCount }\n    PrematchCommentAPI--&gt;&gt;PrematchCommentClient: CommentMeta DTO\n    PrematchCommentClient--&gt;&gt;PrematchCommentRepository: CommentMeta DTO\n    PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: CommentMeta Entity\n    ReloadCommentListUseCase--&gt;&gt;PrematchCommentFeature: Output(comments: [], meta: CommentMeta)\n    PrematchCommentFeature--&gt;&gt;RaceDetailView: \u66f4\u65b0 State\n\n    Note over User,PrematchCommentView: \u7528\u6236\u9032\u5165 Prematch Comment Page\n    User-&gt;&gt;PrematchCommentView: \u9032\u5165 Prematch Comment Page\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: onAppear\n    PrematchCommentFeature-&gt;&gt;ReloadCommentListUseCase: execute(triggerType: .init, mode: .top)\n    ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getComments(refId: String, mode: .top)\n    PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getComments(refId: String, mode: .top)\n    PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/popular\n    PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/popular\n    Server--&gt;&gt;PrematchCommentAPI: comments (sorted by like)\n    PrematchCommentAPI--&gt;&gt;PrematchCommentClient: [Comment] DTO\n    PrematchCommentClient--&gt;&gt;PrematchCommentRepository: [Comment] DTO\n    PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: [Comment] Entity\n    ReloadCommentListUseCase--&gt;&gt;PrematchCommentFeature: Output(comments: [Comment])\n    PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n\n    Note over User,PrematchCommentView: \u7528\u6236\u5207\u63db\u6a19\u7c64\n    User-&gt;&gt;PrematchCommentView: \u5207\u63db tab\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: switchTab(mode: SortMode)\n    alt \u5207\u63db\u81f3 Newest tab\n        PrematchCommentFeature-&gt;&gt;ReloadCommentListUseCase: execute(triggerType: .switch, mode: .newest)\n        ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getComments(refId: String, mode: .newest)\n        PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getComments(refId: String, mode: .newest)\n        PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/newest\n        PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/newest\n        Server--&gt;&gt;PrematchCommentAPI: comments (sorted by time)\n        PrematchCommentAPI--&gt;&gt;PrematchCommentClient: [Comment] DTO\n        PrematchCommentClient--&gt;&gt;PrematchCommentRepository: [Comment] DTO\n        PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: [Comment] Entity\n        ReloadCommentListUseCase--&gt;&gt;PrematchCommentFeature: Output(comments: [Comment])\n        PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n    else \u7dad\u6301\u5728 Top tab\n        PrematchCommentFeature-&gt;&gt;ReloadCommentListUseCase: execute(triggerType: .switch, mode: .top)\n        ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getComments(refId: String, mode: .top)\n        PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getComments(refId: String, mode: .top)\n        PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/popular\n        PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/popular\n        Server--&gt;&gt;PrematchCommentAPI: comments\n        PrematchCommentAPI--&gt;&gt;PrematchCommentClient: [Comment] DTO\n        PrematchCommentClient--&gt;&gt;PrematchCommentRepository: [Comment] DTO\n        PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: [Comment] Entity\n        ReloadCommentListUseCase--&gt;&gt;PrematchCommentFeature: Output(comments: [Comment])\n        PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n    end\n\n    Note over User,PrematchCommentView: \u7528\u6236\u624b\u52d5\u5237\u65b0\n    User-&gt;&gt;PrematchCommentView: \u9ede\u64ca Refresh button\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: refresh()\n    alt \u76ee\u524d\u5728 Top tab\n        PrematchCommentFeature-&gt;&gt;ReloadCommentListUseCase: execute(triggerType: .refresh, mode: .top)\n        ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getComments(refId: String, mode: .top)\n        PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getComments(refId: String, mode: .top)\n        PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/popular\n        PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/popular\n        Server--&gt;&gt;PrematchCommentAPI: \u6700\u65b0 comments (\u6309 Like \u6578)\n        PrematchCommentAPI--&gt;&gt;PrematchCommentClient: [Comment] DTO\n        PrematchCommentClient--&gt;&gt;PrematchCommentRepository: [Comment] DTO\n        PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: [Comment] Entity\n        ReloadCommentListUseCase--&gt;&gt;PrematchCommentFeature: Output(comments: [Comment])\n        PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n    else \u76ee\u524d\u5728 Newest tab\n        PrematchCommentFeature-&gt;&gt;ReloadCommentListUseCase: execute(triggerType: .refresh, mode: .newest)\n        ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getComments(refId: String, mode: .newest)\n        PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getComments(refId: String, mode: .newest)\n        PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/newest\n        PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/newest\n        Server--&gt;&gt;PrematchCommentAPI: \u6700\u65b0 comments (\u6309\u6642\u9593)\n        PrematchCommentAPI--&gt;&gt;PrematchCommentClient: [Comment] DTO\n        PrematchCommentClient--&gt;&gt;PrematchCommentRepository: [Comment] DTO\n        PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: [Comment] Entity\n        ReloadCommentListUseCase--&gt;&gt;PrematchCommentFeature: Output(comments: [Comment])\n        PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n    end</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant RaceDetailView\n        participant PrematchCommentView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant PrematchCommentFeature\n        participant ReloadCommentListUseCase\n    end\n    box rgb(240,240,240) Data &amp; Infrastructure Layer\n        participant PrematchCommentRepository\n        participant PrematchCommentClient\n        participant PrematchCommentAPI\n    end\n    participant Server\n\n    Note over User,RaceDetailView: \u7528\u6236\u9032\u5165 Race Detail Page\n    User-&gt;&gt;RaceDetailView: \u9032\u5165 Race Detail Page\n    RaceDetailView-&gt;&gt;PrematchCommentFeature: onAppear\n    PrematchCommentFeature-&gt;&gt;ReloadCommentListUseCase: execute(triggerType: .init)\n    ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getUserInfo()\n    PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getUserInfo()\n    PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /{TBD \u500b\u4eba\u8cc7\u8a0a API}\n    PrematchCommentAPI-&gt;&gt;Server: GET /{TBD \u500b\u4eba\u8cc7\u8a0a API}\n    Server--&gt;&gt;PrematchCommentAPI: userInfo\n    PrematchCommentAPI--&gt;&gt;PrematchCommentClient: userInfo DTO\n    PrematchCommentClient--&gt;&gt;PrematchCommentRepository: userInfo DTO\n    PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: UserInfo Entity\n    ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getCommentMeta(refId: String)\n    PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getCommentMeta(refId: String)\n    PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/info/{refId}\n    PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/info/{refId}\n    Server--&gt;&gt;PrematchCommentAPI: { commentCount, betCount }\n    PrematchCommentAPI--&gt;&gt;PrematchCommentClient: CommentMeta DTO\n    PrematchCommentClient--&gt;&gt;PrematchCommentRepository: CommentMeta DTO\n    PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: CommentMeta Entity\n    ReloadCommentListUseCase--&gt;&gt;PrematchCommentFeature: Output(comments: [], meta: CommentMeta)\n    PrematchCommentFeature--&gt;&gt;RaceDetailView: \u66f4\u65b0 State\n\n    Note over User,PrematchCommentView: \u7528\u6236\u9032\u5165 Prematch Comment Page\n    User-&gt;&gt;PrematchCommentView: \u9032\u5165 Prematch Comment Page\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: onAppear\n    PrematchCommentFeature-&gt;&gt;ReloadCommentListUseCase: execute(triggerType: .init, mode: .top)\n    ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getComments(refId: String, mode: .top)\n    PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getComments(refId: String, mode: .top)\n    PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/popular\n    PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/popular\n    Server--&gt;&gt;PrematchCommentAPI: comments (sorted by like)\n    PrematchCommentAPI--&gt;&gt;PrematchCommentClient: [Comment] DTO\n    PrematchCommentClient--&gt;&gt;PrematchCommentRepository: [Comment] DTO\n    PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: [Comment] Entity\n    ReloadCommentListUseCase--&gt;&gt;PrematchCommentFeature: Output(comments: [Comment])\n    PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n\n    Note over User,PrematchCommentView: \u7528\u6236\u5207\u63db\u6a19\u7c64\n    User-&gt;&gt;PrematchCommentView: \u5207\u63db tab\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: switchTab(mode: SortMode)\n    alt \u5207\u63db\u81f3 Newest tab\n        PrematchCommentFeature-&gt;&gt;ReloadCommentListUseCase: execute(triggerType: .switch, mode: .newest)\n        ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getComments(refId: String, mode: .newest)\n        PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getComments(refId: String, mode: .newest)\n        PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/newest\n        PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/newest\n        Server--&gt;&gt;PrematchCommentAPI: comments (sorted by time)\n        PrematchCommentAPI--&gt;&gt;PrematchCommentClient: [Comment] DTO\n        PrematchCommentClient--&gt;&gt;PrematchCommentRepository: [Comment] DTO\n        PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: [Comment] Entity\n        ReloadCommentListUseCase--&gt;&gt;PrematchCommentFeature: Output(comments: [Comment])\n        PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n    else \u7dad\u6301\u5728 Top tab\n        PrematchCommentFeature-&gt;&gt;ReloadCommentListUseCase: execute(triggerType: .switch, mode: .top)\n        ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getComments(refId: String, mode: .top)\n        PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getComments(refId: String, mode: .top)\n        PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/popular\n        PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/popular\n        Server--&gt;&gt;PrematchCommentAPI: comments\n        PrematchCommentAPI--&gt;&gt;PrematchCommentClient: [Comment] DTO\n        PrematchCommentClient--&gt;&gt;PrematchCommentRepository: [Comment] DTO\n        PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: [Comment] Entity\n        ReloadCommentListUseCase--&gt;&gt;PrematchCommentFeature: Output(comments: [Comment])\n        PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n    end\n\n    Note over User,PrematchCommentView: \u7528\u6236\u624b\u52d5\u5237\u65b0\n    User-&gt;&gt;PrematchCommentView: \u9ede\u64ca Refresh button\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: refresh()\n    alt \u76ee\u524d\u5728 Top tab\n        PrematchCommentFeature-&gt;&gt;ReloadCommentListUseCase: execute(triggerType: .refresh, mode: .top)\n        ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getComments(refId: String, mode: .top)\n        PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getComments(refId: String, mode: .top)\n        PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/popular\n        PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/popular\n        Server--&gt;&gt;PrematchCommentAPI: \u6700\u65b0 comments (\u6309 Like \u6578)\n        PrematchCommentAPI--&gt;&gt;PrematchCommentClient: [Comment] DTO\n        PrematchCommentClient--&gt;&gt;PrematchCommentRepository: [Comment] DTO\n        PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: [Comment] Entity\n        ReloadCommentListUseCase--&gt;&gt;PrematchCommentFeature: Output(comments: [Comment])\n        PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n    else \u76ee\u524d\u5728 Newest tab\n        PrematchCommentFeature-&gt;&gt;ReloadCommentListUseCase: execute(triggerType: .refresh, mode: .newest)\n        ReloadCommentListUseCase-&gt;&gt;PrematchCommentRepository: getComments(refId: String, mode: .newest)\n        PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getComments(refId: String, mode: .newest)\n        PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/newest\n        PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/newest\n        Server--&gt;&gt;PrematchCommentAPI: \u6700\u65b0 comments (\u6309\u6642\u9593)\n        PrematchCommentAPI--&gt;&gt;PrematchCommentClient: [Comment] DTO\n        PrematchCommentClient--&gt;&gt;PrematchCommentRepository: [Comment] DTO\n        PrematchCommentRepository--&gt;&gt;ReloadCommentListUseCase: [Comment] Entity\n        ReloadCommentListUseCase--&gt;&gt;PrematchCommentFeature: Output(comments: [Comment])\n        PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n    end\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/02_data_interaction_publish_comment/","title":"\u767c\u9001\u7559\u8a00\u6d41\u7a0b","text":""},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/02_data_interaction_publish_comment/#flow","title":"Flow \u8cc7\u8a0a","text":"\u6b04\u4f4d \u503c feature PrematchComment flow_id PC-SUB-002 flow_type Sub flow_name \u7528\u6236\u767c Comment - Reply\uff08\u542b\u767b\u5165\u8207 nickname \u6aa2\u67e5\uff09 parent_flow_id PC-FULL-001 parent_flow_name \u7528\u6236\u9032\u5165 Upcoming Race Page, Prematch Comment Page \u8207 Top original_annotation @flow: Sub"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/02_data_interaction_publish_comment/#_2","title":"\u6a21\u7d44\u8aaa\u660e","text":"\u6a21\u7d44\u540d\u7a31 \u8077\u8cac PrematchCommentView \u8cfd\u524d\u7559\u8a00\u9801\u9762 PrematchCommentFeature TCA Reducer\uff0c\u7ba1\u7406\u8a55\u8ad6\u76f8\u95dc\u7684 State \u548c Action PublishCommentUseCase \u767c\u9001\u7559\u8a00\u6216\u56de\u8986 PrematchCommentRepository Domain \u8cc7\u6599\u4f86\u6e90\u7684\u62bd\u8c61\u4ecb\u9762\uff08\u8a55\u8ad6\u76f8\u95dc\uff09 PrematchCommentClient HTTP \u901a\u8a0a\uff08\u8a55\u8ad6\u76f8\u95dc\uff09 PrematchCommentAPI \u5f8c\u7aef endpoint \u5b9a\u7fa9\uff08\u8a55\u8ad6\u76f8\u95dc\uff09 PersonalPage Package (External) \u767b\u5165\u6d41\u7a0b\uff08\u5916\u90e8 Package\uff09 FComSharedFlow Package (External) Nickname \u5efa\u7acb\u6d41\u7a0b\uff08\u5916\u90e8 Package\uff09"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/02_data_interaction_publish_comment/#_3","title":"\u6d41\u7a0b\u8aaa\u660e","text":"\u6d41\u7a0b\u6b65\u9a5f \u8aaa\u660e 1. \u9ede\u64ca\u8f38\u5165\u6846\u8207\u767b\u5165\u6aa2\u67e5 1. \u7528\u6236\u9ede\u64ca\u8f38\u5165\u6846\u6e96\u5099\u8f38\u5165\u7559\u8a00\u6216\u56de\u89862. \u6aa2\u67e5\u767b\u5165\u72c0\u614b3. \u672a\u767b\u5165\u5247\u8df3\u8f49\u5230 PersonalPage \u5b8c\u6210\u767b\u5165 2. \u8f38\u5165\u4e26\u9001\u51fa\u7559\u8a00 1. \u7528\u6236\u8f38\u5165\u4e26\u9001\u51fa Comment/Reply2. \u6aa2\u67e5 nickname \u662f\u5426\u5b58\u5728 3. \u6709 nickname \u6642\u767c\u9001 1. \u5df2\u6709 nickname\uff0c\u76f4\u63a5\u9001\u51fa\u7559\u8a002. \u986f\u793a\u65b0\u7559\u8a00 4. \u7121 nickname \u6642\u767c\u9001 1. \u8abf\u7528 FComSharedFlow Package \u5efa\u7acb nickname2. \u5efa\u7acb\u6210\u529f\u5f8c\u9001\u51fa\u7559\u8a003. \u986f\u793a\u65b0\u7559\u8a00"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/02_data_interaction_publish_comment/#_4","title":"\u5834\u666f\u5e8f\u5217\u5716\uff08\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\u7684\u5e8f\u5217\u5716\uff0c\u5c55\u793a\u5f9e\u696d\u52d9\u89d2\u5ea6\u7684\u5b8c\u6574\u6d41\u7a0b\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(255, 248, 220) App\n        participant PrematchComment as PrematchComment Package\n        participant MainApp as Main App\n        participant PersonalPage as PersonalPage Package(external)\n        participant FComSharedFlow as FComSharedFlow Package(external)\n    end\n    participant Chat as Server\n\n    %% \u4f7f\u7528\u8005\u9ede\u64ca\u8f38\u5165\u6846 \u2192 \u5148\u505a\u767b\u5165\u6aa2\u67e5\n    User-&gt;&gt;PrematchComment: \u9ede\u64ca\u8f38\u5165\u6846\uff08\u6e96\u5099\u8f38\u5165 Comment/Reply\uff09\n    note over PrematchComment: \u9ede\u64ca\u8f38\u5165\u6846\u6642\u89f8\u767c\u767b\u5165\u6aa2\u67e5\n    PrematchComment-&gt;&gt;MainApp: APICoordinator.shared.accountManager \u6aa2\u67e5\u767b\u5165\u72c0\u614b\n\n    alt [\u4f7f\u7528\u8005\u5df2\u767b\u5165]\n        MainApp--&gt;&gt;PrematchComment: \u5df2\u767b\u5165\n        note over PrematchComment: \u5df2\u767b\u5165\uff0c\u5141\u8a31\u8f38\u5165\u7559\u8a00\n    else [\u4f7f\u7528\u8005\u672a\u767b\u5165]\n        MainApp--&gt;&gt;PrematchComment: \u672a\u767b\u5165\n        PrematchComment-&gt;&gt;MainApp: route(to: .personalPage)\n        MainApp-&gt;&gt;PersonalPage: \u8df3\u8f49\u5230 PersonalPage\n        PersonalPage-&gt;&gt;PersonalPage: \u5b8c\u6210 user \u767b\u5165\u6d41\u7a0b\n        PersonalPage--&gt;&gt;PrematchComment: \u767b\u5165\u6210\u529f\uff08\u56de\u8df3\u81f3\u539f\u9801\u9762\uff09\n        note over PrematchComment: \u767b\u5165\u5b8c\u6210\u5f8c\u53ef\u518d\u6b21\u9ede\u64ca\u8f38\u5165\u6846\u7e7c\u7e8c\u6d41\u7a0b\n    end\n\n    %% \u4f7f\u7528\u8005\u8f38\u5165\u4e26\u9001\u51fa Comment/Reply\n    User-&gt;&gt;PrematchComment: \u8f38\u5165\u4e26\u9001\u51fa Comment/Reply\n\n    %% nickname \u6aa2\u67e5\uff08\u900f\u904e Main App \u7684 accountManager\uff09\n    note over PrematchComment: \u9001\u51fa\u524d\u6aa2\u67e5 client \u7aef nickname \u662f\u5426\u5b58\u5728\n    PrematchComment-&gt;&gt;MainApp: APICoordinator.shared.accountManager.currentMetadata?.nickname \u6aa2\u67e5\n\n    alt [nickname \u5b58\u5728]\n        MainApp--&gt;&gt;PrematchComment: nickname \u5b58\u5728\n        note over PrematchComment: \u5df2\u6709 nickname\uff0c\u76f4\u63a5\u9001\u51fa\u7559\u8a00\n        PrematchComment-&gt;&gt;Chat: POST /chat/match/comment { refId, content, parentId? }\n\n        alt [\u7559\u8a00\u6210\u529f]\n            Chat--&gt;&gt;PrematchComment: 201 Created\uff08\u56de\u50b3 comment \u8cc7\u6599\uff09\n            PrematchComment--&gt;&gt;User: \u986f\u793a\u65b0\u7559\u8a00\n        else [\u7559\u8a00\u5931\u6557]\n            Chat--&gt;&gt;PrematchComment: 4xx/5xx Error\uff08\u7559\u8a00\u5931\u6557\uff09\n            PrematchComment--&gt;&gt;User: \u986f\u793a\u932f\u8aa4 Toast\uff08\u7559\u8a00\u5931\u6557\uff09\n        end\n\n    else [nickname \u4e0d\u5b58\u5728]\n        MainApp--&gt;&gt;PrematchComment: nickname \u4e0d\u5b58\u5728\n        note over PrematchComment: \u9700\u4f7f\u7528 FComSharedFlow Package \u5efa\u7acb nickname\n\n        %% App \u7aef nickname \u5efa\u7acb\u6d41\u7a0b\uff08\u900f\u904e FComSharedFlow Package\uff09\n        PrematchComment-&gt;&gt;FComSharedFlow: \u8abf\u7528 CreatNickName API\n        FComSharedFlow--&gt;&gt;User: \u986f\u793a create nickName pop-up\n        User-&gt;&gt;FComSharedFlow: \u4f7f\u7528\u8005\u8f38\u5165 nickname\n        FComSharedFlow-&gt;&gt;FComSharedFlow: FComSharedFlow Package \u5efa\u7acb nickname\n        FComSharedFlow--&gt;&gt;PrematchComment: nickname \u5efa\u7acb\u6210\u529f\n\n        PrematchComment-&gt;&gt;Chat: POST /chat/match/comment { refId, content, parentId? }\n\n        alt [\u7559\u8a00\u6210\u529f]\n            Chat--&gt;&gt;PrematchComment: 201 Created\uff08\u56de\u50b3 comment \u8cc7\u6599\uff09\n            PrematchComment--&gt;&gt;User: \u986f\u793a\u65b0\u7559\u8a00\n        else [\u7559\u8a00\u5931\u6557]\n            Chat--&gt;&gt;PrematchComment: 4xx/5xx Error\uff08\u7559\u8a00\u5931\u6557\uff09\n            PrematchComment--&gt;&gt;User: \u986f\u793a\u932f\u8aa4 Toast\uff08\u7559\u8a00\u5931\u6557\uff09\n        end\n    end</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(255, 248, 220) App\n        participant PrematchComment as PrematchComment Package\n        participant MainApp as Main App\n        participant PersonalPage as PersonalPage Package(external)\n        participant FComSharedFlow as FComSharedFlow Package(external)\n    end\n    participant Chat as Server\n\n    %% \u4f7f\u7528\u8005\u9ede\u64ca\u8f38\u5165\u6846 \u2192 \u5148\u505a\u767b\u5165\u6aa2\u67e5\n    User-&gt;&gt;PrematchComment: \u9ede\u64ca\u8f38\u5165\u6846\uff08\u6e96\u5099\u8f38\u5165 Comment/Reply\uff09\n    note over PrematchComment: \u9ede\u64ca\u8f38\u5165\u6846\u6642\u89f8\u767c\u767b\u5165\u6aa2\u67e5\n    PrematchComment-&gt;&gt;MainApp: APICoordinator.shared.accountManager \u6aa2\u67e5\u767b\u5165\u72c0\u614b\n\n    alt [\u4f7f\u7528\u8005\u5df2\u767b\u5165]\n        MainApp--&gt;&gt;PrematchComment: \u5df2\u767b\u5165\n        note over PrematchComment: \u5df2\u767b\u5165\uff0c\u5141\u8a31\u8f38\u5165\u7559\u8a00\n    else [\u4f7f\u7528\u8005\u672a\u767b\u5165]\n        MainApp--&gt;&gt;PrematchComment: \u672a\u767b\u5165\n        PrematchComment-&gt;&gt;MainApp: route(to: .personalPage)\n        MainApp-&gt;&gt;PersonalPage: \u8df3\u8f49\u5230 PersonalPage\n        PersonalPage-&gt;&gt;PersonalPage: \u5b8c\u6210 user \u767b\u5165\u6d41\u7a0b\n        PersonalPage--&gt;&gt;PrematchComment: \u767b\u5165\u6210\u529f\uff08\u56de\u8df3\u81f3\u539f\u9801\u9762\uff09\n        note over PrematchComment: \u767b\u5165\u5b8c\u6210\u5f8c\u53ef\u518d\u6b21\u9ede\u64ca\u8f38\u5165\u6846\u7e7c\u7e8c\u6d41\u7a0b\n    end\n\n    %% \u4f7f\u7528\u8005\u8f38\u5165\u4e26\u9001\u51fa Comment/Reply\n    User-&gt;&gt;PrematchComment: \u8f38\u5165\u4e26\u9001\u51fa Comment/Reply\n\n    %% nickname \u6aa2\u67e5\uff08\u900f\u904e Main App \u7684 accountManager\uff09\n    note over PrematchComment: \u9001\u51fa\u524d\u6aa2\u67e5 client \u7aef nickname \u662f\u5426\u5b58\u5728\n    PrematchComment-&gt;&gt;MainApp: APICoordinator.shared.accountManager.currentMetadata?.nickname \u6aa2\u67e5\n\n    alt [nickname \u5b58\u5728]\n        MainApp--&gt;&gt;PrematchComment: nickname \u5b58\u5728\n        note over PrematchComment: \u5df2\u6709 nickname\uff0c\u76f4\u63a5\u9001\u51fa\u7559\u8a00\n        PrematchComment-&gt;&gt;Chat: POST /chat/match/comment { refId, content, parentId? }\n\n        alt [\u7559\u8a00\u6210\u529f]\n            Chat--&gt;&gt;PrematchComment: 201 Created\uff08\u56de\u50b3 comment \u8cc7\u6599\uff09\n            PrematchComment--&gt;&gt;User: \u986f\u793a\u65b0\u7559\u8a00\n        else [\u7559\u8a00\u5931\u6557]\n            Chat--&gt;&gt;PrematchComment: 4xx/5xx Error\uff08\u7559\u8a00\u5931\u6557\uff09\n            PrematchComment--&gt;&gt;User: \u986f\u793a\u932f\u8aa4 Toast\uff08\u7559\u8a00\u5931\u6557\uff09\n        end\n\n    else [nickname \u4e0d\u5b58\u5728]\n        MainApp--&gt;&gt;PrematchComment: nickname \u4e0d\u5b58\u5728\n        note over PrematchComment: \u9700\u4f7f\u7528 FComSharedFlow Package \u5efa\u7acb nickname\n\n        %% App \u7aef nickname \u5efa\u7acb\u6d41\u7a0b\uff08\u900f\u904e FComSharedFlow Package\uff09\n        PrematchComment-&gt;&gt;FComSharedFlow: \u8abf\u7528 CreatNickName API\n        FComSharedFlow--&gt;&gt;User: \u986f\u793a create nickName pop-up\n        User-&gt;&gt;FComSharedFlow: \u4f7f\u7528\u8005\u8f38\u5165 nickname\n        FComSharedFlow-&gt;&gt;FComSharedFlow: FComSharedFlow Package \u5efa\u7acb nickname\n        FComSharedFlow--&gt;&gt;PrematchComment: nickname \u5efa\u7acb\u6210\u529f\n\n        PrematchComment-&gt;&gt;Chat: POST /chat/match/comment { refId, content, parentId? }\n\n        alt [\u7559\u8a00\u6210\u529f]\n            Chat--&gt;&gt;PrematchComment: 201 Created\uff08\u56de\u50b3 comment \u8cc7\u6599\uff09\n            PrematchComment--&gt;&gt;User: \u986f\u793a\u65b0\u7559\u8a00\n        else [\u7559\u8a00\u5931\u6557]\n            Chat--&gt;&gt;PrematchComment: 4xx/5xx Error\uff08\u7559\u8a00\u5931\u6557\uff09\n            PrematchComment--&gt;&gt;User: \u986f\u793a\u932f\u8aa4 Toast\uff08\u7559\u8a00\u5931\u6557\uff09\n        end\n    end\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/02_data_interaction_publish_comment/#_5","title":"\u6a21\u7d44\u5e8f\u5217\u5716\uff08\u67b6\u69cb\u8a2d\u8a08\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u8f49\u63db\u5f8c\u7684\u6a21\u7d44\u5e8f\u5217\u5716\uff0c\u5c55\u793a Clean Architecture \u5404\u5c64\u7d1a\u7684\u4e92\u52d5\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant PrematchCommentView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant PrematchCommentFeature\n        participant PublishCommentUseCase\n    end\n    box rgb(240,240,240) Data &amp; Infrastructure Layer\n        participant PrematchCommentRepository\n        participant PrematchCommentClient\n        participant PrematchCommentAPI\n    end\n    participant PersonalPagePackage as PersonalPage Package (External)\n    participant FComSharedFlowPackage as FComSharedFlow Package (External)\n    participant Server\n\n    Note over User,PrematchCommentView: \u7528\u6236\u9ede\u64ca\u8f38\u5165\u6846\n    User-&gt;&gt;PrematchCommentView: \u9ede\u64ca\u8f38\u5165\u6846\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: tapInputField\n    PrematchCommentFeature-&gt;&gt;PrematchCommentFeature: \u6aa2\u67e5\u767b\u5165\u72c0\u614b\uff08\u900f\u904e Main App\uff09\n    alt \u4f7f\u7528\u8005\u5df2\u767b\u5165\n        PrematchCommentFeature-&gt;&gt;PrematchCommentFeature: \u5df2\u767b\u5165\uff0c\u5141\u8a31\u8f38\u5165\u7559\u8a00\n    else \u4f7f\u7528\u8005\u672a\u767b\u5165\n        PrematchCommentFeature-&gt;&gt;PersonalPagePackage: route(to: .personalPage)\n        PersonalPagePackage-&gt;&gt;PersonalPagePackage: \u5b8c\u6210 user \u767b\u5165\u6d41\u7a0b\n        PersonalPagePackage--&gt;&gt;PrematchCommentFeature: \u767b\u5165\u6210\u529f\uff08\u56de\u8df3\u81f3\u539f\u9801\u9762\uff09\n    end\n\n    Note over User,PrematchCommentView: \u7528\u6236\u8f38\u5165\u4e26\u9001\u51fa Comment/Reply\n    User-&gt;&gt;PrematchCommentView: \u8f38\u5165\u4e26\u9001\u51fa Comment/Reply\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: publishComment(content: String, parentId: String?)\n    PrematchCommentFeature-&gt;&gt;PublishCommentUseCase: execute(input: PublishCommentInput)\n    PublishCommentUseCase-&gt;&gt;PublishCommentUseCase: \u6aa2\u67e5 nickname\uff08\u900f\u904e Main App\uff09\n    alt nickname \u5b58\u5728\n        PublishCommentUseCase-&gt;&gt;PrematchCommentRepository: publishComment(refId: String, content: String, parentId: String?)\n        PrematchCommentRepository-&gt;&gt;PrematchCommentClient: publishComment(refId: String, content: String, parentId: String?)\n        PrematchCommentClient-&gt;&gt;PrematchCommentAPI: POST /chat/match/comment\n        PrematchCommentAPI-&gt;&gt;Server: POST /chat/match/comment { refId, content, parentId? }\n        alt \u7559\u8a00\u6210\u529f\n            Server--&gt;&gt;PrematchCommentAPI: 201 Created\uff08\u56de\u50b3 comment \u8cc7\u6599\uff09\n            PrematchCommentAPI--&gt;&gt;PrematchCommentClient: Comment DTO\n            PrematchCommentClient--&gt;&gt;PrematchCommentRepository: Comment DTO\n            PrematchCommentRepository--&gt;&gt;PublishCommentUseCase: Comment Entity\n            PublishCommentUseCase--&gt;&gt;PrematchCommentFeature: Output(comment: Comment)\n            PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n            PrematchCommentView--&gt;&gt;User: \u986f\u793a\u65b0\u7559\u8a00\n        else \u7559\u8a00\u5931\u6557\n            Server--&gt;&gt;PrematchCommentAPI: 4xx/5xx Error\n            PrematchCommentAPI--&gt;&gt;PrematchCommentClient: Error\n            PrematchCommentClient--&gt;&gt;PrematchCommentRepository: Error\n            PrematchCommentRepository--&gt;&gt;PublishCommentUseCase: Error\n            PublishCommentUseCase--&gt;&gt;PrematchCommentFeature: Output(error: Error)\n            PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n            PrematchCommentView--&gt;&gt;User: \u986f\u793a\u932f\u8aa4 Toast\n        end\n    else nickname \u4e0d\u5b58\u5728\n        PublishCommentUseCase-&gt;&gt;FComSharedFlowPackage: CreatNickName API\n        FComSharedFlowPackage--&gt;&gt;User: \u986f\u793a create nickName pop-up\n        User-&gt;&gt;FComSharedFlowPackage: \u4f7f\u7528\u8005\u8f38\u5165 nickname\n        FComSharedFlowPackage-&gt;&gt;FComSharedFlowPackage: FComSharedFlow Package \u5efa\u7acb nickname\n        FComSharedFlowPackage--&gt;&gt;PublishCommentUseCase: nickname \u5efa\u7acb\u6210\u529f\n        PublishCommentUseCase-&gt;&gt;PrematchCommentRepository: publishComment(refId: String, content: String, parentId: String?)\n        PrematchCommentRepository-&gt;&gt;PrematchCommentClient: publishComment(refId: String, content: String, parentId: String?)\n        PrematchCommentClient-&gt;&gt;PrematchCommentAPI: POST /chat/match/comment\n        PrematchCommentAPI-&gt;&gt;Server: POST /chat/match/comment { refId, content, parentId? }\n        alt \u7559\u8a00\u6210\u529f\n            Server--&gt;&gt;PrematchCommentAPI: 201 Created\uff08\u56de\u50b3 comment \u8cc7\u6599\uff09\n            PrematchCommentAPI--&gt;&gt;PrematchCommentClient: Comment DTO\n            PrematchCommentClient--&gt;&gt;PrematchCommentRepository: Comment DTO\n            PrematchCommentRepository--&gt;&gt;PublishCommentUseCase: Comment Entity\n            PublishCommentUseCase--&gt;&gt;PrematchCommentFeature: Output(comment: Comment)\n            PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n            PrematchCommentView--&gt;&gt;User: \u986f\u793a\u65b0\u7559\u8a00\n        else \u7559\u8a00\u5931\u6557\n            Server--&gt;&gt;PrematchCommentAPI: 4xx/5xx Error\n            PrematchCommentAPI--&gt;&gt;PrematchCommentClient: Error\n            PrematchCommentClient--&gt;&gt;PrematchCommentRepository: Error\n            PrematchCommentRepository--&gt;&gt;PublishCommentUseCase: Error\n            PublishCommentUseCase--&gt;&gt;PrematchCommentFeature: Output(error: Error)\n            PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n            PrematchCommentView--&gt;&gt;User: \u986f\u793a\u932f\u8aa4 Toast\n        end\n    end</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant PrematchCommentView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant PrematchCommentFeature\n        participant PublishCommentUseCase\n    end\n    box rgb(240,240,240) Data &amp; Infrastructure Layer\n        participant PrematchCommentRepository\n        participant PrematchCommentClient\n        participant PrematchCommentAPI\n    end\n    participant PersonalPagePackage as PersonalPage Package (External)\n    participant FComSharedFlowPackage as FComSharedFlow Package (External)\n    participant Server\n\n    Note over User,PrematchCommentView: \u7528\u6236\u9ede\u64ca\u8f38\u5165\u6846\n    User-&gt;&gt;PrematchCommentView: \u9ede\u64ca\u8f38\u5165\u6846\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: tapInputField\n    PrematchCommentFeature-&gt;&gt;PrematchCommentFeature: \u6aa2\u67e5\u767b\u5165\u72c0\u614b\uff08\u900f\u904e Main App\uff09\n    alt \u4f7f\u7528\u8005\u5df2\u767b\u5165\n        PrematchCommentFeature-&gt;&gt;PrematchCommentFeature: \u5df2\u767b\u5165\uff0c\u5141\u8a31\u8f38\u5165\u7559\u8a00\n    else \u4f7f\u7528\u8005\u672a\u767b\u5165\n        PrematchCommentFeature-&gt;&gt;PersonalPagePackage: route(to: .personalPage)\n        PersonalPagePackage-&gt;&gt;PersonalPagePackage: \u5b8c\u6210 user \u767b\u5165\u6d41\u7a0b\n        PersonalPagePackage--&gt;&gt;PrematchCommentFeature: \u767b\u5165\u6210\u529f\uff08\u56de\u8df3\u81f3\u539f\u9801\u9762\uff09\n    end\n\n    Note over User,PrematchCommentView: \u7528\u6236\u8f38\u5165\u4e26\u9001\u51fa Comment/Reply\n    User-&gt;&gt;PrematchCommentView: \u8f38\u5165\u4e26\u9001\u51fa Comment/Reply\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: publishComment(content: String, parentId: String?)\n    PrematchCommentFeature-&gt;&gt;PublishCommentUseCase: execute(input: PublishCommentInput)\n    PublishCommentUseCase-&gt;&gt;PublishCommentUseCase: \u6aa2\u67e5 nickname\uff08\u900f\u904e Main App\uff09\n    alt nickname \u5b58\u5728\n        PublishCommentUseCase-&gt;&gt;PrematchCommentRepository: publishComment(refId: String, content: String, parentId: String?)\n        PrematchCommentRepository-&gt;&gt;PrematchCommentClient: publishComment(refId: String, content: String, parentId: String?)\n        PrematchCommentClient-&gt;&gt;PrematchCommentAPI: POST /chat/match/comment\n        PrematchCommentAPI-&gt;&gt;Server: POST /chat/match/comment { refId, content, parentId? }\n        alt \u7559\u8a00\u6210\u529f\n            Server--&gt;&gt;PrematchCommentAPI: 201 Created\uff08\u56de\u50b3 comment \u8cc7\u6599\uff09\n            PrematchCommentAPI--&gt;&gt;PrematchCommentClient: Comment DTO\n            PrematchCommentClient--&gt;&gt;PrematchCommentRepository: Comment DTO\n            PrematchCommentRepository--&gt;&gt;PublishCommentUseCase: Comment Entity\n            PublishCommentUseCase--&gt;&gt;PrematchCommentFeature: Output(comment: Comment)\n            PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n            PrematchCommentView--&gt;&gt;User: \u986f\u793a\u65b0\u7559\u8a00\n        else \u7559\u8a00\u5931\u6557\n            Server--&gt;&gt;PrematchCommentAPI: 4xx/5xx Error\n            PrematchCommentAPI--&gt;&gt;PrematchCommentClient: Error\n            PrematchCommentClient--&gt;&gt;PrematchCommentRepository: Error\n            PrematchCommentRepository--&gt;&gt;PublishCommentUseCase: Error\n            PublishCommentUseCase--&gt;&gt;PrematchCommentFeature: Output(error: Error)\n            PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n            PrematchCommentView--&gt;&gt;User: \u986f\u793a\u932f\u8aa4 Toast\n        end\n    else nickname \u4e0d\u5b58\u5728\n        PublishCommentUseCase-&gt;&gt;FComSharedFlowPackage: CreatNickName API\n        FComSharedFlowPackage--&gt;&gt;User: \u986f\u793a create nickName pop-up\n        User-&gt;&gt;FComSharedFlowPackage: \u4f7f\u7528\u8005\u8f38\u5165 nickname\n        FComSharedFlowPackage-&gt;&gt;FComSharedFlowPackage: FComSharedFlow Package \u5efa\u7acb nickname\n        FComSharedFlowPackage--&gt;&gt;PublishCommentUseCase: nickname \u5efa\u7acb\u6210\u529f\n        PublishCommentUseCase-&gt;&gt;PrematchCommentRepository: publishComment(refId: String, content: String, parentId: String?)\n        PrematchCommentRepository-&gt;&gt;PrematchCommentClient: publishComment(refId: String, content: String, parentId: String?)\n        PrematchCommentClient-&gt;&gt;PrematchCommentAPI: POST /chat/match/comment\n        PrematchCommentAPI-&gt;&gt;Server: POST /chat/match/comment { refId, content, parentId? }\n        alt \u7559\u8a00\u6210\u529f\n            Server--&gt;&gt;PrematchCommentAPI: 201 Created\uff08\u56de\u50b3 comment \u8cc7\u6599\uff09\n            PrematchCommentAPI--&gt;&gt;PrematchCommentClient: Comment DTO\n            PrematchCommentClient--&gt;&gt;PrematchCommentRepository: Comment DTO\n            PrematchCommentRepository--&gt;&gt;PublishCommentUseCase: Comment Entity\n            PublishCommentUseCase--&gt;&gt;PrematchCommentFeature: Output(comment: Comment)\n            PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n            PrematchCommentView--&gt;&gt;User: \u986f\u793a\u65b0\u7559\u8a00\n        else \u7559\u8a00\u5931\u6557\n            Server--&gt;&gt;PrematchCommentAPI: 4xx/5xx Error\n            PrematchCommentAPI--&gt;&gt;PrematchCommentClient: Error\n            PrematchCommentClient--&gt;&gt;PrematchCommentRepository: Error\n            PrematchCommentRepository--&gt;&gt;PublishCommentUseCase: Error\n            PublishCommentUseCase--&gt;&gt;PrematchCommentFeature: Output(error: Error)\n            PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n            PrematchCommentView--&gt;&gt;User: \u986f\u793a\u932f\u8aa4 Toast\n        end\n    end\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/03_data_interaction_toggle_like/","title":"\u5207\u63db Like \u72c0\u614b\u6d41\u7a0b","text":""},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/03_data_interaction_toggle_like/#flow","title":"Flow \u8cc7\u8a0a","text":"\u6b04\u4f4d \u503c feature PrematchComment flow_id PC-SUB-004 flow_type Sub flow_name \u7528\u6236\u9ede\u64ca Like\uff08\u542b\u767b\u5165\u6aa2\u67e5\uff09 parent_flow_id PC-FULL-001 parent_flow_name \u7528\u6236\u9032\u5165 Upcoming Race Page, Prematch Comment Page \u8207 Top original_annotation @flow: Sub"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/03_data_interaction_toggle_like/#_1","title":"\u6a21\u7d44\u8aaa\u660e","text":"\u6a21\u7d44\u540d\u7a31 \u8077\u8cac PrematchCommentView \u8cfd\u524d\u7559\u8a00\u9801\u9762 PrematchCommentFeature TCA Reducer\uff0c\u7ba1\u7406\u8a55\u8ad6\u76f8\u95dc\u7684 State \u548c Action ToggleLikeUseCase \u5207\u63db Like \u72c0\u614b\uff08Optimistic UI\uff09 PrematchCommentRepository Domain \u8cc7\u6599\u4f86\u6e90\u7684\u62bd\u8c61\u4ecb\u9762\uff08\u8a55\u8ad6\u76f8\u95dc\uff09 PrematchCommentClient HTTP \u901a\u8a0a\uff08\u8a55\u8ad6\u76f8\u95dc\uff09 PrematchCommentAPI \u5f8c\u7aef endpoint \u5b9a\u7fa9\uff08\u8a55\u8ad6\u76f8\u95dc\uff09 PersonalPage Package (External) \u767b\u5165\u6d41\u7a0b\uff08\u5916\u90e8 Package\uff09"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/03_data_interaction_toggle_like/#_2","title":"\u6d41\u7a0b\u8aaa\u660e","text":"\u6d41\u7a0b\u6b65\u9a5f \u8aaa\u660e 1. \u9ede\u64ca Like \u6309\u9215 1. \u7528\u6236\u9ede\u64ca\u7559\u8a00\u7684 Like \u6309\u92152. \u6aa2\u67e5\u767b\u5165\u72c0\u614b3. \u672a\u767b\u5165\u5247\u8df3\u8f49\u5230 PersonalPage \u5b8c\u6210\u767b\u5165 2. Optimistic UI \u66f4\u65b0 1. \u901a\u904e\u767b\u5165\u6aa2\u67e5\u5f8c\u7acb\u5373\u66f4\u65b0\u756b\u9762\u4e0a\u7684 Like \u65782. \u986f\u793a\u5df2\u9ede\u8b9a\u72c0\u614b + Like +1 3. \u540c\u6b65 Like \u72c0\u614b 1. \u5411\u4f3a\u670d\u5668\u767c\u9001 Like \u8acb\u6c422. \u540c\u6b65 Like \u72c0\u614b\u5230\u4f3a\u670d\u5668"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/03_data_interaction_toggle_like/#_3","title":"\u5834\u666f\u5e8f\u5217\u5716\uff08\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\u7684\u5e8f\u5217\u5716\uff0c\u5c55\u793a\u5f9e\u696d\u52d9\u89d2\u5ea6\u7684\u5b8c\u6574\u6d41\u7a0b\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(255, 248, 220) App\n        participant PrematchComment as PrematchComment Package\n        participant MainApp as Main App\n        participant PersonalPage as PersonalPage Package(external)\n        participant FComSharedFlow as FComSharedFlow Package(external)\n    end\n    participant Chat as Chat API Server\n\n    User-&gt;&gt;PrematchComment: \u9ede\u64ca Like \u6309\u9215\n    note over PrematchComment: \u9ede\u64ca Like \u6309\u9215\u6642\u89f8\u767c\u767b\u5165\u6aa2\u67e5\n    PrematchComment-&gt;&gt;MainApp: APICoordinator.shared.accountManager \u6aa2\u67e5\u767b\u5165\u72c0\u614b\n\n    alt [\u4f7f\u7528\u8005\u5df2\u767b\u5165]\n        MainApp--&gt;&gt;PrematchComment: \u5df2\u767b\u5165\n        note over PrematchComment: \u901a\u904e\u767b\u5165\u6aa2\u67e5\n    else [\u4f7f\u7528\u8005\u672a\u767b\u5165]\n        MainApp--&gt;&gt;PrematchComment: \u672a\u767b\u5165\n        PrematchComment-&gt;&gt;MainApp: route(to: .personalPage)\n        MainApp-&gt;&gt;PersonalPage: \u8df3\u8f49\u5230 PersonalPage\n        PersonalPage-&gt;&gt;PersonalPage: \u5b8c\u6210 user \u767b\u5165\u6d41\u7a0b\n        PersonalPage--&gt;&gt;PrematchComment: \u767b\u5165\u6210\u529f\uff08\u56de\u8df3\u81f3\u539f\u9801\u9762\uff09\n    end\n\n    note over PrematchComment: \u7acb\u5373\u66f4\u65b0\u756b\u9762\u4e0a\u7684 Like \u6578\uff08Optimistic UI\uff09\n    PrematchComment--&gt;&gt;User: \u986f\u793a\u5df2\u9ede\u8b9a\u72c0\u614b + Like +1\n    PrematchComment-&gt;&gt;Chat: POST /chat/match/comment/like { commentId }\n    Chat--&gt;&gt;PrematchComment: 200 OK\uff08\u66f4\u65b0\u6210\u529f\uff09</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(255, 248, 220) App\n        participant PrematchComment as PrematchComment Package\n        participant MainApp as Main App\n        participant PersonalPage as PersonalPage Package(external)\n        participant FComSharedFlow as FComSharedFlow Package(external)\n    end\n    participant Chat as Chat API Server\n\n    User-&gt;&gt;PrematchComment: \u9ede\u64ca Like \u6309\u9215\n    note over PrematchComment: \u9ede\u64ca Like \u6309\u9215\u6642\u89f8\u767c\u767b\u5165\u6aa2\u67e5\n    PrematchComment-&gt;&gt;MainApp: APICoordinator.shared.accountManager \u6aa2\u67e5\u767b\u5165\u72c0\u614b\n\n    alt [\u4f7f\u7528\u8005\u5df2\u767b\u5165]\n        MainApp--&gt;&gt;PrematchComment: \u5df2\u767b\u5165\n        note over PrematchComment: \u901a\u904e\u767b\u5165\u6aa2\u67e5\n    else [\u4f7f\u7528\u8005\u672a\u767b\u5165]\n        MainApp--&gt;&gt;PrematchComment: \u672a\u767b\u5165\n        PrematchComment-&gt;&gt;MainApp: route(to: .personalPage)\n        MainApp-&gt;&gt;PersonalPage: \u8df3\u8f49\u5230 PersonalPage\n        PersonalPage-&gt;&gt;PersonalPage: \u5b8c\u6210 user \u767b\u5165\u6d41\u7a0b\n        PersonalPage--&gt;&gt;PrematchComment: \u767b\u5165\u6210\u529f\uff08\u56de\u8df3\u81f3\u539f\u9801\u9762\uff09\n    end\n\n    note over PrematchComment: \u7acb\u5373\u66f4\u65b0\u756b\u9762\u4e0a\u7684 Like \u6578\uff08Optimistic UI\uff09\n    PrematchComment--&gt;&gt;User: \u986f\u793a\u5df2\u9ede\u8b9a\u72c0\u614b + Like +1\n    PrematchComment-&gt;&gt;Chat: POST /chat/match/comment/like { commentId }\n    Chat--&gt;&gt;PrematchComment: 200 OK\uff08\u66f4\u65b0\u6210\u529f\uff09\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/03_data_interaction_toggle_like/#_4","title":"\u6a21\u7d44\u5e8f\u5217\u5716\uff08\u67b6\u69cb\u8a2d\u8a08\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u8f49\u63db\u5f8c\u7684\u6a21\u7d44\u5e8f\u5217\u5716\uff0c\u5c55\u793a Clean Architecture \u5404\u5c64\u7d1a\u7684\u4e92\u52d5\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant PrematchCommentView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant PrematchCommentFeature\n        participant ToggleLikeUseCase\n    end\n    box rgb(240,240,240) Data &amp; Infrastructure Layer\n        participant PrematchCommentRepository\n        participant PrematchCommentClient\n        participant PrematchCommentAPI\n    end\n    participant PersonalPagePackage as PersonalPage Package (External)\n    participant Server\n\n    Note over User,PrematchCommentView: \u7528\u6236\u9ede\u64ca Like \u6309\u9215\n    User-&gt;&gt;PrematchCommentView: \u9ede\u64ca Like \u6309\u9215\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: toggleLike(commentId: String)\n    PrematchCommentFeature-&gt;&gt;PrematchCommentFeature: \u6aa2\u67e5\u767b\u5165\u72c0\u614b\uff08\u900f\u904e Main App\uff09\n    alt \u4f7f\u7528\u8005\u5df2\u767b\u5165\n        PrematchCommentFeature-&gt;&gt;PrematchCommentFeature: \u901a\u904e\u767b\u5165\u6aa2\u67e5\n        PrematchCommentFeature-&gt;&gt;PrematchCommentFeature: \u7acb\u5373\u66f4\u65b0\u756b\u9762\u4e0a\u7684 Like \u6578\uff08Optimistic UI\uff09\n        PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n        PrematchCommentView--&gt;&gt;User: \u986f\u793a\u5df2\u9ede\u8b9a\u72c0\u614b + Like +1\n        PrematchCommentFeature-&gt;&gt;ToggleLikeUseCase: execute(input: ToggleLikeInput)\n        ToggleLikeUseCase-&gt;&gt;PrematchCommentRepository: toggleLike(commentId: String)\n        PrematchCommentRepository-&gt;&gt;PrematchCommentClient: toggleLike(commentId: String)\n        PrematchCommentClient-&gt;&gt;PrematchCommentAPI: POST /chat/match/comment/like\n        PrematchCommentAPI-&gt;&gt;Server: POST /chat/match/comment/like { commentId }\n        Server--&gt;&gt;PrematchCommentAPI: 200 OK\uff08\u66f4\u65b0\u6210\u529f\uff09\n        PrematchCommentAPI--&gt;&gt;PrematchCommentClient: Comment DTO\n        PrematchCommentClient--&gt;&gt;PrematchCommentRepository: Comment DTO\n        PrematchCommentRepository--&gt;&gt;ToggleLikeUseCase: Comment Entity\n        ToggleLikeUseCase--&gt;&gt;PrematchCommentFeature: Output(comment: Comment)\n        PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n    else \u4f7f\u7528\u8005\u672a\u767b\u5165\n        PrematchCommentFeature-&gt;&gt;PersonalPagePackage: route(to: .personalPage)\n        PersonalPagePackage-&gt;&gt;PersonalPagePackage: \u5b8c\u6210 user \u767b\u5165\u6d41\u7a0b\n        PersonalPagePackage--&gt;&gt;PrematchCommentFeature: \u767b\u5165\u6210\u529f\uff08\u56de\u8df3\u81f3\u539f\u9801\u9762\uff09\n    end</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant PrematchCommentView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant PrematchCommentFeature\n        participant ToggleLikeUseCase\n    end\n    box rgb(240,240,240) Data &amp; Infrastructure Layer\n        participant PrematchCommentRepository\n        participant PrematchCommentClient\n        participant PrematchCommentAPI\n    end\n    participant PersonalPagePackage as PersonalPage Package (External)\n    participant Server\n\n    Note over User,PrematchCommentView: \u7528\u6236\u9ede\u64ca Like \u6309\u9215\n    User-&gt;&gt;PrematchCommentView: \u9ede\u64ca Like \u6309\u9215\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: toggleLike(commentId: String)\n    PrematchCommentFeature-&gt;&gt;PrematchCommentFeature: \u6aa2\u67e5\u767b\u5165\u72c0\u614b\uff08\u900f\u904e Main App\uff09\n    alt \u4f7f\u7528\u8005\u5df2\u767b\u5165\n        PrematchCommentFeature-&gt;&gt;PrematchCommentFeature: \u901a\u904e\u767b\u5165\u6aa2\u67e5\n        PrematchCommentFeature-&gt;&gt;PrematchCommentFeature: \u7acb\u5373\u66f4\u65b0\u756b\u9762\u4e0a\u7684 Like \u6578\uff08Optimistic UI\uff09\n        PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n        PrematchCommentView--&gt;&gt;User: \u986f\u793a\u5df2\u9ede\u8b9a\u72c0\u614b + Like +1\n        PrematchCommentFeature-&gt;&gt;ToggleLikeUseCase: execute(input: ToggleLikeInput)\n        ToggleLikeUseCase-&gt;&gt;PrematchCommentRepository: toggleLike(commentId: String)\n        PrematchCommentRepository-&gt;&gt;PrematchCommentClient: toggleLike(commentId: String)\n        PrematchCommentClient-&gt;&gt;PrematchCommentAPI: POST /chat/match/comment/like\n        PrematchCommentAPI-&gt;&gt;Server: POST /chat/match/comment/like { commentId }\n        Server--&gt;&gt;PrematchCommentAPI: 200 OK\uff08\u66f4\u65b0\u6210\u529f\uff09\n        PrematchCommentAPI--&gt;&gt;PrematchCommentClient: Comment DTO\n        PrematchCommentClient--&gt;&gt;PrematchCommentRepository: Comment DTO\n        PrematchCommentRepository--&gt;&gt;ToggleLikeUseCase: Comment Entity\n        ToggleLikeUseCase--&gt;&gt;PrematchCommentFeature: Output(comment: Comment)\n        PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n    else \u4f7f\u7528\u8005\u672a\u767b\u5165\n        PrematchCommentFeature-&gt;&gt;PersonalPagePackage: route(to: .personalPage)\n        PersonalPagePackage-&gt;&gt;PersonalPagePackage: \u5b8c\u6210 user \u767b\u5165\u6d41\u7a0b\n        PersonalPagePackage--&gt;&gt;PrematchCommentFeature: \u767b\u5165\u6210\u529f\uff08\u56de\u8df3\u81f3\u539f\u9801\u9762\uff09\n    end\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/04_data_interaction_load_replies/","title":"\u8f09\u5165\u56de\u8986\u5217\u8868\u6d41\u7a0b","text":""},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/04_data_interaction_load_replies/#flow","title":"Flow \u8cc7\u8a0a","text":"\u6b04\u4f4d \u503c feature PrematchComment flow_id PC-SUB-003 flow_type Sub flow_name \u7528\u6236\u67e5\u770b replies\uff08\u542b\u5206\u9801\u8f09\u5165\uff09 parent_flow_id PC-FULL-001 parent_flow_name \u7528\u6236\u9032\u5165 Upcoming Race Page, Prematch Comment Page \u8207 Top original_annotation @flow: Sub"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/04_data_interaction_load_replies/#_2","title":"\u6a21\u7d44\u8aaa\u660e","text":"\u6a21\u7d44\u540d\u7a31 \u8077\u8cac PrematchCommentView \u8cfd\u524d\u7559\u8a00\u9801\u9762 PrematchCommentFeature TCA Reducer\uff0c\u7ba1\u7406\u8a55\u8ad6\u76f8\u95dc\u7684 State \u548c Action LoadRepliesUseCase \u8f09\u5165\u56de\u8986\u5217\u8868\uff08\u5206\u9801\uff09 PrematchCommentRepository Domain \u8cc7\u6599\u4f86\u6e90\u7684\u62bd\u8c61\u4ecb\u9762\uff08\u8a55\u8ad6\u76f8\u95dc\uff09 PrematchCommentClient HTTP \u901a\u8a0a\uff08\u8a55\u8ad6\u76f8\u95dc\uff09 PrematchCommentAPI \u5f8c\u7aef endpoint \u5b9a\u7fa9\uff08\u8a55\u8ad6\u76f8\u95dc\uff09"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/04_data_interaction_load_replies/#_3","title":"\u6d41\u7a0b\u8aaa\u660e","text":"\u6d41\u7a0b\u6b65\u9a5f \u8aaa\u660e 1. \u9ede\u64ca\u56de\u8986\u6578\u91cf 1. \u7528\u6236\u9ede\u64ca\u7559\u8a00\u7684\u56de\u8986\u6578\u91cf\uff08\u4f8b\u5982\u300c12 replies\u300d\uff092. \u958b\u59cb\u8f09\u5165\u56de\u8986\u5217\u8868 2. \u5206\u9801\u8f09\u5165\u56de\u8986 1. \u6bcf\u6b21\u6700\u591a\u8f09\u5165 5 \u7b46\u56de\u89862. \u4f7f\u7528 cursor \u6a5f\u5236\u8ffd\u8e64\u5206\u9801\u4f4d\u7f6e 3. \u986f\u793a\u300cShow more replies\u300d\u6309\u9215 1. \u6709\u8d85\u904e 5 \u7b46\u56de\u8986\u6642\u986f\u793a\u6309\u92152. \u4e0d\u8db3 5 \u7b46\u56de\u8986\u6642\u96b1\u85cf\u6309\u92153. \u7528\u6236\u53ef\u6301\u7e8c\u9ede\u64ca\u8f09\u5165\u66f4\u591a\u56de\u8986"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/04_data_interaction_load_replies/#_4","title":"\u5834\u666f\u5e8f\u5217\u5716\uff08\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\u7684\u5e8f\u5217\u5716\uff0c\u5c55\u793a\u5f9e\u696d\u52d9\u89d2\u5ea6\u7684\u5b8c\u6574\u6d41\u7a0b\uff1a</p> <pre><code>sequenceDiagram\n  autonumber\n  actor User\n  participant App\n  participant Server as Server\n\n  User-&gt;&gt;App: \u9ede\u64ca 12 replies\n  loop \u6bcf\u6b21\u6700\u591a 5 \u7b46\n    App-&gt;&gt;Server: GET /chat/match/comment/replies\n    Server--&gt;&gt;App: replies[&lt;=5], nextCursor?\n    alt \u6709\u8d85\u904e5\u7b46\n      App--&gt;&gt;User: \u986f\u793a Show more replies\n      User-&gt;&gt;App: \u9ede\u64ca Show more replies\n    else \u4e0d\u8db35\u7b46\n      App--&gt;&gt;User: \u96b1\u85cf Show more replies\n    end\n  end</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n  autonumber\n  actor User\n  participant App\n  participant Server as Server\n\n  User-&gt;&gt;App: \u9ede\u64ca 12 replies\n  loop \u6bcf\u6b21\u6700\u591a 5 \u7b46\n    App-&gt;&gt;Server: GET /chat/match/comment/replies\n    Server--&gt;&gt;App: replies[&lt;=5], nextCursor?\n    alt \u6709\u8d85\u904e5\u7b46\n      App--&gt;&gt;User: \u986f\u793a Show more replies\n      User-&gt;&gt;App: \u9ede\u64ca Show more replies\n    else \u4e0d\u8db35\u7b46\n      App--&gt;&gt;User: \u96b1\u85cf Show more replies\n    end\n  end\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/04_data_interaction_load_replies/#_5","title":"\u6a21\u7d44\u5e8f\u5217\u5716\uff08\u67b6\u69cb\u8a2d\u8a08\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u8f49\u63db\u5f8c\u7684\u6a21\u7d44\u5e8f\u5217\u5716\uff0c\u5c55\u793a Clean Architecture \u5404\u5c64\u7d1a\u7684\u4e92\u52d5\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant PrematchCommentView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant PrematchCommentFeature\n        participant LoadRepliesUseCase\n    end\n    box rgb(240,240,240) Data &amp; Infrastructure Layer\n        participant PrematchCommentRepository\n        participant PrematchCommentClient\n        participant PrematchCommentAPI\n    end\n    participant Server\n\n    Note over User,PrematchCommentView: \u7528\u6236\u9ede\u64ca\u56de\u8986\u6578\u91cf\n    User-&gt;&gt;PrematchCommentView: \u9ede\u64ca 12 replies\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: loadReplies(commentId: String)\n    PrematchCommentFeature-&gt;&gt;LoadRepliesUseCase: execute(input: LoadRepliesInput)\n\n    loop \u6bcf\u6b21\u6700\u591a 5 \u7b46\n        LoadRepliesUseCase-&gt;&gt;PrematchCommentRepository: getReplies(commentId: String, cursor: Cursor?)\n        PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getReplies(commentId: String, cursor: Cursor?)\n        PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/replies\n        PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/replies\n        Server--&gt;&gt;PrematchCommentAPI: replies[&lt;=5], nextCursor?\n        PrematchCommentAPI--&gt;&gt;PrematchCommentClient: [Comment] DTO, PagingInfo DTO\n        PrematchCommentClient--&gt;&gt;PrematchCommentRepository: [Comment] DTO, PagingInfo DTO\n        PrematchCommentRepository--&gt;&gt;LoadRepliesUseCase: [Comment] Entity, PagingInfo Entity\n        LoadRepliesUseCase--&gt;&gt;PrematchCommentFeature: Output(replies: [Comment], pagingInfo: PagingInfo)\n        PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n        alt \u6709\u8d85\u904e 5 \u7b46\n            PrematchCommentView--&gt;&gt;User: \u986f\u793a Show more replies\n            User-&gt;&gt;PrematchCommentView: \u9ede\u64ca Show more replies\n            PrematchCommentView-&gt;&gt;PrematchCommentFeature: loadMoreReplies(commentId: String, cursor: Cursor)\n            PrematchCommentFeature-&gt;&gt;LoadRepliesUseCase: execute(input: LoadRepliesInput)\n        else \u4e0d\u8db3 5 \u7b46\n            PrematchCommentView--&gt;&gt;User: \u96b1\u85cf Show more replies\n        end\n    end</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant PrematchCommentView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant PrematchCommentFeature\n        participant LoadRepliesUseCase\n    end\n    box rgb(240,240,240) Data &amp; Infrastructure Layer\n        participant PrematchCommentRepository\n        participant PrematchCommentClient\n        participant PrematchCommentAPI\n    end\n    participant Server\n\n    Note over User,PrematchCommentView: \u7528\u6236\u9ede\u64ca\u56de\u8986\u6578\u91cf\n    User-&gt;&gt;PrematchCommentView: \u9ede\u64ca 12 replies\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: loadReplies(commentId: String)\n    PrematchCommentFeature-&gt;&gt;LoadRepliesUseCase: execute(input: LoadRepliesInput)\n\n    loop \u6bcf\u6b21\u6700\u591a 5 \u7b46\n        LoadRepliesUseCase-&gt;&gt;PrematchCommentRepository: getReplies(commentId: String, cursor: Cursor?)\n        PrematchCommentRepository-&gt;&gt;PrematchCommentClient: getReplies(commentId: String, cursor: Cursor?)\n        PrematchCommentClient-&gt;&gt;PrematchCommentAPI: GET /chat/match/comment/replies\n        PrematchCommentAPI-&gt;&gt;Server: GET /chat/match/comment/replies\n        Server--&gt;&gt;PrematchCommentAPI: replies[&lt;=5], nextCursor?\n        PrematchCommentAPI--&gt;&gt;PrematchCommentClient: [Comment] DTO, PagingInfo DTO\n        PrematchCommentClient--&gt;&gt;PrematchCommentRepository: [Comment] DTO, PagingInfo DTO\n        PrematchCommentRepository--&gt;&gt;LoadRepliesUseCase: [Comment] Entity, PagingInfo Entity\n        LoadRepliesUseCase--&gt;&gt;PrematchCommentFeature: Output(replies: [Comment], pagingInfo: PagingInfo)\n        PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n        alt \u6709\u8d85\u904e 5 \u7b46\n            PrematchCommentView--&gt;&gt;User: \u986f\u793a Show more replies\n            User-&gt;&gt;PrematchCommentView: \u9ede\u64ca Show more replies\n            PrematchCommentView-&gt;&gt;PrematchCommentFeature: loadMoreReplies(commentId: String, cursor: Cursor)\n            PrematchCommentFeature-&gt;&gt;LoadRepliesUseCase: execute(input: LoadRepliesInput)\n        else \u4e0d\u8db3 5 \u7b46\n            PrematchCommentView--&gt;&gt;User: \u96b1\u85cf Show more replies\n        end\n    end\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/05_structural_navigation_profile/","title":"\u8df3\u8f49\u500b\u4eba\u4e3b\u9801\u6d41\u7a0b","text":""},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/05_structural_navigation_profile/#flow","title":"Flow \u8cc7\u8a0a","text":"\u6b04\u4f4d \u503c feature PrematchComment flow_id PC-SUB-005 flow_type Sub flow_name \u7528\u6236\u9ede\u64ca\u7528\u6236\u540d\u7a31 \u2192 \u8df3\u8f49\u500b\u4eba\u4e3b\u9801 parent_flow_id PC-FULL-001 parent_flow_name \u7528\u6236\u9032\u5165 Upcoming Race Page, Prematch Comment Page \u8207 Top original_annotation @flow: Sub"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/05_structural_navigation_profile/#_2","title":"\u6a21\u7d44\u8aaa\u660e","text":"\u6a21\u7d44\u540d\u7a31 \u8077\u8cac PrematchCommentView \u8cfd\u524d\u7559\u8a00\u9801\u9762 PrematchCommentFeature TCA Reducer\uff0c\u7ba1\u7406\u8a55\u8ad6\u76f8\u95dc\u7684 State \u548c Action NavigateToProfileUseCase \u8655\u7406\u8df3\u8f49\u5230\u500b\u4eba\u4e3b\u9801\u7684\u908f\u8f2f PersonalPageAdapter Protocol \u500b\u4eba\u4e3b\u9801\u8def\u7531\u8df3\u8f49\u7684 Protocol\uff08\u5b9a\u7fa9\u5728 PrematchComment Package \u4e2d\uff09"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/05_structural_navigation_profile/#_3","title":"\u6d41\u7a0b\u8aaa\u660e","text":"\u6d41\u7a0b\u6b65\u9a5f \u8aaa\u660e 1. \u9ede\u64ca\u7528\u6236\u540d\u7a31\u6216\u982d\u50cf 1. \u7528\u6236\u9ede\u64ca\u7559\u8a00\u4e2d\u7684\u7528\u6236\u540d\u7a31\u6216\u982d\u50cf2. \u89f8\u767c\u8df3\u8f49\u500b\u4eba\u4e3b\u9801\u6d41\u7a0b 2. \u8df3\u8f49\u500b\u4eba\u4e3b\u9801 1. Feature \u547c\u53eb NavigateToProfileUseCase2. UseCase \u900f\u904e PersonalPageAdapter Protocol \u57f7\u884c\u8def\u7531\u8df3\u8f493. \u986f\u793a\u8a72\u4f7f\u7528\u8005\u7684\u500b\u4eba\u4e3b\u9801\u756b\u9762"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/05_structural_navigation_profile/#_4","title":"\u5834\u666f\u5e8f\u5217\u5716\uff08\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\u7684\u5e8f\u5217\u5716\uff0c\u5c55\u793a\u5f9e\u696d\u52d9\u89d2\u5ea6\u7684\u5b8c\u6574\u6d41\u7a0b\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    participant MainApp as Main App\n\n    User-&gt;&gt;MainApp: \u9ede\u64ca\u4f7f\u7528\u8005\u540d\u7a31\u53ca Avatar\n\n    MainApp-&gt;&gt;MainApp: UIViewController+routeToDestination.route(to destination: .personal)\n    note over MainApp: \u900f\u904e routeToDestination \u8df3\u8f49\u5230 User Profile Page\n    MainApp--&gt;&gt;User: \u986f\u793a\u8a72\u4f7f\u7528\u8005\u7684\u500b\u4eba\u4e3b\u9801\u756b\u9762</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    participant MainApp as Main App\n\n    User-&gt;&gt;MainApp: \u9ede\u64ca\u4f7f\u7528\u8005\u540d\u7a31\u53ca Avatar\n\n    MainApp-&gt;&gt;MainApp: UIViewController+routeToDestination.route(to destination: .personal)\n    note over MainApp: \u900f\u904e routeToDestination \u8df3\u8f49\u5230 User Profile Page\n    MainApp--&gt;&gt;User: \u986f\u793a\u8a72\u4f7f\u7528\u8005\u7684\u500b\u4eba\u4e3b\u9801\u756b\u9762\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/05_structural_navigation_profile/#_5","title":"\u6a21\u7d44\u5e8f\u5217\u5716\uff08\u67b6\u69cb\u8a2d\u8a08\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u8f49\u63db\u5f8c\u7684\u6a21\u7d44\u5e8f\u5217\u5716\uff0c\u5c55\u793a Clean Architecture \u5404\u5c64\u7d1a\u7684\u4e92\u52d5\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant PrematchCommentView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant PrematchCommentFeature\n        participant NavigateToProfileUseCase\n    end\n    participant PersonalPageAdapterProtocol as \"&lt;PersonalPageAdapter&gt;\"\n\n    Note over User,PrematchCommentView: \u7528\u6236\u9ede\u64ca\u7528\u6236\u540d\u7a31\u6216\u982d\u50cf\n    User-&gt;&gt;PrematchCommentView: \u9ede\u64ca\u4f7f\u7528\u8005\u540d\u7a31\u53ca Avatar\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: navigateToProfile(userId: String)\n    PrematchCommentFeature-&gt;&gt;NavigateToProfileUseCase: execute(input: NavigateToProfileInput)\n    NavigateToProfileUseCase-&gt;&gt;PersonalPageAdapterProtocol: navigateToProfile(userId: String)\n    PersonalPageAdapterProtocol-&gt;&gt;PersonalPageAdapterProtocol: \u900f\u904e routeToDestination \u8df3\u8f49\u5230 User Profile Page\n    PersonalPageAdapterProtocol--&gt;&gt;NavigateToProfileUseCase: Success\n    NavigateToProfileUseCase--&gt;&gt;PrematchCommentFeature: Output()\n    PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n    PrematchCommentView--&gt;&gt;User: \u986f\u793a\u8a72\u4f7f\u7528\u8005\u7684\u500b\u4eba\u4e3b\u9801\u756b\u9762</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant PrematchCommentView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant PrematchCommentFeature\n        participant NavigateToProfileUseCase\n    end\n    participant PersonalPageAdapterProtocol as \"&lt;PersonalPageAdapter&gt;\"\n\n    Note over User,PrematchCommentView: \u7528\u6236\u9ede\u64ca\u7528\u6236\u540d\u7a31\u6216\u982d\u50cf\n    User-&gt;&gt;PrematchCommentView: \u9ede\u64ca\u4f7f\u7528\u8005\u540d\u7a31\u53ca Avatar\n    PrematchCommentView-&gt;&gt;PrematchCommentFeature: navigateToProfile(userId: String)\n    PrematchCommentFeature-&gt;&gt;NavigateToProfileUseCase: execute(input: NavigateToProfileInput)\n    NavigateToProfileUseCase-&gt;&gt;PersonalPageAdapterProtocol: navigateToProfile(userId: String)\n    PersonalPageAdapterProtocol-&gt;&gt;PersonalPageAdapterProtocol: \u900f\u904e routeToDestination \u8df3\u8f49\u5230 User Profile Page\n    PersonalPageAdapterProtocol--&gt;&gt;NavigateToProfileUseCase: Success\n    NavigateToProfileUseCase--&gt;&gt;PrematchCommentFeature: Output()\n    PrematchCommentFeature--&gt;&gt;PrematchCommentView: \u66f4\u65b0 State\n    PrematchCommentView--&gt;&gt;User: \u986f\u793a\u8a72\u4f7f\u7528\u8005\u7684\u500b\u4eba\u4e3b\u9801\u756b\u9762\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/06_event_status_subscription/","title":"Event Status \u8a02\u95b1\u8207\u901a\u77e5\u6d41\u7a0b","text":""},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/06_event_status_subscription/#flow","title":"Flow \u8cc7\u8a0a","text":"\u6b04\u4f4d \u503c feature PrematchComment flow_id PC-SUB-001 flow_type Sub flow_name Event Status \u8a02\u95b1\u8207\u901a\u77e5\u6d41\u7a0b parent_flow_id PC-FULL-001 parent_flow_name \u7528\u6236\u9032\u5165 Upcoming Race Page, Prematch Comment Page \u8207 Top original_annotation @flow: Sub"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/06_event_status_subscription/#_1","title":"\u6a21\u7d44\u8aaa\u660e","text":"\u6a21\u7d44\u540d\u7a31 \u8077\u8cac PrematchCommentView \u8cfd\u524d\u7559\u8a00\u9801\u9762 PrematchCommentFeature TCA Reducer\uff0c\u7ba1\u7406\u8a55\u8ad6\u76f8\u95dc\u7684 State \u548c Action FactsCenter Package (External) Event Status \u8a02\u95b1\u8207\u901a\u77e5\uff08\u5916\u90e8 Package\uff09"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/06_event_status_subscription/#_2","title":"\u6d41\u7a0b\u8aaa\u660e","text":"\u6d41\u7a0b\u6b65\u9a5f \u8aaa\u660e 1. Event Status \u8a02\u95b1 1. \u7528\u6236\u9032\u5165 Race Detail Page2. FactsCenter Package\uff08\u5916\u90e8\uff09\u81ea\u52d5\u900f\u904e WebSocket \u8a02\u95b1 Event Status 2. Event Status \u8b8a\u66f4\u901a\u77e5 1. Prematch Comment Page \u8655\u65bc\u958b\u555f\u72c0\u614b2. Server \u63a8\u9001 EventStatusChanged \u4e8b\u4ef63. FactsCenter Package \u900f\u904e interface \u901a\u77e5 PrematchCommentFeature 3. \u8655\u7406\u901a\u77e5 1. \u82e5 event status \u6709\u6539\u8b8a\uff0c\u4e14\u70ba match_started\uff1a\u81ea\u52d5\u95dc\u9589 Prematch Comment Page\uff0c\u5c0e\u56de Race Detail Page2. \u82e5 event status \u6c92\u6709\u6539\u8b8a\uff1aAPP \u7dad\u6301\u539f\u756b\u9762"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/06_event_status_subscription/#_3","title":"\u5834\u666f\u5e8f\u5217\u5716\uff08\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u539f\u59cb\u696d\u52d9\u6d41\u7a0b\u7684\u5e8f\u5217\u5716\uff0c\u5c55\u793a\u5f9e\u696d\u52d9\u89d2\u5ea6\u7684\u5b8c\u6574\u6d41\u7a0b\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(255, 248, 220) App\n        participant LiveChat as LiveChat Package\n        participant FactsCenter as FactsCenter Package(external)\n    end\n    participant Server as Server\n\n    %% Event status \u8a02\u95b1\uff08\u5728\u9032\u5165 Race Detail Page \u6642\uff09\n    note over User,LiveChat: \u7528\u6236\u9032\u5165 Race Detail Page\n    FactsCenter-&gt;&gt;Server: WebSocket \u8a02\u95b1 Event Status\n    note over FactsCenter,Server: FactsCenter Package \u900f\u904e WebSocket \u5411 Server \u8a02\u95b1 Event Status\n\n    %% Event status \u8b8a\u5316\u6642\uff0c\u81ea\u52d5\u95dc\u9589 Prematch Comment Page\n    note over User,LiveChat: Prematch Comment Page \u8655\u65bc\u958b\u555f\u72c0\u614b\uff08\u9700\u5148\u9032\u5165 Race Detail Page\uff09\n    Server--&gt;&gt;FactsCenter: EventStatusChanged\n    FactsCenter-&gt;&gt;LiveChat: eventStatus(didChange status: Int)\n    note over FactsCenter,LiveChat: FactsCenter Package \u900f\u904e interface \u901a\u77e5 LiveChat Package\n    alt [\u82e5 event status \u6709\u6539\u8b8a\uff0c\u4e14\u70ba match_started]\n        LiveChat-&gt;&gt;User: \u95dc\u9589 Prematch Comment Page\uff08\u5c0e\u56de Race Detail Page\uff09\n        note over LiveChat: \u4e0b\u6b21\u518d\u6253\u958b Chat Room \u6642\uff0c\u6703\u662f match ongoing \u7684 chat room\n    else [\u82e5 event status \u6c92\u6709\u6539\u8b8a]\n        note over LiveChat: APP \u7dad\u6301\u539f\u756b\u9762\n    end</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(255, 248, 220) App\n        participant LiveChat as LiveChat Package\n        participant FactsCenter as FactsCenter Package(external)\n    end\n    participant Server as Server\n\n    %% Event status \u8a02\u95b1\uff08\u5728\u9032\u5165 Race Detail Page \u6642\uff09\n    note over User,LiveChat: \u7528\u6236\u9032\u5165 Race Detail Page\n    FactsCenter-&gt;&gt;Server: WebSocket \u8a02\u95b1 Event Status\n    note over FactsCenter,Server: FactsCenter Package \u900f\u904e WebSocket \u5411 Server \u8a02\u95b1 Event Status\n\n    %% Event status \u8b8a\u5316\u6642\uff0c\u81ea\u52d5\u95dc\u9589 Prematch Comment Page\n    note over User,LiveChat: Prematch Comment Page \u8655\u65bc\u958b\u555f\u72c0\u614b\uff08\u9700\u5148\u9032\u5165 Race Detail Page\uff09\n    Server--&gt;&gt;FactsCenter: EventStatusChanged\n    FactsCenter-&gt;&gt;LiveChat: eventStatus(didChange status: Int)\n    note over FactsCenter,LiveChat: FactsCenter Package \u900f\u904e interface \u901a\u77e5 LiveChat Package\n    alt [\u82e5 event status \u6709\u6539\u8b8a\uff0c\u4e14\u70ba match_started]\n        LiveChat-&gt;&gt;User: \u95dc\u9589 Prematch Comment Page\uff08\u5c0e\u56de Race Detail Page\uff09\n        note over LiveChat: \u4e0b\u6b21\u518d\u6253\u958b Chat Room \u6642\uff0c\u6703\u662f match ongoing \u7684 chat room\n    else [\u82e5 event status \u6c92\u6709\u6539\u8b8a]\n        note over LiveChat: APP \u7dad\u6301\u539f\u756b\u9762\n    end\n</code></pre>"},{"location":"05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/06_event_status_subscription/#_4","title":"\u6a21\u7d44\u5e8f\u5217\u5716\uff08\u67b6\u69cb\u8a2d\u8a08\uff09","text":"<p>\u4ee5\u4e0b\u70ba\u8f49\u63db\u5f8c\u7684\u6a21\u7d44\u5e8f\u5217\u5716\uff0c\u5c55\u793a Clean Architecture \u5404\u5c64\u7d1a\u7684\u4e92\u52d5\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant PrematchCommentView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant PrematchCommentFeature\n    end\n    participant FactsCenterPackage as FactsCenter Package (External)\n    participant Server\n\n    Note over User,PrematchCommentView: \u7528\u6236\u9032\u5165 Race Detail Page\n    User-&gt;&gt;PrematchCommentView: \u9032\u5165 Race Detail Page\n    FactsCenterPackage-&gt;&gt;Server: WebSocket \u8a02\u95b1 Event Status\n    Note over FactsCenterPackage: \u5916\u90e8 Package\uff0c\u5167\u90e8\u5be6\u4f5c\u4e0d\u5728\u6b64 TDD \u7bc4\u570d\u5167\n\n    Note over User,PrematchCommentView: Prematch Comment Page \u8655\u65bc\u958b\u555f\u72c0\u614b\n    Note over User,PrematchCommentView: Event Status \u8b8a\u66f4\u901a\u77e5\n    Server--&gt;&gt;FactsCenterPackage: EventStatusChanged\n    FactsCenterPackage-&gt;&gt;PrematchCommentFeature: eventStatus(didChange status: Int)\n    Note over FactsCenterPackage,PrematchCommentFeature: FactsCenter Package \u900f\u904e interface \u901a\u77e5 PrematchCommentFeature\n    alt \u82e5 event status \u6709\u6539\u8b8a\uff0c\u4e14\u70ba match_started\n        PrematchCommentFeature-&gt;&gt;PrematchCommentView: \u95dc\u9589 Prematch Comment Page\n        PrematchCommentView--&gt;&gt;User: \u5c0e\u56de Race Detail Page\n        Note over PrematchCommentFeature: \u4e0b\u6b21\u518d\u6253\u958b Chat Room \u6642\uff0c\u6703\u662f match ongoing \u7684 chat room\n    else \u82e5 event status \u6c92\u6709\u6539\u8b8a\n        PrematchCommentFeature-&gt;&gt;PrematchCommentFeature: APP \u7dad\u6301\u539f\u756b\u9762\n    end</code></pre> <p>Mermaid \u8a9e\u6cd5\uff08\u53ef\u8907\u88fd\uff09\uff1a</p> <pre><code>sequenceDiagram\n    autonumber\n    actor User\n    box rgb(207,232,255) UI Layer\n        participant PrematchCommentView\n    end\n    box rgb(255,250,205) Domain Layer\n        participant PrematchCommentFeature\n    end\n    participant FactsCenterPackage as FactsCenter Package (External)\n    participant Server\n\n    Note over User,PrematchCommentView: \u7528\u6236\u9032\u5165 Race Detail Page\n    User-&gt;&gt;PrematchCommentView: \u9032\u5165 Race Detail Page\n    FactsCenterPackage-&gt;&gt;Server: WebSocket \u8a02\u95b1 Event Status\n    Note over FactsCenterPackage: \u5916\u90e8 Package\uff0c\u5167\u90e8\u5be6\u4f5c\u4e0d\u5728\u6b64 TDD \u7bc4\u570d\u5167\n\n    Note over User,PrematchCommentView: Prematch Comment Page \u8655\u65bc\u958b\u555f\u72c0\u614b\n    Note over User,PrematchCommentView: Event Status \u8b8a\u66f4\u901a\u77e5\n    Server--&gt;&gt;FactsCenterPackage: EventStatusChanged\n    FactsCenterPackage-&gt;&gt;PrematchCommentFeature: eventStatus(didChange status: Int)\n    Note over FactsCenterPackage,PrematchCommentFeature: FactsCenter Package \u900f\u904e interface \u901a\u77e5 PrematchCommentFeature\n    alt \u82e5 event status \u6709\u6539\u8b8a\uff0c\u4e14\u70ba match_started\n        PrematchCommentFeature-&gt;&gt;PrematchCommentView: \u95dc\u9589 Prematch Comment Page\n        PrematchCommentView--&gt;&gt;User: \u5c0e\u56de Race Detail Page\n        Note over PrematchCommentFeature: \u4e0b\u6b21\u518d\u6253\u958b Chat Room \u6642\uff0c\u6703\u662f match ongoing \u7684 chat room\n    else \u82e5 event status \u6c92\u6709\u6539\u8b8a\n        PrematchCommentFeature-&gt;&gt;PrematchCommentFeature: APP \u7dad\u6301\u539f\u756b\u9762\n    end\n</code></pre>"},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/","title":"Feature State &amp; Action (TCA)","text":"<p>\u672c\u76ee\u9304\u5305\u542b\u6240\u6709 Feature \u7684 TCA State \u548c Action \u5b9a\u7fa9\u3002</p>"},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/#_1","title":"\u6587\u4ef6\u5217\u8868","text":"<ul> <li><code>01_feature_state_action.md</code> - PrematchComment \u548c LiveChat Feature \u7684 State \u548c Action \u5b9a\u7fa9</li> </ul>"},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/#_2","title":"\u8aaa\u660e","text":"<p>\u672c\u7ae0\u7bc0\u5b9a\u7fa9\u4e86\u6240\u6709 Feature \u7684 TCA\uff08The Composable Architecture\uff09State \u548c Action\uff0c\u5305\u62ec\uff1a</p> <ul> <li>State\uff1aUI \u9700\u8981\u7684\u6240\u6709\u72c0\u614b\uff08\u5217\u8868\u8cc7\u6599\u3001loading flag\u3001error\u3001pagination cursor \u7b49\uff09</li> <li>Action\uff1a\u4f7f\u7528\u8005\u4e92\u52d5\u3001Lifecycle \u4e8b\u4ef6\u3001\u7cfb\u7d71\u4e8b\u4ef6\u3001UseCase \u56de\u50b3\u7b49</li> </ul> <p>\u6240\u6709 State \u5fc5\u9808\u4f7f\u7528 Domain Model\uff0c\u4e0d\u5f97\u4f7f\u7528 DTO\u3002</p>"},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/01_feature_state_action/","title":"Feature State &amp; Action (TCA)","text":""},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/01_feature_state_action/#prematchcommentfeature","title":"PrematchCommentFeature","text":""},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/01_feature_state_action/#state","title":"State","text":"<pre><code>struct PrematchCommentState: Equatable {\n    // \u8cc7\u6599\u72c0\u614b\n    var comments: [Comment] = []  // Comment Entity \u9663\u5217\uff08\u5305\u542b repliesCount\u3001likedByMe\u3001isIsolated\u3001isDeleted \u7b49\u6b04\u4f4d\uff09\n    var commentMeta: CommentMeta?  // \u7559\u8a00\u7d71\u8a08\u8cc7\u8a0a\uff08commentCount\u3001betCount \u70ba String\uff09\n    var userInfo: UserInfo?  // \u7528\u6236\u8cc7\u8a0a\uff08\u5305\u542b tierLevel\u3001countryCode\uff09\n    var pagingInfo: PagingInfo?\n    var cursor: Cursor?\n\n    // UI \u72c0\u614b\n    var selectedMode: SortMode = .top  // \u9810\u8a2d\u70ba top\n    var isLoading: Bool = false\n    var error: Error?\n\n    // \u5c55\u958b\u7684\u56de\u8986\u5217\u8868\uff08commentId -&gt; [Comment]\uff09\n    var expandedReplies: [String: [Comment]] = [:]\n    var replyPagingInfo: [String: PagingInfo] = [:]\n\n    // Event Status \u76f8\u95dc\n    var eventStatus: Int?  // \u7576\u524d Event Status\n    var shouldClosePage: Bool = false  // \u7576 event status \u8b8a\u70ba match_started \u6642\u70ba true\n}\n</code></pre>"},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/01_feature_state_action/#action","title":"Action","text":"<pre><code>enum PrematchCommentAction: Equatable {\n    // Lifecycle\n    case onAppear(refId: String)\n    case onDisappear\n\n    // \u4f7f\u7528\u8005\u4e92\u52d5\n    case tapRefreshButton\n    case tapTab(mode: SortMode)\n    case tapLikeButton(commentId: String)\n    case tapReplyButton(commentId: String)\n    case tapLoadMoreReplies(commentId: String)\n    case tapUserName(userId: String)\n    case tapInputField\n    case tapSendButton(content: String, parentId: String?)\n\n    // UseCase \u56de\u61c9\n    case reloadCommentListResponse(Result&lt;ReloadCommentListOutput, Error&gt;)\n    case publishCommentResponse(Result&lt;PublishCommentOutput, Error&gt;)\n    case toggleLikeResponse(Result&lt;ToggleLikeOutput, Error&gt;)\n    case loadRepliesResponse(Result&lt;LoadRepliesOutput, Error&gt;)\n    case navigateToProfileResponse(Result&lt;Void, Error&gt;)\n\n    // \u7cfb\u7d71\u4e8b\u4ef6\n    case eventStatusChanged(status: Int)  // \u4f86\u81ea FactsCenter Package\n}\n</code></pre>"},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/01_feature_state_action/#livechatfeature","title":"LiveChatFeature","text":""},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/01_feature_state_action/#state_1","title":"State","text":"<pre><code>struct LiveChatState: Equatable {\n    // \u8cc7\u6599\u72c0\u614b\n    var chatroomInfo: ChatroomInfo?  // \u804a\u5929\u5ba4\u8cc7\u8a0a\uff08\u5305\u542b onlineCount\u3001betCount\u3001chatRoomType\u3001nickNameAvailable\uff09\n    var messages: [Message] = []  // Message Entity \u9663\u5217\uff08\u5305\u542b previousMessageNo\u3001isIsolated\u3001isDeleted\u3001status \u7b49\u6b04\u4f4d\uff09\n    var lastMessageNo: Int?  // \u6700\u5f8c\u8a0a\u606f\u7de8\u865f\uff08\u7528\u65bc\u8f09\u5165\u6b77\u53f2\u8a0a\u606f\uff09\n\n    // UI \u72c0\u614b\n    var isLoading: Bool = false\n    var isLoadingHistory: Bool = false\n    var error: Error?\n    var isChatroomOpen: Bool = false\n\n    // WebSocket \u72c0\u614b\n    var isWebSocketConnected: Bool = false\n    var webSocketError: Error?\n\n    // \u9ed1\u540d\u55ae\n    var blockedUserIds: Set&lt;String&gt; = []\n\n    // \u4f7f\u7528\u8005\u4e92\u52d5\u72c0\u614b\n    var selectedUserId: String?  // \u7528\u65bc\u986f\u793a\u64cd\u4f5c\u9078\u55ae\n    var showBlockConfirmation: Bool = false\n}\n</code></pre>"},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/01_feature_state_action/#action_1","title":"Action","text":"<pre><code>enum LiveChatAction: Equatable {\n    // Lifecycle\n    case onAppear(refId: String)\n    case onDisappear\n\n    // \u4f7f\u7528\u8005\u4e92\u52d5\n    case tapJoinChatroom\n    case tapLeaveChatroom\n    case tapInputField\n    case tapSendButton(content: String)\n    case tapUserName(userId: String)\n    case tapBlockUser(userId: String)\n    case confirmBlockUser(userId: String)\n    case tapScrollToTop  // \u8f09\u5165\u6b77\u53f2\u8a0a\u606f\n\n    // UseCase \u56de\u61c9\n    case joinChatroomResponse(Result&lt;JoinChatroomOutput, Error&gt;)\n    case leaveChatroomResponse(Result&lt;Void, Error&gt;)\n    case sendMessageResponse(Result&lt;SendChatMessageOutput, Error&gt;)\n    case navigateToProfileResponse(Result&lt;Void, Error&gt;)\n    case blockUserResponse(Result&lt;Void, Error&gt;)\n\n    // WebSocket \u4e8b\u4ef6\n    case webSocketConnected\n    case webSocketDisconnected\n    case webSocketError(Error)\n    case webSocketMessageReceived(Message)\n\n    // \u7cfb\u7d71\u4e8b\u4ef6\n    case loadHistoricalMessagesResponse(Result&lt;[Message], Error&gt;)\n}\n</code></pre>"},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/01_feature_state_action/#state_2","title":"State \u8a2d\u8a08\u539f\u5247","text":""},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/01_feature_state_action/#1-domain-model","title":"1. \u53ea\u4f7f\u7528 Domain Model","text":"<ul> <li>\u2705 \u6b63\u78ba\uff1a<code>var comments: [Comment]</code>\uff08Entity \u9663\u5217\uff09</li> <li>\u2705 \u6b63\u78ba\uff1a<code>var pagingInfo: PagingInfo?</code>\uff08Value Object\uff09</li> <li>\u274c \u932f\u8aa4\uff1a<code>var apiResponse: CommentResponseDTO</code>\uff08DTO\uff09</li> </ul>"},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/01_feature_state_action/#2-client-repository-api","title":"2. \u4e0d\u4f9d\u8cf4 Client / Repository / API","text":"<ul> <li>State \u4e2d\u4e0d\u61c9\u5305\u542b\u4efb\u4f55 Client\u3001Repository \u6216 API \u7684\u5f15\u7528</li> <li>\u6240\u6709\u8cc7\u6599\u5b58\u53d6\u90fd\u900f\u904e UseCase \u8655\u7406</li> </ul>"},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/01_feature_state_action/#3-ui","title":"3. UI \u72c0\u614b\u8207\u8cc7\u6599\u72c0\u614b\u5206\u96e2","text":"<ul> <li>\u8cc7\u6599\u72c0\u614b\uff1acomments\u3001messages\u3001pagingInfo \u7b49</li> <li>UI \u72c0\u614b\uff1aisLoading\u3001error\u3001selectedMode \u7b49</li> </ul>"},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/01_feature_state_action/#action_2","title":"Action \u8a2d\u8a08\u539f\u5247","text":""},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/01_feature_state_action/#1-action","title":"1. Action \u50c5\u4ee3\u8868\u4e8b\u4ef6\uff0c\u4e0d\u5305\u542b\u908f\u8f2f","text":"<ul> <li>\u2705 \u6b63\u78ba\uff1a<code>case tapLikeButton(commentId: String)</code></li> <li>\u274c \u932f\u8aa4\uff1a<code>case likeComment(commentId: String, shouldIncrement: Bool)</code>\uff08\u5305\u542b\u908f\u8f2f\u5224\u65b7\uff09</li> </ul>"},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/01_feature_state_action/#2","title":"2. \u5340\u5206\u4f7f\u7528\u8005\u4e92\u52d5\u548c\u7cfb\u7d71\u4e8b\u4ef6","text":"<ul> <li>\u4f7f\u7528\u8005\u4e92\u52d5\uff1atap\u3001input\u3001select \u7b49</li> <li>Lifecycle\uff1aonAppear\u3001onDisappear</li> <li>\u7cfb\u7d71\u4e8b\u4ef6\uff1aWebSocket \u8a0a\u606f\u3001\u5916\u90e8\u901a\u77e5\u7b49</li> <li>UseCase \u56de\u61c9\uff1a\u6240\u6709 UseCase \u57f7\u884c\u7d50\u679c</li> </ul>"},{"location":"06_Feature%20State%20%26%20Action%20%28TCA%29/01_feature_state_action/#3-usecase","title":"3. UseCase \u56de\u61c9\u547d\u540d\u898f\u7bc4","text":"<ul> <li>\u683c\u5f0f\uff1a<code>{useCaseName}Response(Result&lt;{OutputType}, Error&gt;)</code></li> <li>\u7bc4\u4f8b\uff1a<code>reloadCommentListResponse(Result&lt;ReloadCommentListOutput, Error&gt;)</code></li> </ul>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/","title":"UseCase Input &amp; Output Model","text":"<p>\u672c\u76ee\u9304\u5305\u542b\u6240\u6709 UseCase \u7684 Input \u548c Output Model \u5b9a\u7fa9\u3002</p>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/#_1","title":"\u6587\u4ef6\u5217\u8868","text":"<ul> <li><code>01_usecase_input_output.md</code> - \u6240\u6709 UseCase \u7684 Input \u548c Output Model \u5b9a\u7fa9</li> </ul>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/#_2","title":"\u8aaa\u660e","text":"<p>\u672c\u7ae0\u7bc0\u5b9a\u7fa9\u4e86\u6240\u6709 UseCase \u7684 Input \u548c Output Model\uff0c\u5305\u62ec\uff1a</p> <ul> <li>Input Model\uff1aFeature \u547c\u53eb UseCase \u7684\u53c3\u6578\u5c01\u88dd</li> <li>Output Model\uff1aUseCase \u56de\u50b3\u7d66 Feature \u7684 Domain \u7d50\u679c</li> </ul> <p>\u6240\u6709 Input/Output Model \u5fc5\u9808\u4f7f\u7528 Domain Model\uff0c\u4e0d\u5f97\u4f7f\u7528 DTO\u3002</p>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/","title":"UseCase Input &amp; Output Model","text":""},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#prematchcomment-usecases","title":"PrematchComment UseCases","text":""},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#reloadcommentlistusecase","title":"ReloadCommentListUseCase","text":""},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#input","title":"Input","text":"<pre><code>struct ReloadCommentListInput: Equatable {\n    let refId: String\n    let triggerType: TriggerType  // init / refresh / switch\n    let mode: SortMode  // top / newest\n    let cursor: Cursor?  // \u53ef\u9078\uff0c\u7528\u65bc\u5206\u9801\n}\n\nenum TriggerType: String, Equatable {\n    case init  // \u521d\u59cb\u5316\u8f09\u5165\n    case refresh  // \u624b\u52d5\u5237\u65b0\n    case switch  // \u5207\u63db\u6a19\u7c64\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#output","title":"Output","text":"<pre><code>struct ReloadCommentListOutput: Equatable {\n    let comments: [Comment]\n    let pagingInfo: PagingInfo?\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#publishcommentusecase","title":"PublishCommentUseCase","text":""},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#input_1","title":"Input","text":"<pre><code>struct PublishCommentInput: Equatable {\n    let refId: String\n    let content: String\n    let parentId: String?  // \u53ef\u9078\uff0c\u7528\u65bc\u56de\u8986\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#output_1","title":"Output","text":"<pre><code>struct PublishCommentOutput: Equatable {\n    let comment: Comment\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#togglelikeusecase","title":"ToggleLikeUseCase","text":""},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#input_2","title":"Input","text":"<pre><code>struct ToggleLikeInput: Equatable {\n    let commentId: String\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#output_2","title":"Output","text":"<pre><code>struct ToggleLikeOutput: Equatable {\n    let comment: Comment  // \u66f4\u65b0\u5f8c\u7684 Comment\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#loadrepliesusecase","title":"LoadRepliesUseCase","text":""},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#input_3","title":"Input","text":"<pre><code>struct LoadRepliesInput: Equatable {\n    let commentId: String\n    let cursor: Cursor?  // \u53ef\u9078\uff0c\u7528\u65bc\u5206\u9801\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#output_3","title":"Output","text":"<pre><code>struct LoadRepliesOutput: Equatable {\n    let replies: [Comment]\n    let pagingInfo: PagingInfo\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#navigatetoprofileusecase","title":"NavigateToProfileUseCase","text":""},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#input_4","title":"Input","text":"<pre><code>struct NavigateToProfileInput: Equatable {\n    let userId: String\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#output_4","title":"Output","text":"<pre><code>struct NavigateToProfileOutput: Equatable {\n    // \u7121\u56de\u50b3\u503c\uff0c\u8def\u7531\u8df3\u8f49\u6210\u529f\u5373\u53ef\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#livechat-usecases","title":"LiveChat UseCases","text":""},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#sendchatmessageusecase","title":"SendChatMessageUseCase","text":""},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#input_5","title":"Input","text":"<pre><code>struct SendChatMessageInput: Equatable {\n    let chatroomId: String\n    let content: String\n    let messageType: MessageType\n}\n\nenum MessageType: String, Equatable {\n    case text\n    // \u672a\u4f86\u53ef\u64f4\u5c55\u5176\u4ed6\u985e\u578b\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#output_5","title":"Output","text":"<pre><code>struct SendChatMessageOutput: Equatable {\n    let message: Message\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#joinchatroomusecase","title":"JoinChatroomUseCase","text":""},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#input_6","title":"Input","text":"<pre><code>struct JoinChatroomInput: Equatable {\n    let refId: String\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#output_6","title":"Output","text":"<pre><code>struct JoinChatroomOutput: Equatable {\n    let chatroomInfo: ChatroomInfo\n    let messages: [Message]  // \u6b77\u53f2\u8a0a\u606f\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#leavechatroomusecase","title":"LeaveChatroomUseCase","text":""},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#input_7","title":"Input","text":"<pre><code>struct LeaveChatroomInput: Equatable {\n    let chatroomId: String\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#output_7","title":"Output","text":"<pre><code>struct LeaveChatroomOutput: Equatable {\n    // \u7121\u56de\u50b3\u503c\uff0c\u96e2\u958b\u6210\u529f\u5373\u53ef\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#blockuserusecase","title":"BlockUserUseCase","text":""},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#input_8","title":"Input","text":"<pre><code>struct BlockUserInput: Equatable {\n    let userId: String\n    let eventId: String\n    let timestamp: Date\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#output_8","title":"Output","text":"<pre><code>struct BlockUserOutput: Equatable {\n    // \u7121\u56de\u50b3\u503c\uff0c\u5c01\u9396\u6210\u529f\u5373\u53ef\n}\n</code></pre>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#inputoutput-model","title":"Input/Output Model \u8a2d\u8a08\u539f\u5247","text":""},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#1-domain-model","title":"1. \u53ea\u4f7f\u7528 Domain Model","text":"<ul> <li>\u2705 \u6b63\u78ba\uff1a<code>let comments: [Comment]</code>\uff08Entity \u9663\u5217\uff09</li> <li>\u2705 \u6b63\u78ba\uff1a<code>let mode: SortMode</code>\uff08Value Object\uff09</li> <li>\u2705 \u6b63\u78ba\uff1a<code>let cursor: Cursor?</code>\uff08Value Object\uff09</li> <li>\u274c \u932f\u8aa4\uff1a<code>let requestDTO: CommentRequestDTO</code>\uff08DTO\uff09</li> </ul>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#2-input-model","title":"2. Input Model \u8868\u9054\u6240\u6709\u53ef\u8b8a\u56e0\u7d20","text":"<ul> <li>\u4f7f\u7528 <code>triggerType</code> \u5340\u5206\u4e0d\u540c\u7684\u89f8\u767c\u65b9\u5f0f\uff08init / refresh / switch\uff09</li> <li>\u4f7f\u7528 <code>mode</code> \u5340\u5206\u4e0d\u540c\u7684\u6392\u5e8f\u65b9\u5f0f\uff08top / newest\uff09</li> <li>\u4f7f\u7528 <code>cursor</code> \u8655\u7406\u5206\u9801</li> </ul>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#3-output-model-ui","title":"3. Output Model \u8cbc\u8fd1 UI \u6240\u9700","text":"<ul> <li>\u5305\u542b Domain Model\uff08\u5982 comments\u3001messages\uff09</li> <li>\u5305\u542b UI \u6240\u9700\u7684 meta\uff08\u5982 pagingInfo\u3001hasMore\uff09</li> <li>\u4e0d\u5305\u542b DTO \u6216\u6280\u8853\u7d30\u7bc0</li> </ul>"},{"location":"07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/#4-optional","title":"4. \u53ef\u9078\u53c3\u6578\u4f7f\u7528 Optional","text":"<ul> <li>\u5206\u9801\u76f8\u95dc\u53c3\u6578\u4f7f\u7528 <code>Cursor?</code></li> <li>\u56de\u8986\u76f8\u95dc\u53c3\u6578\u4f7f\u7528 <code>parentId: String?</code></li> </ul>"},{"location":"08_API%20Spec%20%26%20Mapping/","title":"API Spec &amp; Mapping","text":"<p>\u672c\u76ee\u9304\u5305\u542b\u6240\u6709 API \u7684\u8a73\u7d30\u898f\u683c\u548c DTO \u2192 Domain Model \u7684 Mapping \u5b9a\u7fa9\u3002</p>"},{"location":"08_API%20Spec%20%26%20Mapping/#_1","title":"\u6587\u4ef6\u5217\u8868","text":"<ul> <li><code>01_api_spec.md</code> - \u6240\u6709 API \u7684\u8a73\u7d30\u898f\u683c\u548c Mapping \u5b9a\u7fa9</li> </ul>"},{"location":"08_API%20Spec%20%26%20Mapping/#_2","title":"\u8aaa\u660e","text":"<p>\u672c\u7ae0\u7bc0\u5b9a\u7fa9\u4e86\u6240\u6709 API \u7684\u8a73\u7d30\u898f\u683c\uff0c\u5305\u62ec\uff1a</p> <ul> <li>URL \u548c HTTP Method</li> <li>Request/Response DTO</li> <li>\u6240\u5c6c UseCase</li> <li>DTO \u2192 Domain Model Mapping</li> <li>\u547c\u53eb\u93c8\uff1aUseCase \u2192 Repository \u2192 Client \u2192 API</li> </ul>"},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/","title":"API Spec &amp; Mapping","text":""},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#prematchcommentapi","title":"PrematchCommentAPI","text":""},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#post-chatmatchcommentbatchinfo","title":"POST /chat/match/comment/batch/info","text":"<p>\u6240\u5c6c UseCase\uff1aReloadCommentListUseCase\uff08\u6279\u91cf\u7372\u53d6\u8a55\u8ad6\u8cc7\u8a0a\uff09</p> <p>HTTP Method\uff1aPOST</p> <p>URL\uff1a<code>/chat/match/comment/batch/info</code></p> <p>Request DTO\uff1a <pre><code>struct BatchCommentInfoRequestDTO: Codable {\n    let refIdList: [String]\n}\n</code></pre></p> <p>Response DTO\uff1a <pre><code>struct BatchCommentInfoResponseDTO: Codable {\n    let bizCode: Int\n    let innerMsg: String?\n    let message: String?\n    let data: [CommentMetaInfoDTO]\n}\n\nstruct CommentMetaInfoDTO: Codable {\n    let refId: String\n    let commentCount: String\n    let betCount: String\n}\n</code></pre></p> <p>Mapping\uff1a <pre><code>extension CommentMeta {\n    init(from dto: CommentMetaInfoDTO) {\n        self.id = dto.refId\n        self.commentCount = Int(dto.commentCount) ?? 0\n        self.betCount = dto.betCount\n        self.refId = dto.refId\n    }\n}\n</code></pre></p> <p>\u547c\u53eb\u93c8\uff1aReloadCommentListUseCase \u2192 PrematchCommentRepository \u2192 PrematchCommentClient \u2192 PrematchCommentAPI</p>"},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#get-chatmatchcommentinforefid","title":"GET /chat/match/comment/info/{refId}","text":"<p>\u6240\u5c6c UseCase\uff1aReloadCommentListUseCase\uff08\u521d\u59cb\u5316\u6642\uff09</p> <p>HTTP Method\uff1aGET</p> <p>URL\uff1a<code>/chat/match/comment/info/{refId}</code></p> <p>Request\uff1a - Path Parameter\uff1a<code>refId: String</code></p> <p>Response DTO\uff1a <pre><code>struct CommentMetaResponseDTO: Codable {\n    let bizCode: Int\n    let innerMsg: String?\n    let message: String?\n    let data: CommentMetaDataDTO\n}\n\nstruct CommentMetaDataDTO: Codable {\n    let refId: String\n    let commentCount: String\n    let betCount: String\n}\n</code></pre></p> <p>Mapping\uff1a <pre><code>extension CommentMeta {\n    init(from dto: CommentMetaDataDTO) {\n        self.id = dto.refId\n        self.commentCount = Int(dto.commentCount) ?? 0\n        self.betCount = dto.betCount\n        self.refId = dto.refId\n    }\n}\n</code></pre></p> <p>\u547c\u53eb\u93c8\uff1aReloadCommentListUseCase \u2192 PrematchCommentRepository \u2192 PrematchCommentClient \u2192 PrematchCommentAPI</p>"},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#get-chatmatchcommentpopular","title":"GET /chat/match/comment/popular","text":"<p>\u6240\u5c6c UseCase\uff1aReloadCommentListUseCase\uff08mode = .top\uff09</p> <p>HTTP Method\uff1aGET</p> <p>URL\uff1a<code>/chat/match/comment/popular</code></p> <p>Request\uff1a - Query Parameter\uff1a<code>refId: String</code> - Query Parameter\uff1a<code>pageNum: Int?</code>\uff08\u53ef\u9078\uff0c\u9810\u8a2d 1\uff0c\u7528\u65bc\u5206\u9801\uff09 - Query Parameter\uff1a<code>pageSize: Int?</code>\uff08\u53ef\u9078\uff0c\u9810\u8a2d 10\uff0c\u6bcf\u9801\u8fd4\u56de\u7684\u8a55\u8ad6\u6578\uff09</p> <p>Response DTO\uff1a <pre><code>struct CommentListResponseDTO: Codable {\n    let bizCode: Int\n    let innerMsg: String?\n    let message: String?\n    let data: [CommentDTO]\n}\n\nstruct CommentDTO: Codable {\n    let id: Int64\n    let parentId: Int64  // 0 \u8868\u793a\u7b2c\u4e00\u5c64\u8a55\u8ad6\n    let sharedBetsMeta: String?  // \u5171\u4eab\u6295\u6ce8\u8cc7\u8a0a\uff08\u81ea\u8a02 JSON \u683c\u5f0f\uff09\n    let userId: String\n    let userNickname: String\n    let userTierLevel: String\n    let userAvatar: String\n    let countryCode: String\n    let comment: String\n    let isIsolated: Bool\n    let isDeleted: Bool\n    let likedCount: Int\n    let repliesCount: Int\n    let likedByMe: Bool\n    let createTime: Int64  // \u6642\u9593\u6233\n    let tagUserId: String?\n    let tagUserNickname: String?\n}\n</code></pre></p> <p>Mapping\uff1a <pre><code>extension Comment {\n    init(from dto: CommentDTO) {\n        self.id = \"\\(dto.id)\"\n        self.content = dto.comment\n        self.likeCount = dto.likedCount\n        self.authorId = dto.userId\n        self.authorNickname = dto.userNickname\n        self.parentId = dto.parentId == 0 ? nil : \"\\(dto.parentId)\"\n        self.createdAt = Date(timeIntervalSince1970: TimeInterval(dto.createTime) / 1000)\n        self.refId = \"\"  // \u9700\u8981\u5f9e UseCase \u5c64\u50b3\u5165\n        self.repliesCount = dto.repliesCount\n        self.likedByMe = dto.likedByMe\n        self.isIsolated = dto.isIsolated\n        self.isDeleted = dto.isDeleted\n    }\n}\n</code></pre></p> <p>\u547c\u53eb\u93c8\uff1aReloadCommentListUseCase \u2192 PrematchCommentRepository \u2192 PrematchCommentClient \u2192 PrematchCommentAPI</p>"},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#get-chatmatchcommentnewest","title":"GET /chat/match/comment/newest","text":"<p>\u6240\u5c6c UseCase\uff1aReloadCommentListUseCase\uff08mode = .newest\uff09</p> <p>HTTP Method\uff1aGET</p> <p>URL\uff1a<code>/chat/match/comment/newest</code></p> <p>Request\uff1a - Query Parameter\uff1a<code>refId: String</code> - Query Parameter\uff1a<code>prevCommentId: Int64?</code>\uff08\u53ef\u9078\uff0c\u4e0a\u4e00\u500b\u8a55\u8ad6\u7684 ID\uff0c\u7528\u65bc\u5206\u9801\uff09 - Query Parameter\uff1a<code>pageSize: Int?</code>\uff08\u53ef\u9078\uff0c\u9810\u8a2d 10\uff0c\u6bcf\u9801\u8fd4\u56de\u7684\u8a55\u8ad6\u6578\uff09</p> <p>Response DTO\uff1a\u540c <code>GET /chat/match/comment/popular</code></p> <p>Mapping\uff1a\u540c <code>GET /chat/match/comment/popular</code></p> <p>\u547c\u53eb\u93c8\uff1aReloadCommentListUseCase \u2192 PrematchCommentRepository \u2192 PrematchCommentClient \u2192 PrematchCommentAPI</p>"},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#post-chatmatchcomment","title":"POST /chat/match/comment","text":"<p>\u6240\u5c6c UseCase\uff1aPublishCommentUseCase</p> <p>HTTP Method\uff1aPOST</p> <p>URL\uff1a<code>/chat/match/comment</code></p> <p>Request DTO\uff1a <pre><code>struct PublishCommentRequestDTO: Codable {\n    let refId: String\n    let parentCommentId: Int64?  // \u53ef\u9078\uff0c\u7236\u8a55\u8ad6 ID\uff08\u5982\u679c\u662f\u56de\u8986\uff09\n    let sharedBetsMeta: [String: AnyCodable]?  // \u53ef\u9078\uff0c\u5171\u4eab\u6295\u6ce8\u8cc7\u8a0a\uff08\u81ea\u8a02 JSON \u683c\u5f0f\uff09\n    let comment: String\n    let tagUserId: String?  // \u53ef\u9078\uff0c\u88ab\u6a19\u8a18\u7684\u7528\u6236 ID\n}\n</code></pre></p> <p>Response DTO\uff1a <pre><code>struct CommentResponseDTO: Codable {\n    let bizCode: Int\n    let innerMsg: String?\n    let message: String?\n    let data: CommentDTO  // \u540c CommentDTO \u7d50\u69cb\n}\n</code></pre></p> <p>Mapping\uff1a <pre><code>extension Comment {\n    init(from dto: CommentDTO) {\n        // \u540c GET /chat/match/comment/popular \u7684 Mapping\n    }\n}\n</code></pre></p> <p>\u547c\u53eb\u93c8\uff1aPublishCommentUseCase \u2192 PrematchCommentRepository \u2192 PrematchCommentClient \u2192 PrematchCommentAPI</p>"},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#post-chatmatchcommentlike","title":"POST /chat/match/comment/like","text":"<p>\u6240\u5c6c UseCase\uff1aToggleLikeUseCase</p> <p>HTTP Method\uff1aPOST</p> <p>URL\uff1a<code>/chat/match/comment/like</code></p> <p>Request DTO\uff1a <pre><code>struct ToggleLikeRequestDTO: Codable {\n    let commentId: Int64?\n}\n</code></pre></p> <p>Response DTO\uff1a\u540c <code>POST /chat/match/comment</code> \u7684 Response</p> <p>Mapping\uff1a\u540c <code>POST /chat/match/comment</code></p> <p>\u547c\u53eb\u93c8\uff1aToggleLikeUseCase \u2192 PrematchCommentRepository \u2192 PrematchCommentClient \u2192 PrematchCommentAPI</p>"},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#get-chatmatchcommentreplies","title":"GET /chat/match/comment/replies","text":"<p>\u6240\u5c6c UseCase\uff1aLoadRepliesUseCase</p> <p>HTTP Method\uff1aGET</p> <p>URL\uff1a<code>/chat/match/comment/replies</code></p> <p>Request\uff1a - Query Parameter\uff1a<code>parentCommentId: Int64</code>\uff08\u7236\u8a55\u8ad6 ID\uff0c\u7b2c\u4e00\u5c64\u8a55\u8ad6\u7684 ID\uff09 - Query Parameter\uff1a<code>prevCommentId: Int64?</code>\uff08\u53ef\u9078\uff0c\u4e0a\u4e00\u500b\u8a55\u8ad6\u7684 ID\uff0c\u7528\u65bc\u5206\u9801\uff09 - Query Parameter\uff1a<code>pageSize: Int?</code>\uff08\u53ef\u9078\uff0c\u9810\u8a2d 5\uff0c\u6bcf\u9801\u8fd4\u56de\u7684\u56de\u8986\u6578\uff09</p> <p>Response DTO\uff1a\u540c <code>GET /chat/match/comment/popular</code></p> <p>Mapping\uff1a\u540c <code>GET /chat/match/comment/popular</code></p> <p>\u547c\u53eb\u93c8\uff1aLoadRepliesUseCase \u2192 PrematchCommentRepository \u2192 PrematchCommentClient \u2192 PrematchCommentAPI</p>"},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#chatapi","title":"ChatAPI","text":""},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#post-chatmatchbatchcount","title":"POST /chat/match/batch/count","text":"<p>\u6240\u5c6c UseCase\uff1aJoinChatroomUseCase\uff08\u6279\u91cf\u7372\u53d6\u804a\u5929\u5ba4\u8a08\u6578\uff09</p> <p>HTTP Method\uff1aPOST</p> <p>URL\uff1a<code>/chat/match/batch/count</code></p> <p>Request DTO\uff1a <pre><code>struct BatchChatRoomCountRequestDTO: Codable {\n    let refIdList: [String]\n}\n</code></pre></p> <p>Response DTO\uff1a <pre><code>struct BatchChatRoomCountResponseDTO: Codable {\n    let bizCode: Int\n    let innerMsg: String?\n    let message: String?\n    let data: [ChatRoomCountDTO]\n}\n\nstruct ChatRoomCountDTO: Codable {\n    let refId: String\n    let onlineCount: String\n    let betCount: String\n}\n</code></pre></p> <p>Mapping\uff1a <pre><code>extension ChatroomInfo {\n    init(from dto: ChatRoomCountDTO) {\n        self.id = dto.refId  // \u4f7f\u7528 refId \u4f5c\u70ba id\n        self.chatroomId = \"\"  // \u6279\u91cf API \u4e0d\u8fd4\u56de chatroomId\n        self.lastMessageNo = 0  // \u6279\u91cf API \u4e0d\u8fd4\u56de lastMessageNo\n        self.refId = dto.refId\n        self.onlineCount = Int(dto.onlineCount) ?? 0\n        self.betCount = dto.betCount\n        self.chatRoomType = 10  // \u9810\u8a2d\u70ba GROUP\n        self.nickNameAvailable = nil  // \u6279\u91cf API \u4e0d\u8fd4\u56de\u6b64\u6b04\u4f4d\n    }\n}\n</code></pre></p> <p>\u547c\u53eb\u93c8\uff1aJoinChatroomUseCase \u2192 LiveChatRepository \u2192 LiveChatClient \u2192 ChatAPI</p>"},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#get-chatmatchrefid","title":"GET /chat/match/{refId}","text":"<p>\u6240\u5c6c UseCase\uff1aJoinChatroomUseCase</p> <p>HTTP Method\uff1aGET</p> <p>URL\uff1a<code>/chat/match/{refId}</code></p> <p>Description\uff1a\u7372\u53d6\u6216\u5275\u5efa\u804a\u5929\u5ba4 ID\u3002\u5982\u679c\u804a\u5929\u5ba4\u4e0d\u5b58\u5728\u5247\u5275\u5efa\u3002</p> <p>Request\uff1a - Path Parameter\uff1a<code>refId: String</code>\uff08\u4e8b\u4ef6 ID\uff0c\u5168\u57df\u552f\u4e00\uff0c\u91cd\u8907\u7684 ID \u5c07\u8fd4\u56de\u76f8\u540c\u7684\u804a\u5929\u5ba4 ID\uff09 - Query Parameter\uff1a<code>userId: String?</code>\uff08\u53ef\u9078\uff0c\u7528\u65bc\u6aa2\u67e5\u7528\u6236\u7684\u66b1\u7a31\u662f\u5426\u5b58\u5728\u3002\u5982\u679c\u672a\u63d0\u4f9b\uff0cnickNameAvailable \u5728\u56de\u61c9\u4e2d\u59cb\u7d42\u70ba true\uff09</p> <p>Response DTO\uff1a <pre><code>struct ChatroomInfoResponseDTO: Codable {\n    let bizCode: Int\n    let innerMsg: String?\n    let message: String?\n    let data: ChatroomInfoDataDTO\n}\n\nstruct ChatroomInfoDataDTO: Codable {\n    let id: Int\n    let chatRoomId: String\n    let chatRoomType: Int  // \u76ee\u524d\u50c5\u4f7f\u7528 GROUP(10)\n    let lastMessageNo: Int\n    let createTime: String  // ISO 8601 \u683c\u5f0f\uff0c\u4f8b\u5982\uff1a\"2025-02-12T09:31:36.000+00:00\"\n    let updateTime: String?\n    let creatorUserId: String\n    let name: String?  // \u804a\u5929\u5ba4\u540d\u7a31\n    let avatarUrl: String?  // \u982d\u50cf URL\n    let evatorUrl: String?\n    let bizUserId: String\n    let refId: String\n    let onlineCount: String\n    let betCount: String\n    let nickNameAvailable: Bool?  // \u66b1\u7a31\u662f\u5426\u53ef\u7528\n}\n</code></pre></p> <p>Mapping\uff1a <pre><code>extension ChatroomInfo {\n    init(from dto: ChatroomInfoDataDTO) {\n        self.id = dto.chatRoomId\n        self.chatroomId = dto.chatRoomId\n        self.lastMessageNo = dto.lastMessageNo\n        self.refId = dto.refId\n        self.onlineCount = Int(dto.onlineCount) ?? 0\n        self.betCount = dto.betCount\n        self.chatRoomType = dto.chatRoomType\n        self.nickNameAvailable = dto.nickNameAvailable\n    }\n}\n</code></pre></p> <p>\u547c\u53eb\u93c8\uff1aJoinChatroomUseCase \u2192 LiveChatRepository \u2192 LiveChatClient \u2192 ChatAPI</p>"},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#get-chatmatchbackward","title":"GET /chat/match/backward","text":"<p>\u6240\u5c6c UseCase\uff1aJoinChatroomUseCase\uff08\u7372\u53d6\u6b77\u53f2\u6d88\u606f\uff09</p> <p>HTTP Method\uff1aGET</p> <p>URL\uff1a<code>/chat/match/backward</code></p> <p>Request\uff1a - Query Parameter\uff1a<code>chatRoomId: String</code> - Query Parameter\uff1a<code>messageNo: Int</code>\uff08Previous messageNo\uff0c\u53ef\u5f9e Step 1 API \u7684 lastMessageNo \u53d6\u5f97\uff09 - Query Parameter\uff1a<code>length: Int?</code>\uff08\u53ef\u9078\uff0c\u9810\u8a2d 20\uff0c\u6700\u5927\u503c 500\uff09</p> <p>Response DTO\uff1a <pre><code>struct MessageListResponseDTO: Codable {\n    let bizCode: Int\n    let innerMsg: String?\n    let message: String?\n    let data: [MessageDTO]\n}\n\nstruct MessageDTO: Codable {\n    let chatRoomId: String\n    let chatRoomType: Int?\n    let messageNo: Int\n    let previousMessageNo: Int\n    let postUserId: String\n    let jsonBody: MessageBodyDTO\n    let sharedBetsMeta: String?\n    let status: Int\n    let isIsolated: Bool\n    let isDeleted: Bool\n    let createTime: Int64\n    let userInfo: UserInfoDTO\n}\n\nstruct MessageBodyDTO: Codable {\n    let text: String?  // TEXT \u6d88\u606f\u7684\u5167\u5bb9\n}\n\nstruct UserInfoDTO: Codable {\n    let nickname: String\n    let avatar: String\n    let country: String\n    let tierLevel: String?  // \u6ce8\u610f\uff1aapiFlow.md \u4e2d\u4f7f\u7528 \"tieLevel\"\uff0c\u4f46\u5be6\u969b\u53ef\u80fd\u662f \"tierLevel\"\n}\n</code></pre></p> <p>Mapping\uff1a <pre><code>extension Message {\n    init(from dto: MessageDTO) {\n        self.id = \"\\(dto.messageNo)\"\n        self.content = dto.jsonBody.text ?? \"\"\n        self.messageNo = dto.messageNo\n        self.previousMessageNo = dto.previousMessageNo\n        self.authorId = dto.postUserId\n        self.authorNickname = dto.userInfo.nickname\n        self.messageType = .text  // \u50c5\u652f\u63f4 TEXT \u985e\u578b\n        self.createdAt = Date(timeIntervalSince1970: TimeInterval(dto.createTime) / 1000)\n        self.chatroomId = dto.chatRoomId\n        self.isIsolated = dto.isIsolated\n        self.isDeleted = dto.isDeleted\n        self.status = dto.status\n    }\n}\n</code></pre></p> <p>\u547c\u53eb\u93c8\uff1aJoinChatroomUseCase \u2192 LiveChatRepository \u2192 LiveChatClient \u2192 ChatAPI</p>"},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#post-chatmatchmessage","title":"POST /chat/match/message","text":"<p>\u6240\u5c6c UseCase\uff1aSendChatMessageUseCase</p> <p>HTTP Method\uff1aPOST</p> <p>URL\uff1a<code>/chat/match/message</code></p> <p>Request Headers\uff1a - <code>accessToken: String</code>\uff08\u53ef\u9078\uff0c\u512a\u5148\u7d1a\u9ad8\u65bc Cookie\uff09 - <code>Cookie: String</code>\uff08\u5fc5\u9808\u5305\u542b accessToken \u6b04\u4f4d\uff09 - <code>countryCode: String</code></p> <p>Request DTO\uff1a <pre><code>struct SendMessageRequestDTO: Codable {\n    let text: String  // TEXT \u6d88\u606f\u5167\u5bb9\n    let messageType: String  // \u56fa\u5b9a\u70ba \"TEXT\"\n    let chatRoomId: String\n}\n</code></pre></p> <p>Response DTO\uff1a <pre><code>struct SendMessageResponseDTO: Codable {\n    let bizCode: Int\n    let innerMsg: String?\n    let message: String?\n    let data: MessageResponseDataDTO\n}\n\nstruct MessageResponseDataDTO: Codable {\n    let msgType: Int  // 1 \u8868\u793a TEXT\n    let userId: String?\n    let messageNo: Int?\n    let previousMessageNo: Int?\n    let jsonBody: MessageBodyWrapperDTO\n    let sharedBetsMeta: String?\n    let isIsolated: Bool\n    let status: Int\n}\n\nstruct MessageBodyWrapperDTO: Codable {\n    let postUserId: String\n    let userInfo: UserInfoDTO\n    let messageNo: Int\n    let isDeleted: Bool\n    let createTime: Int64\n    let previousMessageNo: Int\n    let chatRoomId: String\n    let chatRoomType: Int\n    let jsonBody: MessageBodyDTO  // \u50c5\u5305\u542b text \u6b04\u4f4d\n    let sharedBetsMeta: String?\n    let isIsolated: Bool\n    let status: Int\n}\n</code></pre></p> <p>Mapping\uff1a <pre><code>extension Message {\n    init(from dto: MessageResponseDataDTO) {\n        self.id = dto.jsonBody.messageNo.map { \"\\($0)\" } ?? \"\"\n        self.content = dto.jsonBody.jsonBody.text ?? \"\"\n        self.messageNo = dto.jsonBody.messageNo\n        self.previousMessageNo = dto.jsonBody.previousMessageNo\n        self.authorId = dto.jsonBody.postUserId\n        self.authorNickname = dto.jsonBody.userInfo.nickname\n        self.messageType = .text  // \u50c5\u652f\u63f4 TEXT \u985e\u578b\n        self.createdAt = Date(timeIntervalSince1970: TimeInterval(dto.jsonBody.createTime) / 1000)\n        self.chatroomId = dto.jsonBody.chatRoomId\n        self.isIsolated = dto.jsonBody.isIsolated\n        self.isDeleted = dto.jsonBody.isDeleted\n        self.status = dto.jsonBody.status\n    }\n}\n</code></pre></p> <p>\u547c\u53eb\u93c8\uff1aSendChatMessageUseCase \u2192 LiveChatRepository \u2192 LiveChatClient \u2192 ChatAPI</p>"},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#websocket-wssdomainchatwebsocketweb-chat","title":"WebSocket: wss://{domain}/chat/websocket/web-chat","text":"<p>\u6240\u5c6c UseCase\uff1aJoinChatroomUseCase\uff08\u8a02\u95b1\uff09\u3001LeaveChatroomUseCase\uff08\u53d6\u6d88\u8a02\u95b1\uff09</p> <p>Protocol\uff1aWebSocket</p> <p>URL\uff1a<code>wss://{domain}/chat/websocket/web-chat</code></p> <p>Connect Message\uff1a <pre><code>CONNECT\naccept-version:1,2,1,1,1.0\nheart-beat:4000,4000\n</code></pre></p> <p>Subscribe Message\uff1a - \u9023\u7dda\u5f8c\u767c\u9001 SUBSCRIBE \u8a0a\u606f\u8a02\u95b1\u7279\u5b9a\u804a\u5929\u5ba4 - Destination \u683c\u5f0f\uff1a<code>/topic/chat_room.{chatRoomId}</code></p> <p>Subscribe Message Format\uff1a <pre><code>SUBSCRIBE\nid:sub-1\ndestination:/topic/chat_room.{chatRoomId}\n</code></pre></p> <p>Example\uff1a <pre><code>SUBSCRIBE\nid:sub-1\ndestination:/topic/chat_room.25B0107060721room0000175\n</code></pre></p> <p>Receive Message Format\uff1a <pre><code>MESSAGE\nsubscription:sub-1\ndestination:/topic/chat_room.{chatRoomId}\nmessage-id:{message-id}\nredelivered:false\ncontent-type:application/json\ncontent-length:{length}\n\n{\"type\":\"MESSAGE\",\"data\":{...}}\n</code></pre></p> <p>Message Type\uff1a <pre><code>struct WebSocketMessageDTO: Codable {\n    let type: String  // \"MESSAGE\"\n    let data: MessageResponseDataDTO  // \u8207 POST /chat/match/message \u7684 Response \u683c\u5f0f\u76f8\u540c\n}\n</code></pre></p> <p>\u6ce8\u610f\uff1aWebSocket \u63a5\u6536\u5230\u7684\u8a0a\u606f\u683c\u5f0f\u8207 HTTP API \u7684 <code>MessageResponseDataDTO</code> \u76f8\u540c\uff0c\u4f46\u50c5\u5305\u542b TEXT \u985e\u578b\u7684\u6d88\u606f\u3002</p> <p>Unsubscribe\uff1a - \u95dc\u9589 WebSocket \u9023\u7dda\u5373\u53d6\u6d88\u8a02\u95b1</p> <p>Mapping\uff1a <pre><code>extension Message {\n    init(from dto: MessageDTO) {\n        // \u540c HTTP API \u7684 Mapping\n    }\n}\n</code></pre></p> <p>\u547c\u53eb\u93c8\uff1aJoinChatroomUseCase \u2192 LiveChatRepository \u2192 ChatWebSocketClient \u2192 ChatAPI</p>"},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#mapping","title":"Mapping \u539f\u5247","text":""},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#1-repository-mapping","title":"1. Repository \u8ca0\u8cac\u6240\u6709 Mapping","text":"<ul> <li>\u6240\u6709 DTO \u2192 Domain Model \u7684\u8f49\u63db\u90fd\u5728 Repository \u5c64\u5b8c\u6210</li> <li>UseCase \u548c Feature \u6c38\u9060\u4e0d\u63a5\u89f8 DTO</li> </ul>"},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#2-extension-mapping","title":"2. \u4f7f\u7528 Extension \u5be6\u4f5c Mapping","text":"<ul> <li>\u70ba\u6bcf\u500b Domain Model \u5efa\u7acb <code>init(from dto: DTO)</code> extension</li> <li>\u4fdd\u6301 Domain Model \u7684\u7d14\u6de8\u6027</li> </ul>"},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#3","title":"3. \u8655\u7406\u53ef\u9078\u503c\u548c\u9810\u8a2d\u503c","text":"<ul> <li>\u65e5\u671f\u5b57\u4e32\u8f49\u63db\u5931\u6557\u6642\u4f7f\u7528\u7576\u524d\u6642\u9593</li> <li>Optional \u6b04\u4f4d\u6b63\u78ba\u8655\u7406 nil \u60c5\u6cc1</li> </ul>"},{"location":"08_API%20Spec%20%26%20Mapping/01_api_spec/#4-mapping","title":"4. \u4fdd\u6301 Mapping \u908f\u8f2f\u7c21\u55ae","text":"<ul> <li>\u907f\u514d\u8907\u96dc\u7684\u696d\u52d9\u908f\u8f2f</li> <li>\u8907\u96dc\u8f49\u63db\u61c9\u5728 UseCase \u5c64\u8655\u7406</li> </ul>"},{"location":"09_Error%20Handling/","title":"Error Handling","text":"<p>\u672c\u76ee\u9304\u5305\u542b\u932f\u8aa4\u8655\u7406\u7b56\u7565\u548c\u932f\u8aa4\u985e\u578b\u5b9a\u7fa9\u3002</p>"},{"location":"09_Error%20Handling/#_1","title":"\u6587\u4ef6\u5217\u8868","text":"<ul> <li><code>01_error_handling.md</code> - \u932f\u8aa4\u8655\u7406\u7b56\u7565\u548c\u932f\u8aa4\u985e\u578b\u5b9a\u7fa9</li> </ul>"},{"location":"09_Error%20Handling/#_2","title":"\u8aaa\u660e","text":"<p>\u672c\u7ae0\u7bc0\u5b9a\u7fa9\u4e86\u6240\u6709\u932f\u8aa4\u8655\u7406\u7b56\u7565\uff0c\u5305\u62ec\uff1a</p> <ul> <li>\u932f\u8aa4\u985e\u578b\u5206\u985e</li> <li>\u932f\u8aa4\u8655\u7406\u7b56\u7565</li> <li>\u932f\u8aa4\u986f\u793a\u65b9\u5f0f</li> <li>\u932f\u8aa4\u6062\u5fa9\u6a5f\u5236</li> </ul>"},{"location":"09_Error%20Handling/01_error_handling/","title":"Error Handling","text":""},{"location":"09_Error%20Handling/01_error_handling/#_1","title":"\u932f\u8aa4\u985e\u578b\u5206\u985e","text":""},{"location":"09_Error%20Handling/01_error_handling/#1","title":"1. \u7db2\u8def\u932f\u8aa4","text":"\u932f\u8aa4\u985e\u578b HTTP Status \u8aaa\u660e \u8655\u7406\u65b9\u5f0f Network Error - \u7db2\u8def\u9023\u7dda\u5931\u6557 \u986f\u793a\u300c\u7db2\u8def\u9023\u7dda\u5931\u6557\uff0c\u8acb\u6aa2\u67e5\u7db2\u8def\u8a2d\u5b9a\u300dToast Timeout - \u8acb\u6c42\u8d85\u6642 \u986f\u793a\u300c\u8acb\u6c42\u8d85\u6642\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u300dToast\uff0c\u63d0\u4f9b\u91cd\u8a66\u6309\u9215 Server Error 500+ \u4f3a\u670d\u5668\u932f\u8aa4 \u986f\u793a\u300c\u4f3a\u670d\u5668\u932f\u8aa4\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u300dToast API Response Error - API \u56de\u61c9\u683c\u5f0f\u932f\u8aa4\uff08bizCode \u2260 10000\uff09 \u6839\u64da <code>bizCode</code> \u548c <code>message</code> \u986f\u793a\u5c0d\u61c9\u932f\u8aa4\u8a0a\u606f"},{"location":"09_Error%20Handling/01_error_handling/#2","title":"2. \u5ba2\u6236\u7aef\u932f\u8aa4","text":"\u932f\u8aa4\u985e\u578b HTTP Status \u8aaa\u660e \u8655\u7406\u65b9\u5f0f Bad Request 400 \u8acb\u6c42\u683c\u5f0f\u932f\u8aa4 \u986f\u793a\u300c\u8acb\u6c42\u683c\u5f0f\u932f\u8aa4\u300dToast\uff0c\u8a18\u9304\u932f\u8aa4\u65e5\u8a8c Unauthorized 401 \u672a\u6388\u6b0a \u8df3\u8f49\u5230\u767b\u5165\u9801\u9762 Forbidden 403 \u7121\u6b0a\u9650 \u986f\u793a\u300c\u7121\u6b0a\u9650\u57f7\u884c\u6b64\u64cd\u4f5c\u300dToast Not Found 404 \u8cc7\u6e90\u4e0d\u5b58\u5728 \u986f\u793a\u300c\u8cc7\u6e90\u4e0d\u5b58\u5728\u300dToast Conflict 409 \u8cc7\u6e90\u885d\u7a81 \u986f\u793a\u300c\u64cd\u4f5c\u885d\u7a81\uff0c\u8acb\u91cd\u65b0\u6574\u7406\u5f8c\u518d\u8a66\u300dToast"},{"location":"09_Error%20Handling/01_error_handling/#3","title":"3. \u696d\u52d9\u908f\u8f2f\u932f\u8aa4","text":"\u932f\u8aa4\u985e\u578b \u8aaa\u660e \u8655\u7406\u65b9\u5f0f Validation Error \u8f38\u5165\u9a57\u8b49\u5931\u6557 \u986f\u793a\u5177\u9ad4\u7684\u9a57\u8b49\u932f\u8aa4\u8a0a\u606f Business Rule Error \u696d\u52d9\u898f\u5247\u9055\u53cd \u986f\u793a\u696d\u52d9\u898f\u5247\u932f\u8aa4\u8a0a\u606f Rate Limit \u8acb\u6c42\u983b\u7387\u904e\u9ad8 \u986f\u793a\u300c\u64cd\u4f5c\u904e\u65bc\u983b\u7e41\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u300dToast API BizCode Error API \u56de\u61c9 bizCode \u2260 10000 \u6839\u64da <code>bizCode</code> \u548c <code>message</code> \u986f\u793a\u5c0d\u61c9\u932f\u8aa4\u8a0a\u606f\uff0c\u8a18\u9304\u932f\u8aa4\u65e5\u8a8c"},{"location":"09_Error%20Handling/01_error_handling/#4-websocket","title":"4. WebSocket \u932f\u8aa4","text":"\u932f\u8aa4\u985e\u578b \u8aaa\u660e \u8655\u7406\u65b9\u5f0f Connection Failed WebSocket \u9023\u7dda\u5931\u6557 \u81ea\u52d5\u91cd\u9023\uff0c\u986f\u793a\u300c\u9023\u7dda\u4e2d...\u300d\u72c0\u614b Connection Lost WebSocket \u9023\u7dda\u4e2d\u65b7 \u81ea\u52d5\u91cd\u9023\uff0c\u986f\u793a\u300c\u91cd\u65b0\u9023\u7dda\u4e2d...\u300d\u72c0\u614b Message Parse Error \u8a0a\u606f\u89e3\u6790\u5931\u6557 \u8a18\u9304\u932f\u8aa4\u65e5\u8a8c\uff0c\u5ffd\u7565\u8a72\u8a0a\u606f STOMP Protocol Error STOMP \u5354\u8b70\u932f\u8aa4\uff08CONNECT/SUBSCRIBE \u5931\u6557\uff09 \u8a18\u9304\u932f\u8aa4\u65e5\u8a8c\uff0c\u5617\u8a66\u91cd\u65b0\u5efa\u7acb\u9023\u7dda Subscription Failed \u8a02\u95b1\u804a\u5929\u5ba4\u5931\u6557 \u8a18\u9304\u932f\u8aa4\u65e5\u8a8c\uff0c\u91cd\u8a66\u8a02\u95b1"},{"location":"09_Error%20Handling/01_error_handling/#_2","title":"\u932f\u8aa4\u8655\u7406\u7b56\u7565","text":""},{"location":"09_Error%20Handling/01_error_handling/#repository","title":"Repository \u5c64","text":"<p>\u8077\u8cac\uff1a - \u6355\u7372 Client \u5c64\u7684\u932f\u8aa4 - \u5c07\u6280\u8853\u932f\u8aa4\u8f49\u63db\u70ba Domain \u932f\u8aa4 - \u8655\u7406 API \u56de\u61c9\u4e2d\u7684 <code>bizCode</code> \u932f\u8aa4\uff08\u7576 <code>bizCode \u2260 10000</code> \u6642\uff09 - \u4e0d\u8655\u7406\u696d\u52d9\u908f\u8f2f\u932f\u8aa4</p> <p>\u7bc4\u4f8b\uff1a <pre><code>func getComments(refId: String, mode: SortMode) async throws -&gt; [Comment] {\n    do {\n        let response = try await client.getComments(refId, mode: mode.value)\n\n        // \u6aa2\u67e5 API \u56de\u61c9\u7684 bizCode\n        guard response.bizCode == 10000 else {\n            throw DomainError.apiError(\n                message: response.message ?? \"API \u8acb\u6c42\u5931\u6557\",\n                bizCode: response.bizCode\n            )\n        }\n\n        return response.data.map { Comment(from: $0) }\n    } catch let error as NetworkError {\n        throw DomainError.networkError(error)\n    } catch let error as APIError {\n        throw DomainError.apiError(error)\n    } catch {\n        throw DomainError.unknown(error)\n    }\n}\n</code></pre></p>"},{"location":"09_Error%20Handling/01_error_handling/#usecase","title":"UseCase \u5c64","text":"<p>\u8077\u8cac\uff1a - \u8655\u7406\u696d\u52d9\u908f\u8f2f\u932f\u8aa4 - \u9a57\u8b49\u8f38\u5165\u53c3\u6578 - \u8655\u7406 Domain \u932f\u8aa4\u4e26\u8f49\u63db\u70ba UseCase \u932f\u8aa4</p> <p>\u7bc4\u4f8b\uff1a <pre><code>func execute(input: PublishCommentInput) async throws -&gt; PublishCommentOutput {\n    // \u9a57\u8b49\u8f38\u5165\n    guard !input.content.isEmpty else {\n        throw UseCaseError.validationError(\"\u7559\u8a00\u5167\u5bb9\u4e0d\u80fd\u70ba\u7a7a\")\n    }\n\n    guard input.content.count &lt;= 500 else {\n        throw UseCaseError.validationError(\"\u7559\u8a00\u5167\u5bb9\u4e0d\u80fd\u8d85\u904e 500 \u5b57\")\n    }\n\n    do {\n        let comment = try await repository.publishComment(\n            refId: input.refId,\n            content: input.content,\n            parentId: input.parentId\n        )\n        return PublishCommentOutput(comment: comment)\n    } catch let error as DomainError {\n        throw UseCaseError.fromDomainError(error)\n    }\n}\n</code></pre></p>"},{"location":"09_Error%20Handling/01_error_handling/#feature","title":"Feature \u5c64","text":"<p>\u8077\u8cac\uff1a - \u8655\u7406 UseCase \u932f\u8aa4 - \u66f4\u65b0 State \u4e2d\u7684\u932f\u8aa4\u72c0\u614b - \u89f8\u767c\u932f\u8aa4\u986f\u793a\u908f\u8f2f</p> <p>\u7bc4\u4f8b\uff1a <pre><code>case .publishCommentResponse(.failure(let error)):\n    state.error = error\n    state.isLoading = false\n    // UI \u6703\u6839\u64da state.error \u986f\u793a\u932f\u8aa4\u8a0a\u606f\n</code></pre></p>"},{"location":"09_Error%20Handling/01_error_handling/#view","title":"View \u5c64","text":"<p>\u8077\u8cac\uff1a - \u986f\u793a\u932f\u8aa4\u8a0a\u606f\uff08Toast\u3001Alert \u7b49\uff09 - \u63d0\u4f9b\u932f\u8aa4\u6062\u5fa9\u6a5f\u5236\uff08\u91cd\u8a66\u6309\u9215\u7b49\uff09</p>"},{"location":"09_Error%20Handling/01_error_handling/#_3","title":"\u932f\u8aa4\u986f\u793a\u65b9\u5f0f","text":""},{"location":"09_Error%20Handling/01_error_handling/#toast","title":"Toast \u8a0a\u606f","text":"<p>\u9069\u7528\u65bc\uff1a - \u7db2\u8def\u932f\u8aa4 - \u4f3a\u670d\u5668\u932f\u8aa4 - \u64cd\u4f5c\u5931\u6557</p> <p>\u986f\u793a\u6642\u9593\uff1a3 \u79d2</p>"},{"location":"09_Error%20Handling/01_error_handling/#alert","title":"Alert \u5c0d\u8a71\u6846","text":"<p>\u9069\u7528\u65bc\uff1a - \u9700\u8981\u7528\u6236\u78ba\u8a8d\u7684\u932f\u8aa4 - \u56b4\u91cd\u932f\u8aa4\uff08\u5982\u8cc7\u6599\u907a\u5931\u98a8\u96aa\uff09</p>"},{"location":"09_Error%20Handling/01_error_handling/#inline","title":"Inline \u932f\u8aa4\u8a0a\u606f","text":"<p>\u9069\u7528\u65bc\uff1a - \u8868\u55ae\u9a57\u8b49\u932f\u8aa4 - \u8f38\u5165\u932f\u8aa4</p>"},{"location":"09_Error%20Handling/01_error_handling/#_4","title":"\u932f\u8aa4\u6062\u5fa9\u6a5f\u5236","text":""},{"location":"09_Error%20Handling/01_error_handling/#_5","title":"\u81ea\u52d5\u91cd\u8a66","text":"<p>\u9069\u7528\u65bc\uff1a - \u7db2\u8def\u932f\u8aa4\uff08\u6700\u591a\u91cd\u8a66 3 \u6b21\uff09 - WebSocket \u9023\u7dda\u4e2d\u65b7\uff08\u81ea\u52d5\u91cd\u9023\uff09</p>"},{"location":"09_Error%20Handling/01_error_handling/#_6","title":"\u624b\u52d5\u91cd\u8a66","text":"<p>\u9069\u7528\u65bc\uff1a - \u4f3a\u670d\u5668\u932f\u8aa4 - \u696d\u52d9\u908f\u8f2f\u932f\u8aa4</p> <p>\u63d0\u4f9b\u300c\u91cd\u8a66\u300d\u6309\u9215\uff0c\u7528\u6236\u53ef\u624b\u52d5\u89f8\u767c\u91cd\u8a66\u3002</p>"},{"location":"09_Error%20Handling/01_error_handling/#_7","title":"\u964d\u7d1a\u8655\u7406","text":"<p>\u9069\u7528\u65bc\uff1a - \u975e\u95dc\u9375\u529f\u80fd\u5931\u6557 - \u53ef\u9078\u8cc7\u6599\u8f09\u5165\u5931\u6557</p> <p>\u4f8b\u5982\uff1a\u500b\u4eba\u8cc7\u8a0a\u8f09\u5165\u5931\u6557\u6642\uff0c\u4e0d\u5f71\u97ff\u4e3b\u8981\u529f\u80fd\u3002</p>"},{"location":"09_Error%20Handling/01_error_handling/#_8","title":"\u932f\u8aa4\u65e5\u8a8c","text":""},{"location":"09_Error%20Handling/01_error_handling/#_9","title":"\u8a18\u9304\u6642\u6a5f","text":"<ul> <li>\u6240\u6709\u932f\u8aa4\u90fd\u61c9\u8a18\u9304\u65e5\u8a8c</li> <li>\u5305\u542b\u932f\u8aa4\u985e\u578b\u3001\u932f\u8aa4\u8a0a\u606f\u3001\u5806\u758a\u8ffd\u8e64</li> <li>\u5305\u542b\u7528\u6236\u64cd\u4f5c\u4e0a\u4e0b\u6587</li> </ul>"},{"location":"09_Error%20Handling/01_error_handling/#_10","title":"\u65e5\u8a8c\u7d1a\u5225","text":"<ul> <li>Error\uff1a\u7cfb\u7d71\u932f\u8aa4\u3001\u7db2\u8def\u932f\u8aa4</li> <li>Warning\uff1a\u696d\u52d9\u908f\u8f2f\u932f\u8aa4\u3001\u9a57\u8b49\u932f\u8aa4</li> <li>Info\uff1a\u4e00\u822c\u8cc7\u8a0a\uff08\u53ef\u9078\uff09</li> </ul>"},{"location":"09_Error%20Handling/01_error_handling/#_11","title":"\u7279\u6b8a\u932f\u8aa4\u8655\u7406","text":""},{"location":"09_Error%20Handling/01_error_handling/#_12","title":"\u767b\u5165\u72c0\u614b\u6aa2\u67e5","text":"<p>\u7576 API \u56de\u50b3 401 Unauthorized \u6642\uff1a 1. \u6e05\u9664\u672c\u5730\u767b\u5165\u72c0\u614b 2. \u8df3\u8f49\u5230\u767b\u5165\u9801\u9762 3. \u8a18\u9304\u767b\u5165\u904e\u671f\u4e8b\u4ef6</p>"},{"location":"09_Error%20Handling/01_error_handling/#websocket","title":"WebSocket \u91cd\u9023","text":"<p>\u7576 WebSocket \u9023\u7dda\u4e2d\u65b7\u6642\uff1a 1. \u81ea\u52d5\u91cd\u9023\uff08\u6307\u6578\u9000\u907f\u7b56\u7565\uff09 2. \u986f\u793a\u300c\u91cd\u65b0\u9023\u7dda\u4e2d...\u300d\u72c0\u614b 3. \u91cd\u9023\u6210\u529f\u5f8c\u91cd\u65b0\u767c\u9001 CONNECT \u548c SUBSCRIBE \u8a0a\u606f 4. \u91cd\u9023\u6210\u529f\u5f8c\u540c\u6b65 blocked user \u6e05\u55ae</p>"},{"location":"09_Error%20Handling/01_error_handling/#_13","title":"\u9ed1\u540d\u55ae\u6e05\u7406\u932f\u8aa4","text":"<p>\u7576\u9ed1\u540d\u55ae\u6e05\u7406\u5931\u6557\u6642\uff1a 1. \u8a18\u9304\u932f\u8aa4\u65e5\u8a8c 2. \u4e0d\u5f71\u97ff\u4e3b\u8981\u529f\u80fd 3. \u4e0b\u6b21\u95dc\u9589\u804a\u5929\u5ba4\u6642\u518d\u6b21\u5617\u8a66\u6e05\u7406</p>"},{"location":"10_Test%20Scenarios/","title":"Test Scenarios","text":"<p>\u672c\u76ee\u9304\u5305\u542b\u6240\u6709 UseCase \u7684\u6e2c\u8a66\u5834\u666f\u5b9a\u7fa9\u3002</p>"},{"location":"10_Test%20Scenarios/#_1","title":"\u6587\u4ef6\u5217\u8868","text":"<ul> <li><code>01_test_scenarios.md</code> - \u6240\u6709 UseCase \u7684\u6e2c\u8a66\u5834\u666f\u5b9a\u7fa9</li> </ul>"},{"location":"10_Test%20Scenarios/#_2","title":"\u8aaa\u660e","text":"<p>\u672c\u7ae0\u7bc0\u5b9a\u7fa9\u4e86\u6240\u6709 UseCase \u7684\u6e2c\u8a66\u5834\u666f\uff0c\u5305\u62ec\uff1a</p> <ul> <li>Basic Flow\uff08\u6b63\u5e38\u6210\u529f\u6d41\u7a0b\uff09</li> <li>Branch Flow\uff08\u5206\u652f\u884c\u70ba\uff09</li> <li>Optional Flow\uff08\u53ef\u9078\u6d41\u7a0b\uff09</li> <li>Loop Flow\uff08\u5faa\u74b0\u6d41\u7a0b\uff09</li> <li>Error Flow\uff08\u932f\u8aa4\u6d41\u7a0b\uff09</li> <li>Recover Flow\uff08\u6062\u5fa9\u6d41\u7a0b\uff09</li> <li>Edge Case\uff08\u908a\u754c\u60c5\u6cc1\uff09</li> </ul> <p>\u6e2c\u8a66\u5834\u666f\u7531\u5e8f\u5217\u5716\u4e2d\u7684 alt/opt/loop \u81ea\u52d5\u63a8\u5c0e\u3002</p>"},{"location":"10_Test%20Scenarios/01_test_scenarios/","title":"Test Scenarios","text":""},{"location":"10_Test%20Scenarios/01_test_scenarios/#prematchcomment-usecases","title":"PrematchComment UseCases","text":""},{"location":"10_Test%20Scenarios/01_test_scenarios/#reloadcommentlistusecase","title":"ReloadCommentListUseCase","text":""},{"location":"10_Test%20Scenarios/01_test_scenarios/#basic-flow","title":"Basic Flow","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6b63\u5e38\u8f09\u5165\u7559\u8a00\u5217\u8868</li> <li>\u524d\u7f6e\u689d\u4ef6\uff1a\u7528\u6236\u5df2\u9032\u5165 Prematch Comment Page</li> <li>\u8f38\u5165\uff1a<code>refId: \"match123\"</code>, <code>triggerType: .init</code>, <code>mode: .top</code>, <code>cursor: nil</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u6210\u529f\u8f09\u5165\u7559\u8a00\u5217\u8868\uff0c\u56de\u50b3 <code>comments</code> \u548c <code>pagingInfo</code></li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#branch-flow-top-mode","title":"Branch Flow - Top Mode","text":"<ul> <li>\u63cf\u8ff0\uff1a\u8f09\u5165 Top \u6a21\u5f0f\u7684\u7559\u8a00\u5217\u8868</li> <li>\u8f38\u5165\uff1a<code>mode: .top</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u8f09\u5165\u6309 Like \u6578\u6392\u5e8f\u7684\u7559\u8a00\u5217\u8868</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#branch-flow-newest-mode","title":"Branch Flow - Newest Mode","text":"<ul> <li>\u63cf\u8ff0\uff1a\u8f09\u5165 Newest \u6a21\u5f0f\u7684\u7559\u8a00\u5217\u8868</li> <li>\u8f38\u5165\uff1a<code>mode: .newest</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u8f09\u5165\u6309\u6642\u9593\u6392\u5e8f\u7684\u7559\u8a00\u5217\u8868</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#branch-flow-trigger-type","title":"Branch Flow - Trigger Type","text":"<ul> <li>\u63cf\u8ff0\uff1a\u4e0d\u540c\u89f8\u767c\u65b9\u5f0f\u7684\u8f09\u5165</li> <li>\u8f38\u5165\uff1a<code>triggerType: .init</code> / <code>.refresh</code> / <code>.switch</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u6839\u64da triggerType \u57f7\u884c\u5c0d\u61c9\u7684\u8f09\u5165\u908f\u8f2f</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#loop-flow-pagination","title":"Loop Flow - Pagination","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5206\u9801\u8f09\u5165\u66f4\u591a\u7559\u8a00</li> <li>\u8f38\u5165\uff1a<code>cursor: Cursor(value: \"next123\")</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u8f09\u5165\u4e0b\u4e00\u9801\u7559\u8a00\uff0c\u56de\u50b3\u65b0\u7684 <code>cursor</code></li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#error-flow-network-error","title":"Error Flow - Network Error","text":"<ul> <li>\u63cf\u8ff0\uff1a\u7db2\u8def\u9023\u7dda\u5931\u6557</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u62cb\u51fa <code>NetworkError</code>\uff0c\u986f\u793a\u932f\u8aa4 Toast</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#error-flow-server-error","title":"Error Flow - Server Error","text":"<ul> <li>\u63cf\u8ff0\uff1a\u4f3a\u670d\u5668\u56de\u50b3 500 \u932f\u8aa4</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u62cb\u51fa <code>APIError.serverError</code>\uff0c\u986f\u793a\u932f\u8aa4 Toast</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#edge-case-empty-list","title":"Edge Case - Empty List","text":"<ul> <li>\u63cf\u8ff0\uff1a\u7559\u8a00\u5217\u8868\u70ba\u7a7a</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u56de\u50b3\u7a7a\u9663\u5217 <code>[]</code>\uff0c\u986f\u793a\u7a7a\u72c0\u614b UI</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#edge-case-invalid-cursor","title":"Edge Case - Invalid Cursor","text":"<ul> <li>\u63cf\u8ff0\uff1a\u7121\u6548\u7684 cursor</li> <li>\u8f38\u5165\uff1a<code>cursor: Cursor(value: \"invalid\")</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u56de\u50b3\u7a7a\u9663\u5217\u6216\u932f\u8aa4</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#publishcommentusecase","title":"PublishCommentUseCase","text":""},{"location":"10_Test%20Scenarios/01_test_scenarios/#basic-flow-publish-comment","title":"Basic Flow - Publish Comment","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6210\u529f\u767c\u9001\u7559\u8a00</li> <li>\u524d\u7f6e\u689d\u4ef6\uff1a\u7528\u6236\u5df2\u767b\u5165\u4e14\u6709 nickname</li> <li>\u8f38\u5165\uff1a<code>refId: \"match123\"</code>, <code>content: \"Hello\"</code>, <code>parentId: nil</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u6210\u529f\u767c\u9001\u7559\u8a00\uff0c\u56de\u50b3\u65b0\u7684 <code>Comment</code></li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#branch-flow-publish-reply","title":"Branch Flow - Publish Reply","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6210\u529f\u767c\u9001\u56de\u8986</li> <li>\u8f38\u5165\uff1a<code>parentId: \"comment123\"</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u6210\u529f\u767c\u9001\u56de\u8986\uff0c\u56de\u50b3\u65b0\u7684 <code>Comment</code>\uff08parentId \u6709\u503c\uff09</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#optional-flow-no-nickname","title":"Optional Flow - No Nickname","text":"<ul> <li>\u63cf\u8ff0\uff1a\u7528\u6236\u6c92\u6709 nickname\uff0c\u9700\u8981\u5efa\u7acb</li> <li>\u524d\u7f6e\u689d\u4ef6\uff1a\u7528\u6236\u5df2\u767b\u5165\u4f46\u7121 nickname</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u8abf\u7528 FComSharedFlow Package \u5efa\u7acb nickname\uff0c\u5efa\u7acb\u6210\u529f\u5f8c\u767c\u9001\u7559\u8a00</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#optional-flow-not-logged-in","title":"Optional Flow - Not Logged In","text":"<ul> <li>\u63cf\u8ff0\uff1a\u7528\u6236\u672a\u767b\u5165</li> <li>\u524d\u7f6e\u689d\u4ef6\uff1a\u7528\u6236\u672a\u767b\u5165</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u8df3\u8f49\u5230\u767b\u5165\u9801\u9762\uff0c\u767b\u5165\u6210\u529f\u5f8c\u56de\u5230\u539f\u9801\u9762</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#error-flow-validation-error","title":"Error Flow - Validation Error","text":"<ul> <li>\u63cf\u8ff0\uff1a\u7559\u8a00\u5167\u5bb9\u70ba\u7a7a</li> <li>\u8f38\u5165\uff1a<code>content: \"\"</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u62cb\u51fa <code>ValidationError</code>\uff0c\u986f\u793a\u300c\u7559\u8a00\u5167\u5bb9\u4e0d\u80fd\u70ba\u7a7a\u300d</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#error-flow-content-too-long","title":"Error Flow - Content Too Long","text":"<ul> <li>\u63cf\u8ff0\uff1a\u7559\u8a00\u5167\u5bb9\u8d85\u904e\u9577\u5ea6\u9650\u5236</li> <li>\u8f38\u5165\uff1a<code>content: String(repeating: \"a\", count: 501)</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u62cb\u51fa <code>ValidationError</code>\uff0c\u986f\u793a\u300c\u7559\u8a00\u5167\u5bb9\u4e0d\u80fd\u8d85\u904e 500 \u5b57\u300d</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#error-flow-api-error","title":"Error Flow - API Error","text":"<ul> <li>\u63cf\u8ff0\uff1aAPI \u56de\u50b3\u932f\u8aa4</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u62cb\u51fa <code>APIError</code>\uff0c\u986f\u793a\u932f\u8aa4 Toast</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#togglelikeusecase","title":"ToggleLikeUseCase","text":""},{"location":"10_Test%20Scenarios/01_test_scenarios/#basic-flow-like-comment","title":"Basic Flow - Like Comment","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6210\u529f\u9ede\u8b9a\u7559\u8a00</li> <li>\u524d\u7f6e\u689d\u4ef6\uff1a\u7528\u6236\u5df2\u767b\u5165</li> <li>\u8f38\u5165\uff1a<code>commentId: \"comment123\"</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u6210\u529f\u9ede\u8b9a\uff0c\u56de\u50b3\u66f4\u65b0\u5f8c\u7684 <code>Comment</code>\uff08likeCount +1\uff09</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#basic-flow-unlike-comment","title":"Basic Flow - Unlike Comment","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6210\u529f\u53d6\u6d88\u9ede\u8b9a</li> <li>\u524d\u7f6e\u689d\u4ef6\uff1a\u7528\u6236\u5df2\u767b\u5165\u4e14\u5df2\u9ede\u8b9a</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u6210\u529f\u53d6\u6d88\u9ede\u8b9a\uff0c\u56de\u50b3\u66f4\u65b0\u5f8c\u7684 <code>Comment</code>\uff08likeCount -1\uff09</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#optional-flow-not-logged-in_1","title":"Optional Flow - Not Logged In","text":"<ul> <li>\u63cf\u8ff0\uff1a\u7528\u6236\u672a\u767b\u5165</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u8df3\u8f49\u5230\u767b\u5165\u9801\u9762</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#error-flow-api-error_1","title":"Error Flow - API Error","text":"<ul> <li>\u63cf\u8ff0\uff1aAPI \u56de\u50b3\u932f\u8aa4</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u62cb\u51fa <code>APIError</code>\uff0c\u986f\u793a\u932f\u8aa4 Toast</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#edge-case-optimistic-ui","title":"Edge Case - Optimistic UI","text":"<ul> <li>\u63cf\u8ff0\uff1aOptimistic UI \u66f4\u65b0</li> <li>\u9810\u671f\u7d50\u679c\uff1aUI \u7acb\u5373\u66f4\u65b0 Like \u6578\uff0cAPI \u8acb\u6c42\u5728\u80cc\u666f\u57f7\u884c</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#loadrepliesusecase","title":"LoadRepliesUseCase","text":""},{"location":"10_Test%20Scenarios/01_test_scenarios/#basic-flow_1","title":"Basic Flow","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6210\u529f\u8f09\u5165\u56de\u8986\u5217\u8868</li> <li>\u8f38\u5165\uff1a<code>commentId: \"comment123\"</code>, <code>cursor: nil</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u6210\u529f\u8f09\u5165\u56de\u8986\u5217\u8868\uff08\u6700\u591a 5 \u7b46\uff09\uff0c\u56de\u50b3 <code>replies</code> \u548c <code>pagingInfo</code></li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#loop-flow-load-more-replies","title":"Loop Flow - Load More Replies","text":"<ul> <li>\u63cf\u8ff0\uff1a\u8f09\u5165\u66f4\u591a\u56de\u8986</li> <li>\u8f38\u5165\uff1a<code>cursor: Cursor(value: \"next123\")</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u8f09\u5165\u4e0b\u4e00\u6279\u56de\u8986\uff08\u6700\u591a 5 \u7b46\uff09</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#edge-case-no-more-replies","title":"Edge Case - No More Replies","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6c92\u6709\u66f4\u591a\u56de\u8986</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u56de\u50b3\u7a7a\u9663\u5217\uff0c<code>pagingInfo.hasMore = false</code></li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#edge-case-less-than-5-replies","title":"Edge Case - Less Than 5 Replies","text":"<ul> <li>\u63cf\u8ff0\uff1a\u56de\u8986\u6578\u91cf\u5c11\u65bc 5 \u7b46</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u56de\u50b3\u6240\u6709\u56de\u8986\uff0c<code>pagingInfo.hasMore = false</code></li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#navigatetoprofileusecase","title":"NavigateToProfileUseCase","text":""},{"location":"10_Test%20Scenarios/01_test_scenarios/#basic-flow_2","title":"Basic Flow","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6210\u529f\u8df3\u8f49\u5230\u500b\u4eba\u4e3b\u9801</li> <li>\u8f38\u5165\uff1a<code>userId: \"user123\"</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u6210\u529f\u8df3\u8f49\u5230\u8a72\u7528\u6236\u7684\u500b\u4eba\u4e3b\u9801</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#error-flow-navigation-failed","title":"Error Flow - Navigation Failed","text":"<ul> <li>\u63cf\u8ff0\uff1a\u8def\u7531\u8df3\u8f49\u5931\u6557</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u8a18\u9304\u932f\u8aa4\u65e5\u8a8c\uff0c\u4e0d\u5f71\u97ff\u4e3b\u8981\u529f\u80fd</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#livechat-usecases","title":"LiveChat UseCases","text":""},{"location":"10_Test%20Scenarios/01_test_scenarios/#sendchatmessageusecase","title":"SendChatMessageUseCase","text":""},{"location":"10_Test%20Scenarios/01_test_scenarios/#basic-flow-with-nickname","title":"Basic Flow - With Nickname","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6210\u529f\u767c\u9001\u804a\u5929\u8a0a\u606f\uff08\u6709 nickname\uff09</li> <li>\u524d\u7f6e\u689d\u4ef6\uff1a\u7528\u6236\u5df2\u767b\u5165\u4e14\u6709 nickname</li> <li>\u8f38\u5165\uff1a<code>chatroomId: \"room123\"</code>, <code>content: \"Hello\"</code>, <code>messageType: .text</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u6210\u529f\u767c\u9001\u8a0a\u606f\uff0c\u56de\u50b3\u65b0\u7684 <code>Message</code></li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#branch-flow-without-nickname","title":"Branch Flow - Without Nickname","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6210\u529f\u767c\u9001\u804a\u5929\u8a0a\u606f\uff08\u7121 nickname\uff0c\u9700\u5efa\u7acb\uff09</li> <li>\u524d\u7f6e\u689d\u4ef6\uff1a\u7528\u6236\u5df2\u767b\u5165\u4f46\u7121 nickname</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u8abf\u7528 FComSharedFlow Package \u5efa\u7acb nickname\uff0c\u5efa\u7acb\u6210\u529f\u5f8c\u767c\u9001\u8a0a\u606f</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#optional-flow-not-logged-in_2","title":"Optional Flow - Not Logged In","text":"<ul> <li>\u63cf\u8ff0\uff1a\u7528\u6236\u672a\u767b\u5165</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u8df3\u8f49\u5230\u767b\u5165\u9801\u9762</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#error-flow-validation-error_1","title":"Error Flow - Validation Error","text":"<ul> <li>\u63cf\u8ff0\uff1a\u8a0a\u606f\u5167\u5bb9\u70ba\u7a7a</li> <li>\u8f38\u5165\uff1a<code>content: \"\"</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u62cb\u51fa <code>ValidationError</code></li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#error-flow-api-error_2","title":"Error Flow - API Error","text":"<ul> <li>\u63cf\u8ff0\uff1aAPI \u56de\u50b3\u932f\u8aa4</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u62cb\u51fa <code>APIError</code>\uff0c\u986f\u793a\u932f\u8aa4 Toast</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#joinchatroomusecase","title":"JoinChatroomUseCase","text":""},{"location":"10_Test%20Scenarios/01_test_scenarios/#basic-flow_3","title":"Basic Flow","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6210\u529f\u52a0\u5165\u804a\u5929\u5ba4\u4e26\u8f09\u5165\u6b77\u53f2\u8a0a\u606f</li> <li>\u8f38\u5165\uff1a<code>refId: \"match123\"</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u6210\u529f\u52a0\u5165\u804a\u5929\u5ba4\uff0c\u56de\u50b3 <code>chatroomInfo</code> \u548c <code>messages</code></li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#branch-flow-merge-messages","title":"Branch Flow - Merge Messages","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5408\u4f75\u6b77\u53f2\u8a0a\u606f\u8207 WebSocket \u8a0a\u606f</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u6b77\u53f2\u8a0a\u606f\u8207 WebSocket \u8a0a\u606f\u5408\u4f75\uff0c\u4f9d <code>messageNo</code> \u53bb\u91cd</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#error-flow-get-chatroom-info-failed","title":"Error Flow - Get Chatroom Info Failed","text":"<ul> <li>\u63cf\u8ff0\uff1a\u53d6\u5f97\u804a\u5929\u5ba4\u8cc7\u8a0a\u5931\u6557</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u62cb\u51fa\u932f\u8aa4\uff0c\u96b1\u85cf Live Chat Bar</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#error-flow-get-chatroom-info-failed_1","title":"Error Flow - Get Chatroom Info Failed","text":"<ul> <li>\u63cf\u8ff0\uff1a\u53d6\u5f97\u804a\u5929\u5ba4\u8cc7\u8a0a\u5931\u6557\uff08\u5728\u958b\u555f\u804a\u5929\u8996\u7a97\u524d\uff09</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u62cb\u51fa <code>APIError</code>\uff0c\u96b1\u85cf Live Chat Bar</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#edge-case-no-historical-messages","title":"Edge Case - No Historical Messages","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6c92\u6709\u6b77\u53f2\u8a0a\u606f</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u56de\u50b3\u7a7a\u9663\u5217 <code>[]</code></li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#edge-case-websocket-not-connected","title":"Edge Case - WebSocket Not Connected","text":"<ul> <li>\u63cf\u8ff0\uff1aWebSocket \u672a\u9023\u7dda</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u5148\u5efa\u7acb WebSocket \u9023\u7dda\uff0c\u518d\u8f09\u5165\u6b77\u53f2\u8a0a\u606f</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#leavechatroomusecase","title":"LeaveChatroomUseCase","text":""},{"location":"10_Test%20Scenarios/01_test_scenarios/#basic-flow_4","title":"Basic Flow","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6210\u529f\u96e2\u958b\u804a\u5929\u5ba4</li> <li>\u8f38\u5165\uff1a<code>chatroomId: \"room123\"</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u6210\u529f\u96e2\u958b\u804a\u5929\u5ba4\uff0c\u6e05\u9664\u5feb\u53d6\u7684\u8a0a\u606f</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#branch-flow-clean-blacklist","title":"Branch Flow - Clean Blacklist","text":"<ul> <li>\u63cf\u8ff0\uff1a\u57f7\u884c\u9ed1\u540d\u55ae\u6e05\u7406</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u6aa2\u67e5\u9ed1\u540d\u55ae\u7d00\u9304\uff0c\u8d85\u904e 4 \u5c0f\u6642\u7684\u7d00\u9304\u81ea\u52d5\u79fb\u9664</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#edge-case-blacklist-cleanup","title":"Edge Case - Blacklist Cleanup","text":"<ul> <li>\u63cf\u8ff0\uff1a\u9ed1\u540d\u55ae\u6e05\u7406\u908f\u8f2f</li> <li>\u6e2c\u8a66\u5834\u666f\uff1a</li> <li>\u9ed1\u540d\u55ae\u7d00\u9304\u672a\u8d85\u904e 4 \u5c0f\u6642\uff1a\u4fdd\u7559</li> <li>\u9ed1\u540d\u55ae\u7d00\u9304\u8d85\u904e 4 \u5c0f\u6642\uff1a\u79fb\u9664</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#error-flow-leave-failed","title":"Error Flow - Leave Failed","text":"<ul> <li>\u63cf\u8ff0\uff1a\u96e2\u958b\u804a\u5929\u5ba4\u5931\u6557</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u8a18\u9304\u932f\u8aa4\u65e5\u8a8c\uff0c\u4ecd\u6e05\u9664\u672c\u5730\u5feb\u53d6</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#blockuserusecase","title":"BlockUserUseCase","text":""},{"location":"10_Test%20Scenarios/01_test_scenarios/#basic-flow_5","title":"Basic Flow","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6210\u529f\u5c01\u9396\u7528\u6236</li> <li>\u8f38\u5165\uff1a<code>userId: \"user123\"</code>, <code>eventId: \"event123\"</code>, <code>timestamp: Date()</code></li> <li>\u9810\u671f\u7d50\u679c\uff1a\u6210\u529f\u5c07\u7528\u6236\u52a0\u5165\u9ed1\u540d\u55ae DB</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#branch-flow-websocket-reconnect","title":"Branch Flow - WebSocket Reconnect","text":"<ul> <li>\u63cf\u8ff0\uff1aWebSocket \u91cd\u9023\u5f8c\u540c\u6b65 blocked user \u6e05\u55ae</li> <li>\u9810\u671f\u7d50\u679c\uff1aWebSocket \u91cd\u9023\u6642\u540c\u6b65\u9ed1\u540d\u55ae\u5230\u4f3a\u670d\u5668</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#error-flow-block-failed","title":"Error Flow - Block Failed","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5c01\u9396\u7528\u6236\u5931\u6557</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u62cb\u51fa\u932f\u8aa4\uff0c\u986f\u793a\u932f\u8aa4 Toast</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#websocket","title":"WebSocket \u6e2c\u8a66\u5834\u666f","text":""},{"location":"10_Test%20Scenarios/01_test_scenarios/#websocket-connection","title":"WebSocket Connection","text":""},{"location":"10_Test%20Scenarios/01_test_scenarios/#basic-flow-connect","title":"Basic Flow - Connect","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6210\u529f\u5efa\u7acb WebSocket \u9023\u7dda</li> <li>\u9810\u671f\u7d50\u679c\uff1aWebSocket \u9023\u7dda\u6210\u529f\uff0c<code>isWebSocketConnected = true</code></li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#error-flow-connection-failed","title":"Error Flow - Connection Failed","text":"<ul> <li>\u63cf\u8ff0\uff1aWebSocket \u9023\u7dda\u5931\u6557</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u81ea\u52d5\u91cd\u9023\uff08\u6307\u6578\u9000\u907f\u7b56\u7565\uff09</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#recover-flow-reconnect","title":"Recover Flow - Reconnect","text":"<ul> <li>\u63cf\u8ff0\uff1aWebSocket \u9023\u7dda\u4e2d\u65b7\u5f8c\u91cd\u9023</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u81ea\u52d5\u91cd\u9023\u6210\u529f\uff0c\u540c\u6b65 blocked user \u6e05\u55ae</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#edge-case-connection-lost","title":"Edge Case - Connection Lost","text":"<ul> <li>\u63cf\u8ff0\uff1aWebSocket \u9023\u7dda\u4e2d\u65b7</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u986f\u793a\u300c\u91cd\u65b0\u9023\u7dda\u4e2d...\u300d\u72c0\u614b\uff0c\u81ea\u52d5\u91cd\u9023</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#websocket-message","title":"WebSocket Message","text":""},{"location":"10_Test%20Scenarios/01_test_scenarios/#basic-flow-receive-message","title":"Basic Flow - Receive Message","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6210\u529f\u63a5\u6536 WebSocket \u8a0a\u606f</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u89e3\u6790\u8a0a\u606f\u70ba <code>Message</code>\uff0c\u66f4\u65b0\u5230 State</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#error-flow-message-parse-error","title":"Error Flow - Message Parse Error","text":"<ul> <li>\u63cf\u8ff0\uff1a\u8a0a\u606f\u89e3\u6790\u5931\u6557</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u8a18\u9304\u932f\u8aa4\u65e5\u8a8c\uff0c\u5ffd\u7565\u8a72\u8a0a\u606f</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#edge-case-duplicate-message","title":"Edge Case - Duplicate Message","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6536\u5230\u91cd\u8907\u8a0a\u606f\uff08\u76f8\u540c\u7684 messageNo\uff09</li> <li>\u9810\u671f\u7d50\u679c\uff1a\u53bb\u91cd\uff0c\u4e0d\u91cd\u8907\u986f\u793a</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#_1","title":"\u6e2c\u8a66\u8986\u84cb\u7387\u8981\u6c42","text":""},{"location":"10_Test%20Scenarios/01_test_scenarios/#usecase","title":"UseCase \u6e2c\u8a66\u8986\u84cb\u7387","text":"<ul> <li>\u57fa\u672c\u8981\u6c42\uff1a\u2265 80%</li> <li>\u95dc\u9375 UseCase\uff1a\u2265 90%</li> <li>PublishCommentUseCase</li> <li>SendChatMessageUseCase</li> <li>JoinChatroomUseCase</li> </ul>"},{"location":"10_Test%20Scenarios/01_test_scenarios/#_2","title":"\u6e2c\u8a66\u985e\u578b\u8981\u6c42","text":"<p>\u6bcf\u500b UseCase \u5fc5\u9808\u5305\u542b\uff1a - \u2705 Basic Flow \u6e2c\u8a66 - \u2705 Error Flow \u6e2c\u8a66 - \u2705 Edge Case \u6e2c\u8a66\uff08\u81f3\u5c11 1 \u500b\uff09</p> <p>\u95dc\u9375 UseCase \u9084\u9700\u5305\u542b\uff1a - \u2705 Branch Flow \u6e2c\u8a66 - \u2705 Optional Flow \u6e2c\u8a66 - \u2705 Recover Flow \u6e2c\u8a66</p>"},{"location":"11_Risks%20%26%20Questions/","title":"Risks &amp; Questions","text":"<p>\u672c\u76ee\u9304\u5305\u542b\u5c08\u6848\u98a8\u96aa\u548c\u5f85\u78ba\u8a8d\u554f\u984c\u3002</p>"},{"location":"11_Risks%20%26%20Questions/#_1","title":"\u6587\u4ef6\u5217\u8868","text":"<ul> <li><code>01_risks_questions.md</code> - \u5c08\u6848\u98a8\u96aa\u548c\u5f85\u78ba\u8a8d\u554f\u984c\u6e05\u55ae</li> </ul>"},{"location":"11_Risks%20%26%20Questions/#_2","title":"\u8aaa\u660e","text":"<p>\u672c\u7ae0\u7bc0\u8a18\u9304\u4e86\uff1a</p> <ul> <li>\u6280\u8853\u98a8\u96aa</li> <li>\u696d\u52d9\u98a8\u96aa</li> <li>\u5f85\u78ba\u8a8d\u554f\u984c</li> <li>\u4f9d\u8cf4\u98a8\u96aa</li> <li>\u6642\u7a0b\u98a8\u96aa</li> </ul>"},{"location":"11_Risks%20%26%20Questions/01_risks_questions/","title":"Risks &amp; Questions","text":""},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#_1","title":"\u6280\u8853\u98a8\u96aa","text":""},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#1-websocket","title":"1. WebSocket \u9023\u7dda\u7a69\u5b9a\u6027","text":"<p>\u98a8\u96aa\u7b49\u7d1a\uff1a\u4e2d</p> <p>\u63cf\u8ff0\uff1a - WebSocket \u9023\u7dda\u53ef\u80fd\u56e0\u7db2\u8def\u4e0d\u7a69\u5b9a\u800c\u4e2d\u65b7 - \u9700\u8981\u5be6\u4f5c\u5b8c\u5584\u7684\u91cd\u9023\u6a5f\u5236</p> <p>\u5f71\u97ff\uff1a - \u7528\u6236\u53ef\u80fd\u7121\u6cd5\u5373\u6642\u63a5\u6536\u804a\u5929\u8a0a\u606f - \u5f71\u97ff\u7528\u6236\u9ad4\u9a57</p> <p>\u7de9\u89e3\u63aa\u65bd\uff1a - \u5be6\u4f5c\u6307\u6578\u9000\u907f\u91cd\u9023\u7b56\u7565 - \u5be6\u4f5c\u5fc3\u8df3\u6a5f\u5236\u6aa2\u6e2c\u9023\u7dda\u72c0\u614b - \u63d0\u4f9b\u96e2\u7dda\u72c0\u614b\u63d0\u793a</p>"},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#2","title":"2. \u9ed1\u540d\u55ae\u6e05\u7406\u908f\u8f2f","text":"<p>\u98a8\u96aa\u7b49\u7d1a\uff1a\u4f4e</p> <p>\u63cf\u8ff0\uff1a - \u9ed1\u540d\u55ae 4 \u5c0f\u6642\u81ea\u52d5\u6e05\u7406\u908f\u8f2f\u9700\u8981\u5728\u7528\u6236\u95dc\u9589\u804a\u5929\u5ba4\u6642\u57f7\u884c - \u5982\u679c\u7528\u6236\u9577\u6642\u9593\u4e0d\u95dc\u9589\u804a\u5929\u5ba4\uff0c\u9ed1\u540d\u55ae\u53ef\u80fd\u7d2f\u7a4d\u904e\u591a</p> <p>\u5f71\u97ff\uff1a - \u53ef\u80fd\u5f71\u97ff\u6548\u80fd - \u9ed1\u540d\u55ae\u8cc7\u6599\u53ef\u80fd\u904e\u671f</p> <p>\u7de9\u89e3\u63aa\u65bd\uff1a - \u5be6\u4f5c\u5b9a\u671f\u6e05\u7406\u6a5f\u5236\uff08\u5373\u4f7f\u804a\u5929\u5ba4\u672a\u95dc\u9589\uff09 - \u9650\u5236\u9ed1\u540d\u55ae\u6700\u5927\u6578\u91cf</p>"},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#3-websocket","title":"3. \u6b77\u53f2\u8a0a\u606f\u8207 WebSocket \u8a0a\u606f\u5408\u4f75","text":"<p>\u98a8\u96aa\u7b49\u7d1a\uff1a\u4e2d</p> <p>\u63cf\u8ff0\uff1a - \u9700\u8981\u5c07\u6b77\u53f2\u8a0a\u606f\u8207 WebSocket \u8a0a\u606f\u5408\u4f75\u4e26\u53bb\u91cd - \u5982\u679c\u8a0a\u606f\u9806\u5e8f\u4e0d\u6b63\u78ba\uff0c\u53ef\u80fd\u5c0e\u81f4\u986f\u793a\u932f\u8aa4</p> <p>\u5f71\u97ff\uff1a - \u8a0a\u606f\u986f\u793a\u9806\u5e8f\u53ef\u80fd\u932f\u8aa4 - \u53ef\u80fd\u51fa\u73fe\u91cd\u8907\u8a0a\u606f</p> <p>\u7de9\u89e3\u63aa\u65bd\uff1a - \u4f7f\u7528 <code>messageNo</code> \u9032\u884c\u6392\u5e8f\u548c\u53bb\u91cd - \u5be6\u4f5c\u5b8c\u5584\u7684\u5408\u4f75\u908f\u8f2f\u6e2c\u8a66</p>"},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#_2","title":"\u696d\u52d9\u98a8\u96aa","text":""},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#1-api","title":"1. \u500b\u4eba\u8cc7\u8a0a API \u5f85\u5b9a","text":"<p>\u98a8\u96aa\u7b49\u7d1a\uff1a\u9ad8</p> <p>\u63cf\u8ff0\uff1a - \u500b\u4eba\u8cc7\u8a0a API\uff08<code>GET /{TBD \u500b\u4eba\u8cc7\u8a0a API}</code>\uff09\u76ee\u524d\u70ba\u5f85\u5b9a\u72c0\u614b - \u9700\u8981\u8207\u5f8c\u7aef\u5718\u968a\u78ba\u8a8d\u5be6\u969b API</p> <p>\u5f71\u97ff\uff1a - \u53ef\u80fd\u5f71\u97ff\u958b\u767c\u6642\u7a0b - \u9700\u8981\u8abf\u6574\u5be6\u4f5c\u65b9\u5f0f</p> <p>\u7de9\u89e3\u63aa\u65bd\uff1a - \u76e1\u5feb\u8207\u5f8c\u7aef\u5718\u968a\u78ba\u8a8d API \u898f\u683c - \u5148\u4f7f\u7528 Mock API \u9032\u884c\u958b\u767c</p>"},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#2-package","title":"2. \u5916\u90e8 Package \u4f9d\u8cf4","text":"<p>\u98a8\u96aa\u7b49\u7d1a\uff1a\u4e2d</p> <p>\u63cf\u8ff0\uff1a - \u4f9d\u8cf4\u591a\u500b\u5916\u90e8 Package\uff08PersonalPage\u3001FComSharedFlow\u3001FactsCenter\uff09 - \u5916\u90e8 Package \u7684\u8b8a\u66f4\u53ef\u80fd\u5f71\u97ff\u672c\u529f\u80fd</p> <p>\u5f71\u97ff\uff1a - \u5916\u90e8 Package \u66f4\u65b0\u53ef\u80fd\u5c0e\u81f4\u529f\u80fd\u7570\u5e38 - \u9700\u8981\u5354\u8abf\u591a\u500b\u5718\u968a</p> <p>\u7de9\u89e3\u63aa\u65bd\uff1a - \u4f7f\u7528 Adapter Pattern \u89e3\u8026 - \u5b9a\u7fa9\u6e05\u6670\u7684 Protocol \u4ecb\u9762 - \u5b9a\u671f\u8207\u76f8\u95dc\u5718\u968a\u6e9d\u901a</p>"},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#_3","title":"\u5f85\u78ba\u8a8d\u554f\u984c","text":""},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#1-api_1","title":"1. \u500b\u4eba\u8cc7\u8a0a API \u898f\u683c","text":"<p>\u554f\u984c\uff1a\u500b\u4eba\u8cc7\u8a0a API \u7684\u5be6\u969b endpoint \u548c response \u683c\u5f0f\u70ba\u4f55\uff1f</p> <p>\u72c0\u614b\uff1a\u5f85\u78ba\u8a8d</p> <p>\u8ca0\u8cac\u4eba\uff1a\u9700\u8207 Eason \u6216 Han \u78ba\u8a8d</p> <p>\u5f71\u97ff\uff1a\u5f71\u97ff <code>getUserInfo()</code> \u65b9\u6cd5\u7684\u5be6\u4f5c</p>"},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#2-event-status","title":"2. Event Status \u901a\u77e5\u6a5f\u5236","text":"<p>\u554f\u984c\uff1aFactsCenter Package \u7684 Event Status \u901a\u77e5\u6a5f\u5236\u662f\u5426\u7a69\u5b9a\uff1f</p> <p>\u72c0\u614b\uff1a\u5f85\u78ba\u8a8d</p> <p>\u8ca0\u8cac\u4eba\uff1a\u9700\u8207 FactsCenter Package \u5718\u968a\u78ba\u8a8d</p> <p>\u5f71\u97ff\uff1a\u5f71\u97ff Prematch Comment Page \u7684\u81ea\u52d5\u95dc\u9589\u908f\u8f2f</p>"},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#3-nickname","title":"3. Nickname \u5efa\u7acb\u6d41\u7a0b","text":"<p>\u554f\u984c\uff1aFComSharedFlow Package \u7684 Nickname \u5efa\u7acb\u6d41\u7a0b\u662f\u5426\u6703\u963b\u585e UI\uff1f</p> <p>\u72c0\u614b\uff1a\u5f85\u78ba\u8a8d</p> <p>\u8ca0\u8cac\u4eba\uff1a\u9700\u8207 FComSharedFlow Package \u5718\u968a\u78ba\u8a8d</p> <p>\u5f71\u97ff\uff1a\u5f71\u97ff\u7528\u6236\u767c\u9001\u7559\u8a00\u7684\u9ad4\u9a57</p>"},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#4","title":"4. \u9ed1\u540d\u55ae\u540c\u6b65\u6a5f\u5236","text":"<p>\u554f\u984c\uff1aWebSocket \u91cd\u9023\u5f8c\uff0cblocked user \u6e05\u55ae\u7684\u540c\u6b65\u6a5f\u5236\u70ba\u4f55\uff1f</p> <p>\u72c0\u614b\uff1a\u5f85\u78ba\u8a8d</p> <p>\u8ca0\u8cac\u4eba\uff1a\u9700\u8207\u5f8c\u7aef\u5718\u968a\u78ba\u8a8d</p> <p>\u5f71\u97ff\uff1a\u5f71\u97ff\u5c01\u9396\u529f\u80fd\u7684\u5be6\u4f5c</p>"},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#_4","title":"\u4f9d\u8cf4\u98a8\u96aa","text":""},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#1-api_2","title":"1. \u5f8c\u7aef API \u958b\u767c\u9032\u5ea6","text":"<p>\u98a8\u96aa\u7b49\u7d1a\uff1a\u4e2d</p> <p>\u63cf\u8ff0\uff1a - \u4f9d\u8cf4\u5f8c\u7aef API \u7684\u958b\u767c\u9032\u5ea6 - \u5982\u679c\u5f8c\u7aef API \u5ef6\u9072\uff0c\u53ef\u80fd\u5f71\u97ff\u524d\u7aef\u958b\u767c</p> <p>\u5f71\u97ff\uff1a - \u53ef\u80fd\u5f71\u97ff\u958b\u767c\u6642\u7a0b - \u9700\u8981\u8abf\u6574\u958b\u767c\u9806\u5e8f</p> <p>\u7de9\u89e3\u63aa\u65bd\uff1a - \u4f7f\u7528 Mock API \u9032\u884c\u4e26\u884c\u958b\u767c - \u5b9a\u671f\u8207\u5f8c\u7aef\u5718\u968a\u540c\u6b65\u9032\u5ea6</p>"},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#2-package_1","title":"2. \u5916\u90e8 Package \u7248\u672c\u76f8\u5bb9\u6027","text":"<p>\u98a8\u96aa\u7b49\u7d1a\uff1a\u4f4e</p> <p>\u63cf\u8ff0\uff1a - \u5916\u90e8 Package \u7684\u7248\u672c\u66f4\u65b0\u53ef\u80fd\u5c0e\u81f4\u76f8\u5bb9\u6027\u554f\u984c</p> <p>\u5f71\u97ff\uff1a - \u53ef\u80fd\u9700\u8981\u8abf\u6574\u5be6\u4f5c\u65b9\u5f0f - \u53ef\u80fd\u5f71\u97ff\u529f\u80fd\u7a69\u5b9a\u6027</p> <p>\u7de9\u89e3\u63aa\u65bd\uff1a - \u9396\u5b9a\u5916\u90e8 Package \u7248\u672c - \u5b9a\u671f\u6e2c\u8a66\u76f8\u5bb9\u6027</p>"},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#_5","title":"\u6642\u7a0b\u98a8\u96aa","text":""},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#1","title":"1. \u8907\u96dc\u529f\u80fd\u958b\u767c\u6642\u9593","text":"<p>\u98a8\u96aa\u7b49\u7d1a\uff1a\u4e2d</p> <p>\u63cf\u8ff0\uff1a - WebSocket \u9023\u7dda\u7ba1\u7406\u548c\u8a0a\u606f\u5408\u4f75\u908f\u8f2f\u8f03\u8907\u96dc - \u53ef\u80fd\u8d85\u51fa\u9810\u4f30\u958b\u767c\u6642\u9593</p> <p>\u5f71\u97ff\uff1a - \u53ef\u80fd\u5f71\u97ff\u5c08\u6848\u6642\u7a0b</p> <p>\u7de9\u89e3\u63aa\u65bd\uff1a - \u63d0\u524d\u9032\u884c\u6280\u8853\u9a57\u8b49\uff08POC\uff09 - \u9810\u7559\u7de9\u885d\u6642\u9593</p>"},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#2_1","title":"2. \u6e2c\u8a66\u6642\u9593\u4e0d\u8db3","text":"<p>\u98a8\u96aa\u7b49\u7d1a\uff1a\u4f4e</p> <p>\u63cf\u8ff0\uff1a - \u529f\u80fd\u8f03\u8907\u96dc\uff0c\u6e2c\u8a66\u5834\u666f\u8f03\u591a - \u53ef\u80fd\u6e2c\u8a66\u6642\u9593\u4e0d\u8db3</p> <p>\u5f71\u97ff\uff1a - \u53ef\u80fd\u5f71\u97ff\u54c1\u8cea</p> <p>\u7de9\u89e3\u63aa\u65bd\uff1a - \u63d0\u524d\u6e96\u5099\u6e2c\u8a66\u6848\u4f8b - \u81ea\u52d5\u5316\u6e2c\u8a66\u8986\u84cb\u95dc\u9375\u6d41\u7a0b</p>"},{"location":"11_Risks%20%26%20Questions/01_risks_questions/#_6","title":"\u98a8\u96aa\u8ffd\u8e64","text":"\u98a8\u96aa \u7b49\u7d1a \u72c0\u614b \u8ca0\u8cac\u4eba \u9810\u8a08\u89e3\u6c7a\u6642\u9593 \u500b\u4eba\u8cc7\u8a0a API \u5f85\u5b9a \u9ad8 \u5f85\u78ba\u8a8d - - WebSocket \u9023\u7dda\u7a69\u5b9a\u6027 \u4e2d \u5df2\u8b58\u5225 \u958b\u767c\u5718\u968a \u958b\u767c\u968e\u6bb5 \u5916\u90e8 Package \u4f9d\u8cf4 \u4e2d \u5df2\u8b58\u5225 \u958b\u767c\u5718\u968a \u6301\u7e8c\u8ffd\u8e64 \u6b77\u53f2\u8a0a\u606f\u5408\u4f75\u908f\u8f2f \u4e2d \u5df2\u8b58\u5225 \u958b\u767c\u5718\u968a \u958b\u767c\u968e\u6bb5"},{"location":"12_Tickets/","title":"Tickets","text":"<p>\u672c\u76ee\u9304\u5305\u542b\u6240\u6709\u958b\u767c Ticket \u548c\u4f30\u6642\u8cc7\u8a0a\u3002</p>"},{"location":"12_Tickets/#_1","title":"\u6587\u4ef6\u5217\u8868","text":""},{"location":"12_Tickets/#_2","title":"\u958b\u767c\u8a08\u5283","text":"<ul> <li><code>20_\u5de5\u4f5c\u65e5\u958b\u767c\u8a08\u5283.md</code>\uff1a\u55ae\u4e00 Senior iOS Engineer + AI \u8f14\u52a9\uff0c20 \u500b\u5de5\u4f5c\u65e5\u5b8c\u6210\u8a08\u5283</li> </ul>"},{"location":"12_Tickets/#jira","title":"Jira \u6574\u5408","text":"<p>Jira \u6574\u5408\u76f8\u95dc\u7684\u8173\u672c\u3001\u8cc7\u6599\u5eab\u548c\u6587\u6a94\u5df2\u79fb\u81f3\u5c08\u6848\u6839\u76ee\u9304\u7684 <code>jira_integration/</code> \u8cc7\u6599\u593e\u3002</p>"},{"location":"12_Tickets/#domain-model","title":"Domain Model","text":"<ul> <li><code>01_domain_model/TDD-001_Comment_Entity.md</code></li> <li><code>01_domain_model/TDD-002_CommentMeta_Entity.md</code></li> <li><code>01_domain_model/TDD-003_UserInfo_Entity.md</code></li> <li><code>01_domain_model/TDD-004_Message_Entity.md</code></li> <li><code>01_domain_model/TDD-005_ChatroomInfo_Entity.md</code></li> <li><code>01_domain_model/TDD-006_ValueObjects.md</code></li> </ul>"},{"location":"12_Tickets/#api","title":"API","text":"<ul> <li><code>02_api/TDD-010_PrematchCommentAPI.md</code></li> <li><code>02_api/TDD-011_ChatAPI.md</code></li> </ul>"},{"location":"12_Tickets/#client","title":"Client","text":"<ul> <li><code>03_client/TDD-020_PrematchCommentClient.md</code></li> <li><code>03_client/TDD-021_LiveChatClient.md</code></li> <li><code>03_client/TDD-022_ChatWebSocketClient.md</code></li> </ul>"},{"location":"12_Tickets/#repository","title":"Repository","text":"<ul> <li><code>04_repository/TDD-030_PrematchCommentRepository.md</code></li> <li><code>04_repository/TDD-031_LiveChatRepository.md</code></li> </ul>"},{"location":"12_Tickets/#usecase","title":"UseCase","text":"<ul> <li><code>05_usecase/TDD-040_ReloadCommentListUseCase.md</code></li> <li><code>05_usecase/TDD-041_PublishCommentUseCase.md</code></li> <li><code>05_usecase/TDD-042_ToggleLikeUseCase.md</code></li> <li><code>05_usecase/TDD-043_LoadRepliesUseCase.md</code></li> <li><code>05_usecase/TDD-044_NavigateToProfileUseCase.md</code></li> <li><code>05_usecase/TDD-045_SendChatMessageUseCase.md</code></li> <li><code>05_usecase/TDD-046_JoinChatroomUseCase.md</code></li> <li><code>05_usecase/TDD-047_LeaveChatroomUseCase.md</code></li> <li><code>05_usecase/TDD-048_BlockUserUseCase.md</code></li> </ul>"},{"location":"12_Tickets/#feature","title":"Feature","text":"<ul> <li><code>06_feature/TDD-050_PrematchCommentFeature.md</code></li> <li><code>06_feature/TDD-051_LiveChatFeature.md</code></li> </ul>"},{"location":"12_Tickets/#view","title":"View","text":"<ul> <li><code>07_view/TDD-060_PrematchCommentView.md</code></li> <li><code>07_view/TDD-061_LiveDetailView.md</code></li> </ul>"},{"location":"12_Tickets/#ticket","title":"Ticket \u958b\u767c\u6642\u9593\u8868","text":"<p>\u672c\u958b\u767c\u8a08\u5283\u5f9e 2025-11-27 \u958b\u59cb\uff0c\u5171 20 \u500b\u5de5\u4f5c\u65e5\uff0c\u5df2\u6392\u9664 2025-12-18\uff08\u9031\u56db\uff09 \u8acb\u5047\u65e5\u3002</p>"},{"location":"12_Tickets/#_3","title":"\u5b8c\u6574\u6642\u9593\u8868","text":"Ticket ID \u6a19\u984c \u958b\u59cb\u65e5\u671f \u7d50\u675f\u65e5\u671f \u6301\u7e8c\u6642\u9593\uff08\u5929\uff09 TDD-001 \u5be6\u4f5c Comment Entity 2025-11-27 2025-11-28 0.3 TDD-002 \u5be6\u4f5c CommentMeta Entity 2025-11-27 2025-11-28 0.3 TDD-003 \u5be6\u4f5c UserInfo Entity 2025-11-27 2025-11-28 0.3 TDD-004 \u5be6\u4f5c Message Entity 2025-11-28 2025-12-01 0.3 TDD-005 \u5be6\u4f5c ChatroomInfo Entity 2025-11-28 2025-12-01 0.3 TDD-006 \u5be6\u4f5c Value Objects\uff08SortMode\u3001Cursor\u3001PagingInfo\uff09 2025-11-28 2025-12-01 1.0 TDD-010 \u5be6\u4f5c PrematchCommentAPI \u5b9a\u7fa9 2025-12-01 2025-12-02 1.0 TDD-011 \u5be6\u4f5c ChatAPI \u5b9a\u7fa9 2025-12-01 2025-12-03 2.0 TDD-021 \u5be6\u4f5c LiveChatClient\uff08HTTP\uff09 2025-12-02 2025-12-03 1.0 TDD-020 \u5be6\u4f5c PrematchCommentClient\uff08HTTP\uff09 2025-12-02 2025-12-04 2.0 TDD-030 \u5be6\u4f5c PrematchCommentRepository 2025-12-04 2025-12-08 2.0 TDD-022 \u5be6\u4f5c ChatWebSocketClient\uff08WebSocket\uff09 2025-12-03 2025-12-10 5.0 TDD-031 \u5be6\u4f5c LiveChatRepository 2025-12-05 2025-12-10 3.0 TDD-040 \u5be6\u4f5c ReloadCommentListUseCase 2025-12-08 2025-12-10 2.0 TDD-042 \u5be6\u4f5c ToggleLikeUseCase 2025-12-10 2025-12-12 2.0 TDD-043 \u5be6\u4f5c LoadRepliesUseCase 2025-12-10 2025-12-12 2.0 TDD-044 \u5be6\u4f5c NavigateToProfileUseCase 2025-12-11 2025-12-12 1.0 TDD-041 \u5be6\u4f5c PublishCommentUseCase 2025-12-09 2025-12-16 5.0 TDD-048 \u5be6\u4f5c BlockUserUseCase 2025-12-15 2025-12-16 1.0 TDD-047 \u5be6\u4f5c LeaveChatroomUseCase 2025-12-15 2025-12-17 2.0 TDD-045 \u5be6\u4f5c SendChatMessageUseCase 2025-12-11 2025-12-19 5.0 TDD-046 \u5be6\u4f5c JoinChatroomUseCase 2025-12-12 2025-12-22 5.0 TDD-050 \u5be6\u4f5c PrematchCommentFeature\uff08TCA Reducer\uff09 2025-12-16 2025-12-22 3.0 TDD-051 \u5be6\u4f5c LiveChatFeature\uff08TCA Reducer\uff09 2025-12-16 2025-12-24 5.0 TDD-060 \u5be6\u4f5c PrematchCommentView 2025-12-17 2025-12-25 5.0 TDD-061 \u5be6\u4f5c LiveDetailView 2025-12-19 2025-12-26 5.0 <p>\u8a73\u7d30\u6642\u9593\u8868\uff1a\u8acb\u53c3\u8003 <code>ticket_timeline.md</code></p>"},{"location":"12_Tickets/#ticket_1","title":"Ticket \u958b\u767c\u9806\u5e8f","text":""},{"location":"12_Tickets/#phase-1-domain-model","title":"Phase 1: Domain Model\uff08\u512a\u5148\uff09","text":"<ol> <li>TDD-001 ~ TDD-006\uff1aDomain Model \u5b9a\u7fa9</li> </ol>"},{"location":"12_Tickets/#phase-2-data-infrastructure-layer","title":"Phase 2: Data &amp; Infrastructure Layer","text":"<ol> <li>TDD-010 ~ TDD-011\uff1aAPI \u5b9a\u7fa9</li> <li>TDD-020 ~ TDD-022\uff1aClient \u5be6\u4f5c</li> <li>TDD-030 ~ TDD-031\uff1aRepository \u5be6\u4f5c</li> </ol>"},{"location":"12_Tickets/#phase-3-domain-layer","title":"Phase 3: Domain Layer","text":"<ol> <li>TDD-040 ~ TDD-048\uff1aUseCase \u5be6\u4f5c</li> <li>TDD-050 ~ TDD-051\uff1aFeature \u5be6\u4f5c</li> </ol>"},{"location":"12_Tickets/#phase-4-ui-layer","title":"Phase 4: UI Layer","text":"<ol> <li>TDD-060 ~ TDD-061\uff1aView \u5be6\u4f5c</li> </ol>"},{"location":"12_Tickets/#_4","title":"\u4f30\u6642\u8aaa\u660e","text":"<ul> <li>Story Point (SP)\uff1a\u4f7f\u7528 Fibonacci \u6578\u5217\uff081, 2, 3, 5, 8, 13, 21\uff09</li> <li>\u4f30\u6642\u57fa\u6e96\uff1aSenior iOS Engineer + AI \u8f14\u52a9\u958b\u767c</li> <li>\u4f30\u6642\u7bc4\u570d\uff1a</li> <li>\u6a19\u6e96\u4f30\u6642\uff1a\u57fa\u65bc Story Point \u8f49\u63db\uff0c\u8003\u616e AI \u8f14\u52a9\u958b\u767c\u7684\u6642\u9593\u7bc0\u7701</li> <li>\u6700\u56b4\u53b2\u4f30\u6642\uff1a\u4e00\u5207\u9806\u5229\uff0c\u7121\u610f\u5916\u554f\u984c\uff08\u6a19\u6e96\u4f30\u6642 \u00d7 0.7\uff0c\u56db\u6368\u4e94\u5165\uff09</li> </ul>"},{"location":"12_Tickets/#ai","title":"AI \u8f14\u52a9\u958b\u767c\u8aaa\u660e","text":"<p>AI \u5de5\u5177\uff08\u5982 GitHub Copilot\u3001Cursor\u3001ChatGPT \u7b49\uff09\u53ef\u4ee5\u986f\u8457\u63d0\u5347\u958b\u767c\u6548\u7387\uff0c\u4f46\u5f71\u97ff\u7a0b\u5ea6\u56e0\u4efb\u52d9\u985e\u578b\u800c\u7570\uff1a</p> \u4efb\u52d9\u985e\u578b AI \u8f14\u52a9\u6548\u679c \u6642\u9593\u7bc0\u7701\u6bd4\u4f8b \u8aaa\u660e Domain Model \u9ad8 30-50% AI \u53ef\u5feb\u901f\u751f\u6210 Entity/Value Object \u7d50\u69cb\u3001Equatable\u3001Identifiable \u7b49 boilerplate code API \u5b9a\u7fa9 \u4e2d\u9ad8 25-40% AI \u53ef\u751f\u6210 Request/Response DTO\u3001API \u7aef\u9ede\u5b9a\u7fa9 Client \u4e2d 20-35% AI \u53ef\u751f\u6210 HTTP \u8acb\u6c42\u4ee3\u78bc\u3001\u6a19\u6e96 Error Handling\uff0c\u4f46 WebSocket \u908f\u8f2f\u4ecd\u9700\u4eba\u5de5 Repository \u4e2d 20-35% AI \u53ef\u751f\u6210 DTO Mapping\u3001\u6a19\u6e96 CRUD\uff0c\u4f46\u8907\u96dc\u8cc7\u6599\u5408\u4f75\u908f\u8f2f\u4ecd\u9700\u4eba\u5de5 UseCase \u4e2d\u4f4e 15-30% AI \u53ef\u751f\u6210\u57fa\u672c\u7d50\u69cb\uff0c\u4f46\u696d\u52d9\u908f\u8f2f\u3001\u9a57\u8b49\u908f\u8f2f\u3001\u6574\u5408\u908f\u8f2f\u9700\u8981\u4eba\u5de5\u8a2d\u8a08 Feature \u4e2d\u4f4e 15-30% AI \u53ef\u751f\u6210 TCA Reducer \u7d50\u69cb\uff0c\u4f46\u72c0\u614b\u7ba1\u7406\u908f\u8f2f\u3001Action \u8655\u7406\u9700\u8981\u4eba\u5de5 View \u4f4e\u4e2d 10-25% AI \u53ef\u751f\u6210 UI \u7d50\u69cb\uff0c\u4f46\u4e92\u52d5\u908f\u8f2f\u3001\u52d5\u756b\u3001\u72c0\u614b\u7d81\u5b9a\u9700\u8981\u4eba\u5de5 <p>\u6ce8\u610f\u4e8b\u9805\uff1a - AI \u751f\u6210\u7684\u4ee3\u78bc\u4ecd\u9700\u8981 Code Review \u548c\u8abf\u6574 - \u8907\u96dc\u696d\u52d9\u908f\u8f2f\u3001\u67b6\u69cb\u8a2d\u8a08\u6c7a\u7b56\u4ecd\u9700\u4eba\u5de5 - \u6e2c\u8a66\u7528\u4f8b\u4ecd\u9700\u4eba\u5de5\u7de8\u5beb\u548c\u9a57\u8b49 - \u8abf\u8a66\u548c\u554f\u984c\u89e3\u6c7a\u4ecd\u9700\u4eba\u5de5 - AI \u8f14\u52a9\u6548\u679c\u53d6\u6c7a\u65bc\u5de5\u7a0b\u5e2b\u4f7f\u7528 AI \u5de5\u5177\u7684\u719f\u7df4\u7a0b\u5ea6 - \u6240\u6709\u4f30\u6642\u5df2\u56db\u6368\u4e94\u5165\u81f3\u6574\u6578\u5929\u6578</p>"},{"location":"12_Tickets/#_5","title":"\u4f9d\u8cf4\u95dc\u4fc2","text":"<p>Ticket \u5fc5\u9808\u6309\u7167\u4f9d\u8cf4\u9806\u5e8f\u958b\u767c\uff1a - Domain Model \u2192 API \u2192 Client \u2192 Repository \u2192 UseCase \u2192 Feature \u2192 View</p>"},{"location":"12_Tickets/#_6","title":"\u7e3d\u4f30\u6642\u7d71\u8a08","text":""},{"location":"12_Tickets/#senior-ios-engineer-ai","title":"\u6309\u5c64\u7d1a\u7d71\u8a08\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09","text":"\u5c64\u7d1a Ticket \u6578\u91cf \u7e3d Story Point \u6a19\u6e96\u4f30\u6642 \u6700\u56b4\u53b2\u4f30\u6642 Domain Model 6 7 SP 3 \u5929 1 \u5929 API 2 8 SP 3 \u5929 2 \u5929 Client 3 21 SP 8 \u5929 5 \u5929 Repository 2 13 SP 5 \u5929 3 \u5929 UseCase 9 62 SP 25 \u5929 18 \u5929 Feature 2 21 SP 8 \u5929 6 \u5929 View 2 26 SP 10 \u5929 8 \u5929 \u7e3d\u8a08 26 158 SP 62 \u5929 43 \u5929"},{"location":"12_Tickets/#feature-senior-ios-engineer-ai","title":"\u6309 Feature \u7d71\u8a08\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09","text":"Feature Ticket \u6578\u91cf \u7e3d Story Point \u6a19\u6e96\u4f30\u6642 \u6700\u56b4\u53b2\u4f30\u6642 PrematchComment 14 75 SP 29 \u5929 20 \u5929 LiveChat 12 83 SP 33 \u5929 23 \u5929"},{"location":"12_Tickets/#_7","title":"\u6ce8\u610f\u4e8b\u9805","text":"<ol> <li>\u4f30\u6642\u50c5\u4f9b\u53c3\u8003\uff1a\u5be6\u969b\u958b\u767c\u6642\u9593\u53ef\u80fd\u56e0\u5de5\u7a0b\u5e2b\u7d93\u9a57\u3001\u5c08\u6848\u8907\u96dc\u5ea6\u3001\u6280\u8853\u50b5\u52d9\u7b49\u56e0\u7d20\u800c\u6709\u6240\u4e0d\u540c</li> <li>\u9700\u8981\u5b9a\u671f\u8abf\u6574\uff1a\u6839\u64da\u5be6\u969b\u958b\u767c\u60c5\u6cc1\uff0c\u61c9\u5b9a\u671f\u8abf\u6574\u4f30\u6642\u898f\u5247</li> <li>\u8003\u616e\u4e26\u884c\u958b\u767c\uff1a\u67d0\u4e9b Ticket \u53ef\u4ee5\u4e26\u884c\u958b\u767c\uff08\u5982 Domain Model \u7684 Entity \u53ef\u4ee5\u4e26\u884c\uff09</li> <li>\u8003\u616e\u98a8\u96aa\u7de9\u885d\uff1a\u5efa\u8b70\u5728\u7e3d\u4f30\u6642\u57fa\u790e\u4e0a\u589e\u52a0 20-30% \u7684\u7de9\u885d\u6642\u9593</li> <li>\u7e3d\u4f30\u6642\uff08\u542b\u7de9\u885d 25%\uff09\uff1a</li> <li>\u6a19\u6e96\u4f30\u6642\uff1a62 \u5929 \u00d7 1.25 = 78 \u5929\uff08\u7d04 16 \u9031\uff09</li> <li>\u6700\u56b4\u53b2\u4f30\u6642\uff1a43 \u5929 \u00d7 1.25 = 54 \u5929\uff08\u7d04 11 \u9031\uff09</li> </ol>"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/","title":"20 \u5de5\u4f5c\u65e5\u958b\u767c\u8a08\u5283","text":"<p>\u672c\u8a08\u5283\u91dd\u5c0d\u55ae\u4e00 Senior iOS Engineer + AI \u8f14\u52a9\uff0c\u76ee\u6a19\u5728 20 \u500b\u5de5\u4f5c\u65e5\u5167\u5b8c\u6210\u6240\u6709 26 \u5f35 Ticket\u3002</p>"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#_1","title":"\u8a08\u5283\u524d\u63d0","text":"<ul> <li>\u5de5\u7a0b\u5e2b\uff1a1 \u4f4d Senior iOS Engineer</li> <li>\u5de5\u5177\uff1aAI \u8f14\u52a9\u958b\u767c\uff08GitHub Copilot\u3001Cursor\u3001ChatGPT \u7b49\uff09</li> <li>\u76ee\u6a19\u6642\u7a0b\uff1a20 \u500b\u5de5\u4f5c\u65e5</li> <li>\u539f\u59cb\u7e3d\u4f30\u6642\uff1a62 \u5929\uff08\u6a19\u6e96\uff09/ 43 \u5929\uff08\u6700\u56b4\u53b2\uff09</li> <li>\u6642\u9593\u58d3\u7e2e\u6bd4\u4f8b\uff1a20 / 62 = 32.3%\uff08\u9700\u8981\u6975\u5ea6\u512a\u5316\uff09</li> </ul>"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#_2","title":"\u6642\u9593\u5206\u914d\u7b56\u7565","text":""},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#1","title":"1. \u4e26\u884c\u958b\u767c\u7b56\u7565","text":"<p>\u96d6\u7136\u53ea\u6709\u4e00\u4f4d\u5de5\u7a0b\u5e2b\uff0c\u4f46\u53ef\u4ee5\u63a1\u7528\u4ee5\u4e0b\u7b56\u7565\uff1a - Domain Model\uff1a\u53ef\u4ee5\u5feb\u901f\u4e26\u884c\u5b8c\u6210\uff08AI \u8f14\u52a9\u751f\u6210 boilerplate code\uff09 - API \u5b9a\u7fa9\uff1a\u53ef\u4ee5\u5feb\u901f\u5b8c\u6210\uff08AI \u8f14\u52a9\u751f\u6210 DTO\uff09 - Client/Repository\uff1a\u53ef\u4ee5\u90e8\u5206\u4e26\u884c\uff08\u4e0d\u540c Feature \u7684 Client/Repository\uff09 - UseCase/Feature/View\uff1a\u6309 Feature \u5206\u7d44\uff0c\u53ef\u4ee5\u90e8\u5206\u4e26\u884c</p>"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#2-ai","title":"2. AI \u8f14\u52a9\u512a\u5316","text":"<p>\u5728 20 \u500b\u5de5\u4f5c\u65e5\u7684\u7dca\u8feb\u6642\u7a0b\u4e0b\uff0c\u5047\u8a2d\uff1a - AI \u8f14\u52a9\u6548\u679c\u63d0\u5347\u81f3 40-60%\uff08\u76f8\u8f03\u65bc\u539f\u672c\u7684 17.5-40%\uff09 - \u6e1b\u5c11 Code Review \u6642\u9593\uff08\u5feb\u901f\u8fed\u4ee3\uff09 - \u6e1b\u5c11\u6e2c\u8a66\u8986\u84cb\u7387\u8981\u6c42\uff08\u5148\u5b8c\u6210\u529f\u80fd\uff0c\u5f8c\u7e8c\u88dc\u6e2c\u8a66\uff09</p>"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#3","title":"3. \u512a\u5148\u7d1a\u8abf\u6574","text":"<ul> <li>P0 \u512a\u5148\u7d1a\uff1a\u5fc5\u9808\u5b8c\u6210\u7684\u6838\u5fc3\u529f\u80fd</li> <li>P1 \u512a\u5148\u7d1a\uff1a\u53ef\u4ee5\u5ef6\u5f8c\u6216\u7c21\u5316</li> </ul>"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#_3","title":"\u8a73\u7d30\u958b\u767c\u8a08\u5283","text":""},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#week-1-1-52024-11-27-2024-12-03","title":"Week 1\uff08\u5de5\u4f5c\u65e5 1-5\uff1a2024-11-27 ~ 2024-12-03\uff09","text":""},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-12024-11-27-domain-model-layer-part-1","title":"Day 1\uff082024-11-27 \u9031\u4e09\uff09\uff1aDomain Model Layer - Part 1","text":"Ticket ID \u6a19\u984c \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u958b\u767c\u65e5\u671f \u8aaa\u660e TDD-001 Comment Entity 0.3 \u5929 0.2 \u5929 2024-11-27 AI \u5feb\u901f\u751f\u6210 TDD-002 CommentMeta Entity 0.3 \u5929 0.2 \u5929 2024-11-27 AI \u5feb\u901f\u751f\u6210 TDD-003 UserInfo Entity 0.3 \u5929 0.2 \u5929 2024-11-27 AI \u5feb\u901f\u751f\u6210"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-22024-11-28-domain-model-layer-part-2","title":"Day 2\uff082024-11-28 \u9031\u56db\uff09\uff1aDomain Model Layer - Part 2","text":"Ticket ID \u6a19\u984c \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u958b\u767c\u65e5\u671f \u8aaa\u660e TDD-004 Message Entity 0.3 \u5929 0.2 \u5929 2024-11-28 AI \u5feb\u901f\u751f\u6210 TDD-005 ChatroomInfo Entity 0.3 \u5929 0.2 \u5929 2024-11-28 AI \u5feb\u901f\u751f\u6210 TDD-006 Value Objects 1 \u5929 0.8 \u5929 2024-11-28 AI \u5feb\u901f\u751f\u6210 \u5c0f\u8a08 Domain Model 3 \u5929 1.8 \u5929 - \u5be6\u969b\u5206\u914d\uff1a2 \u5929"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-32024-11-29-api-layer","title":"Day 3\uff082024-11-29 \u9031\u4e94\uff09\uff1aAPI Layer","text":"Ticket ID \u6a19\u984c \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u958b\u767c\u65e5\u671f \u8aaa\u660e TDD-010 PrematchCommentAPI 1 \u5929 0.5 \u5929 2024-11-29 AI \u751f\u6210 DTO TDD-011 ChatAPI 2 \u5929 0.5 \u5929 2024-11-29 AI \u751f\u6210 DTO + WebSocket \u5c0f\u8a08 API 3 \u5929 1 \u5929 - \u5be6\u969b\u5206\u914d\uff1a1 \u5929"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-42024-12-02-client-layer-part-1","title":"Day 4\uff082024-12-02 \u9031\u4e00\uff09\uff1aClient Layer - Part 1","text":"Ticket ID \u6a19\u984c \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u958b\u767c\u65e5\u671f \u8aaa\u660e TDD-020 PrematchCommentClient 2 \u5929 0.8 \u5929 2024-12-02 AI \u751f\u6210 HTTP \u8acb\u6c42 TDD-021 LiveChatClient 1 \u5929 0.4 \u5929 2024-12-02 AI \u751f\u6210 HTTP \u8acb\u6c42"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-52024-12-03-client-layer-part-2","title":"Day 5\uff082024-12-03 \u9031\u4e8c\uff09\uff1aClient Layer - Part 2","text":"Ticket ID \u6a19\u984c \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u958b\u767c\u65e5\u671f \u8aaa\u660e TDD-022 ChatWebSocketClient 5 \u5929 0.8 \u5929 2024-12-03 AI \u751f\u6210 WebSocket \u57fa\u790e\uff0c\u4eba\u5de5\u8abf\u6574\u91cd\u9023\u908f\u8f2f \u5c0f\u8a08 Client 8 \u5929 2 \u5929 - \u5be6\u969b\u5206\u914d\uff1a2 \u5929"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#week-2-6-102024-12-04-2024-12-10","title":"Week 2\uff08\u5de5\u4f5c\u65e5 6-10\uff1a2024-12-04 ~ 2024-12-10\uff09","text":""},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-62024-12-04-repository-layer-part-1","title":"Day 6\uff082024-12-04 \u9031\u4e09\uff09\uff1aRepository Layer - Part 1","text":"Ticket ID \u6a19\u984c \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u958b\u767c\u65e5\u671f \u8aaa\u660e TDD-030 PrematchCommentRepository 2 \u5929 0.8 \u5929 2024-12-04 AI \u751f\u6210 DTO Mapping"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-72024-12-05-repository-layer-part-2","title":"Day 7\uff082024-12-05 \u9031\u56db\uff09\uff1aRepository Layer - Part 2","text":"Ticket ID \u6a19\u984c \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u958b\u767c\u65e5\u671f \u8aaa\u660e TDD-031 LiveChatRepository 3 \u5929 1.2 \u5929 2024-12-05 AI \u751f\u6210\u57fa\u790e\uff0c\u4eba\u5de5\u8abf\u6574\u8907\u96dc\u908f\u8f2f \u5c0f\u8a08 Repository 5 \u5929 2 \u5929 - \u5be6\u969b\u5206\u914d\uff1a2 \u5929"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-82024-12-06-usecase-layer-prematchcomment-part-1","title":"Day 8\uff082024-12-06 \u9031\u4e94\uff09\uff1aUseCase Layer - PrematchComment - Part 1","text":"Ticket ID \u6a19\u984c \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u958b\u767c\u65e5\u671f \u8aaa\u660e TDD-040 ReloadCommentListUseCase 2 \u5929 0.8 \u5929 2024-12-06 AI \u751f\u6210\u57fa\u790e\u7d50\u69cb"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-92024-12-09-usecase-layer-prematchcomment-part-2","title":"Day 9\uff082024-12-09 \u9031\u4e00\uff09\uff1aUseCase Layer - PrematchComment - Part 2","text":"Ticket ID \u6a19\u984c \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u958b\u767c\u65e5\u671f \u8aaa\u660e TDD-041 PublishCommentUseCase 5 \u5929 1.2 \u5929 2024-12-09 AI \u751f\u6210\u57fa\u790e\uff0c\u4eba\u5de5\u8abf\u6574\u6574\u5408\u908f\u8f2f"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-102024-12-10-usecase-layer-prematchcomment-part-3","title":"Day 10\uff082024-12-10 \u9031\u4e8c\uff09\uff1aUseCase Layer - PrematchComment - Part 3","text":"Ticket ID \u6a19\u984c \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u958b\u767c\u65e5\u671f \u8aaa\u660e TDD-042 ToggleLikeUseCase 2 \u5929 0.5 \u5929 2024-12-10 AI \u751f\u6210\u57fa\u790e\u7d50\u69cb TDD-043 LoadRepliesUseCase 2 \u5929 0.5 \u5929 2024-12-10 AI \u751f\u6210\u57fa\u790e\u7d50\u69cb \u5c0f\u8a08 PrematchComment UseCase 11 \u5929 3 \u5929 - \u5be6\u969b\u5206\u914d\uff1a3 \u5929"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#week-3-11-152024-12-11-2024-12-17","title":"Week 3\uff08\u5de5\u4f5c\u65e5 11-15\uff1a2024-12-11 ~ 2024-12-17\uff09","text":""},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-112024-12-11-usecase-layer-livechat-part-1","title":"Day 11\uff082024-12-11 \u9031\u4e09\uff09\uff1aUseCase Layer - LiveChat - Part 1","text":"Ticket ID \u6a19\u984c \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u958b\u767c\u65e5\u671f \u8aaa\u660e TDD-044 NavigateToProfileUseCase 1 \u5929 0.2 \u5929 2024-12-11 AI \u751f\u6210\u57fa\u790e\u7d50\u69cb\uff08P1\uff0c\u53ef\u7c21\u5316\uff09 TDD-045 SendChatMessageUseCase 5 \u5929 1.2 \u5929 2024-12-11 AI \u751f\u6210\u57fa\u790e\uff0c\u4eba\u5de5\u8abf\u6574\u6574\u5408\u908f\u8f2f"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-122024-12-12-usecase-layer-livechat-part-2","title":"Day 12\uff082024-12-12 \u9031\u56db\uff09\uff1aUseCase Layer - LiveChat - Part 2","text":"Ticket ID \u6a19\u984c \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u958b\u767c\u65e5\u671f \u8aaa\u660e TDD-046 JoinChatroomUseCase 5 \u5929 1.2 \u5929 2024-12-12 AI \u751f\u6210\u57fa\u790e\uff0c\u4eba\u5de5\u8abf\u6574\u5408\u4f75\u908f\u8f2f"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-132024-12-13-usecase-layer-livechat-part-3","title":"Day 13\uff082024-12-13 \u9031\u4e94\uff09\uff1aUseCase Layer - LiveChat - Part 3","text":"Ticket ID \u6a19\u984c \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u958b\u767c\u65e5\u671f \u8aaa\u660e TDD-047 LeaveChatroomUseCase 2 \u5929 0.2 \u5929 2024-12-13 AI \u751f\u6210\u57fa\u790e\u7d50\u69cb TDD-048 BlockUserUseCase 1 \u5929 0.2 \u5929 2024-12-13 AI \u751f\u6210\u57fa\u790e\u7d50\u69cb\uff08P1\uff0c\u53ef\u7c21\u5316\uff09 \u5c0f\u8a08 LiveChat UseCase 14 \u5929 3 \u5929 - \u5be6\u969b\u5206\u914d\uff1a3 \u5929"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-142024-12-16-feature-layer","title":"Day 14\uff082024-12-16 \u9031\u4e00\uff09\uff1aFeature Layer","text":"Ticket ID \u6a19\u984c \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u958b\u767c\u65e5\u671f \u8aaa\u660e TDD-050 PrematchCommentFeature 3 \u5929 0.5 \u5929 2024-12-16 AI \u751f\u6210 TCA Reducer \u7d50\u69cb TDD-051 LiveChatFeature 5 \u5929 0.5 \u5929 2024-12-16 AI \u751f\u6210 TCA Reducer \u7d50\u69cb \u5c0f\u8a08 Feature 8 \u5929 1 \u5929 - \u5be6\u969b\u5206\u914d\uff1a1 \u5929"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-152024-12-17-view-layer-prematchcommentview","title":"Day 15\uff082024-12-17 \u9031\u4e8c\uff09\uff1aView Layer - PrematchCommentView","text":"Ticket ID \u6a19\u984c \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u958b\u767c\u65e5\u671f \u8aaa\u660e TDD-060 PrematchCommentView 5 \u5929 1 \u5929 2024-12-17 AI \u751f\u6210 UI \u7d50\u69cb\uff0c\u4eba\u5de5\u8abf\u6574\u4e92\u52d5\u908f\u8f2f \u5c0f\u8a08 PrematchComment View 5 \u5929 1 \u5929 - \u5be6\u969b\u5206\u914d\uff1a1 \u5929"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#week-4-16-202024-12-18-2024-12-24","title":"Week 4\uff08\u5de5\u4f5c\u65e5 16-20\uff1a2024-12-18 ~ 2024-12-24\uff09","text":""},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-162024-12-18-view-layer-livedetailview-part-1","title":"Day 16\uff082024-12-18 \u9031\u4e09\uff09\uff1aView Layer - LiveDetailView - Part 1","text":"Ticket ID \u6a19\u984c \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u958b\u767c\u65e5\u671f \u8aaa\u660e TDD-061 LiveDetailView 5 \u5929 2 \u5929 2024-12-18 AI \u751f\u6210 UI \u7d50\u69cb\uff0c\u4eba\u5de5\u8abf\u6574 WebSocket \u6574\u5408"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-172024-12-19-view-layer-livedetailview-part-2","title":"Day 17\uff082024-12-19 \u9031\u56db\uff09\uff1aView Layer - LiveDetailView - Part 2","text":"Ticket ID \u6a19\u984c \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u958b\u767c\u65e5\u671f \u8aaa\u660e TDD-061 LiveDetailView\uff08\u7e8c\uff09 - - 2024-12-19 \u7e7c\u7e8c\u5b8c\u6210 WebSocket \u6574\u5408\u8207\u6e2c\u8a66 \u5c0f\u8a08 LiveChat View 5 \u5929 2 \u5929 - \u5be6\u969b\u5206\u914d\uff1a2 \u5929"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-182024-12-20-bug","title":"Day 18\uff082024-12-20 \u9031\u4e94\uff09\uff1a\u6574\u5408\u6e2c\u8a66\u8207 Bug \u4fee\u5fa9","text":"<ul> <li>\u6574\u5408\u6e2c\u8a66</li> <li>Bug \u4fee\u5fa9</li> <li>Code Review \u8abf\u6574</li> </ul>"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-192024-12-23","title":"Day 19\uff082024-12-23 \u9031\u4e00\uff09\uff1a\u512a\u5316\u8207\u8abf\u6574","text":"<ul> <li>\u6027\u80fd\u512a\u5316</li> <li>UI/UX \u8abf\u6574</li> <li>\u908a\u7de3\u60c5\u6cc1\u8655\u7406</li> </ul>"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#day-202024-12-24","title":"Day 20\uff082024-12-24 \u9031\u4e8c\uff09\uff1a\u6700\u7d42\u9a57\u6536","text":"<ul> <li>\u6700\u7d42\u6e2c\u8a66</li> <li>\u6587\u6a94\u66f4\u65b0</li> <li>\u4ea4\u4ed8\u6e96\u5099</li> </ul>"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#_4","title":"\u7e3d\u6642\u9593\u5206\u914d\u8868","text":"\u968e\u6bb5 \u5de5\u4f5c\u65e5 \u539f\u59cb\u4f30\u6642 20 \u65e5\u8a08\u5283\u4f30\u6642 \u6642\u9593\u58d3\u7e2e Week 1 1-5 14 \u5929 5 \u5929 64.3% Week 2 6-10 16 \u5929 5 \u5929 68.8% Week 3 11-15 26 \u5929 5 \u5929 80.8% Week 4 16-20 6 \u5929 5 \u5929 16.7% \u7e3d\u8a08 20 \u5929 62 \u5929 20 \u5929 67.7%"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#_5","title":"\u98a8\u96aa\u8207\u6ce8\u610f\u4e8b\u9805","text":""},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#_6","title":"\u9ad8\u98a8\u96aa\u9805\u76ee","text":"<ol> <li>TDD-022 ChatWebSocketClient\uff080.8 \u5929\uff09</li> <li>\u539f\u59cb\u4f30\u6642\uff1a5 \u5929</li> <li>\u98a8\u96aa\uff1aWebSocket \u91cd\u9023\u908f\u8f2f\u8907\u96dc\uff0c\u53ef\u80fd\u9700\u8981\u984d\u5916\u6642\u9593</li> <li> <p>\u5efa\u8b70\uff1a\u512a\u5148\u5b8c\u6210\u57fa\u790e\u529f\u80fd\uff0c\u91cd\u9023\u908f\u8f2f\u53ef\u4ee5\u7c21\u5316</p> </li> <li> <p>TDD-031 LiveChatRepository\uff081.2 \u5929\uff09</p> </li> <li>\u539f\u59cb\u4f30\u6642\uff1a3 \u5929</li> <li>\u98a8\u96aa\uff1a\u8907\u96dc\u7684\u8cc7\u6599\u5408\u4f75\u908f\u8f2f</li> <li> <p>\u5efa\u8b70\uff1a\u5148\u5b8c\u6210\u57fa\u672c\u529f\u80fd\uff0c\u8907\u96dc\u908f\u8f2f\u5f8c\u7e8c\u512a\u5316</p> </li> <li> <p>TDD-041 PublishCommentUseCase\uff081.2 \u5929\uff09</p> </li> <li>\u539f\u59cb\u4f30\u6642\uff1a5 \u5929</li> <li>\u98a8\u96aa\uff1a\u9700\u8981\u6574\u5408\u591a\u500b Shared Feature</li> <li> <p>\u5efa\u8b70\uff1a\u5148\u5b8c\u6210\u6838\u5fc3\u529f\u80fd\uff0c\u6574\u5408\u908f\u8f2f\u53ef\u4ee5\u7c21\u5316</p> </li> <li> <p>TDD-045 SendChatMessageUseCase\uff081.2 \u5929\uff09</p> </li> <li>\u539f\u59cb\u4f30\u6642\uff1a5 \u5929</li> <li>\u98a8\u96aa\uff1a\u9700\u8981\u6574\u5408\u591a\u500b Shared Feature</li> <li> <p>\u5efa\u8b70\uff1a\u5148\u5b8c\u6210\u6838\u5fc3\u529f\u80fd\uff0c\u6574\u5408\u908f\u8f2f\u53ef\u4ee5\u7c21\u5316</p> </li> <li> <p>TDD-046 JoinChatroomUseCase\uff081.2 \u5929\uff09</p> </li> <li>\u539f\u59cb\u4f30\u6642\uff1a5 \u5929</li> <li>\u98a8\u96aa\uff1a\u8907\u96dc\u7684\u8a0a\u606f\u5408\u4f75\u908f\u8f2f</li> <li>\u5efa\u8b70\uff1a\u5148\u5b8c\u6210\u57fa\u672c\u529f\u80fd\uff0c\u5408\u4f75\u908f\u8f2f\u53ef\u4ee5\u7c21\u5316</li> </ol>"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#_7","title":"\u512a\u5316\u5efa\u8b70","text":"<ol> <li>\u964d\u4f4e\u6e2c\u8a66\u8986\u84cb\u7387\u8981\u6c42</li> <li>\u539f\u59cb\u8981\u6c42\uff1aUnit Test \u8986\u84cb\u7387 \u2265 80-90%</li> <li> <p>20 \u65e5\u8a08\u5283\uff1a\u5148\u5b8c\u6210\u529f\u80fd\uff0c\u6e2c\u8a66\u8986\u84cb\u7387 \u2265 60%\uff0c\u5f8c\u7e8c\u88dc\u9f4a</p> </li> <li> <p>\u7c21\u5316\u8907\u96dc\u908f\u8f2f</p> </li> <li>\u5148\u5b8c\u6210\u6838\u5fc3\u529f\u80fd</li> <li>\u8907\u96dc\u7684\u908a\u7de3\u60c5\u6cc1\u53ef\u4ee5\u5f8c\u7e8c\u512a\u5316</li> <li> <p>\u8907\u96dc\u7684\u932f\u8aa4\u8655\u7406\u53ef\u4ee5\u7c21\u5316</p> </li> <li> <p>\u512a\u5148\u5b8c\u6210 P0 \u529f\u80fd</p> </li> <li> <p>P1 \u529f\u80fd\uff08\u5982 TDD-044\u3001TDD-048\uff09\u53ef\u4ee5\u5ef6\u5f8c\u6216\u7c21\u5316</p> </li> <li> <p>\u5145\u5206\u5229\u7528 AI \u5de5\u5177</p> </li> <li>\u4f7f\u7528 AI \u751f\u6210 boilerplate code</li> <li>\u4f7f\u7528 AI \u751f\u6210\u6e2c\u8a66\u7528\u4f8b\u6846\u67b6</li> <li>\u4f7f\u7528 AI \u5354\u52a9 Code Review</li> </ol>"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#_8","title":"\u6bcf\u65e5\u5de5\u4f5c\u6aa2\u67e5\u6e05\u55ae","text":""},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#week-1","title":"Week 1 \u6aa2\u67e5\u6e05\u55ae","text":"<ul> <li>[ ] Day 1-2\uff1a\u5b8c\u6210\u6240\u6709 Domain Model\uff086 \u500b Ticket\uff09</li> <li>[ ] Day 3\uff1a\u5b8c\u6210\u6240\u6709 API \u5b9a\u7fa9\uff082 \u500b Ticket\uff09</li> <li>[ ] Day 4-5\uff1a\u5b8c\u6210\u6240\u6709 Client\uff083 \u500b Ticket\uff09</li> </ul>"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#week-2","title":"Week 2 \u6aa2\u67e5\u6e05\u55ae","text":"<ul> <li>[ ] Day 6-7\uff1a\u5b8c\u6210\u6240\u6709 Repository\uff082 \u500b Ticket\uff09</li> <li>[ ] Day 8-10\uff1a\u5b8c\u6210 PrematchComment UseCase\uff084 \u500b Ticket\uff09</li> </ul>"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#week-3","title":"Week 3 \u6aa2\u67e5\u6e05\u55ae","text":"<ul> <li>[ ] Day 11-13\uff1a\u5b8c\u6210 LiveChat UseCase\uff084 \u500b Ticket\uff09</li> <li>[ ] Day 14\uff1a\u5b8c\u6210\u6240\u6709 Feature\uff082 \u500b Ticket\uff09</li> <li>[ ] Day 15\uff1a\u5b8c\u6210 PrematchCommentView\uff081 \u500b Ticket\uff09</li> </ul>"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#week-4","title":"Week 4 \u6aa2\u67e5\u6e05\u55ae","text":"<ul> <li>[ ] Day 16-17\uff1a\u5b8c\u6210 LiveDetailView\uff081 \u500b Ticket\uff09</li> <li>[ ] Day 18\uff1a\u6574\u5408\u6e2c\u8a66\u8207 Bug \u4fee\u5fa9</li> <li>[ ] Day 19\uff1a\u512a\u5316\u8207\u8abf\u6574</li> <li>[ ] Day 20\uff1a\u6700\u7d42\u9a57\u6536</li> </ul>"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#_9","title":"\u61c9\u6025\u8a08\u5283","text":"<p>\u5982\u679c\u9032\u5ea6\u843d\u5f8c\uff0c\u5efa\u8b70\u8abf\u6574\u7b56\u7565\uff1a</p> <ol> <li>\u5ef6\u5f8c P1 \u529f\u80fd</li> <li>TDD-044 NavigateToProfileUseCase\uff080.3 \u5929\uff09</li> <li> <p>TDD-048 BlockUserUseCase\uff08\u53ef\u5ef6\u5f8c\uff09</p> </li> <li> <p>\u7c21\u5316\u8907\u96dc\u529f\u80fd</p> </li> <li>WebSocket \u91cd\u9023\u908f\u8f2f\u7c21\u5316</li> <li>\u8907\u96dc\u7684\u8cc7\u6599\u5408\u4f75\u908f\u8f2f\u7c21\u5316</li> <li> <p>\u8907\u96dc\u7684\u932f\u8aa4\u8655\u7406\u7c21\u5316</p> </li> <li> <p>\u964d\u4f4e\u6e2c\u8a66\u8981\u6c42</p> </li> <li> <p>\u5148\u5b8c\u6210\u529f\u80fd\uff0c\u6e2c\u8a66\u5f8c\u7e8c\u88dc\u9f4a</p> </li> <li> <p>\u8acb\u6c42\u652f\u63f4</p> </li> <li>\u5982\u679c\u9032\u5ea6\u56b4\u91cd\u843d\u5f8c\uff0c\u8003\u616e\u8acb\u6c42\u984d\u5916\u652f\u63f4</li> </ol>"},{"location":"12_Tickets/20_%E5%B7%A5%E4%BD%9C%E6%97%A5%E9%96%8B%E7%99%BC%E8%A8%88%E5%8A%83/#_10","title":"\u7e3d\u7d50","text":"<p>\u672c\u8a08\u5283\u5c07\u539f\u672c 62 \u5929\u7684\u958b\u767c\u6642\u7a0b\u58d3\u7e2e\u81f3 20 \u500b\u5de5\u4f5c\u65e5\uff0c\u6642\u9593\u58d3\u7e2e\u6bd4\u4f8b\u70ba 67.7%\u3002</p> <p>\u95dc\u9375\u6210\u529f\u56e0\u7d20\uff1a 1. \u5145\u5206\u5229\u7528 AI \u8f14\u52a9\u5de5\u5177 2. \u512a\u5148\u5b8c\u6210\u6838\u5fc3\u529f\u80fd 3. \u7c21\u5316\u8907\u96dc\u908f\u8f2f 4. \u964d\u4f4e\u6e2c\u8a66\u8986\u84cb\u7387\u8981\u6c42 5. \u56b4\u683c\u6309\u7167\u8a08\u5283\u57f7\u884c</p> <p>\u98a8\u96aa\uff1a - \u6642\u9593\u6975\u5ea6\u7dca\u8feb\uff0c\u53ef\u80fd\u5f71\u97ff\u4ee3\u78bc\u54c1\u8cea - \u8907\u96dc\u529f\u80fd\u53ef\u80fd\u9700\u8981\u984d\u5916\u6642\u9593 - \u6e2c\u8a66\u8986\u84cb\u7387\u53ef\u80fd\u4e0d\u8db3</p> <p>\u5efa\u8b70\uff1a - \u5982\u679c\u53ef\u80fd\uff0c\u5efa\u8b70\u5ef6\u9577\u81f3 25-30 \u500b\u5de5\u4f5c\u65e5\uff0c\u4ee5\u78ba\u4fdd\u4ee3\u78bc\u54c1\u8cea - \u6216\u8005\u8003\u616e\u589e\u52a0\u5de5\u7a0b\u5e2b\u6578\u91cf\uff0c\u4ee5\u4e26\u884c\u958b\u767c</p> <p>\u6700\u5f8c\u66f4\u65b0\uff1a2024-11-26</p> <p>\u958b\u767c\u9031\u671f\uff1a2024-11-27\uff08\u9031\u4e09\uff09~ 2024-12-24\uff08\u9031\u4e8c\uff09\uff0c\u5171 20 \u500b\u5de5\u4f5c\u65e5</p>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/","title":"TDD Tickets \u6aa2\u8996\u5831\u544a","text":""},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#_1","title":"\u6aa2\u8996\u65e5\u671f","text":"<p>2025-11-28</p>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#_2","title":"\u6aa2\u8996\u7bc4\u570d","text":"<p>\u6240\u6709\u5df2\u6539\u5beb\u7684 TDD tickets\uff0826 \u500b\u6587\u4ef6\uff09</p>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#_3","title":"\u2705 \u7b26\u5408\u898f\u7bc4\u6aa2\u67e5","text":""},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#1-domain-model-tickets-6","title":"1. Domain Model Tickets (6 \u500b)","text":"Ticket ID \u6a19\u984c Namespace Enum Extension Sendable \u72c0\u614b TDD-001 Comment Entity \u2705 <code>PrematchComment</code> \u2705 \u2705 \u2705 \u7b26\u5408 TDD-002 CommentMeta Entity \u2705 <code>PrematchComment</code> \u2705 \u2705 \u2705 \u7b26\u5408 TDD-003 UserInfo Entity \u2705 <code>Shared</code> \u2705 \u2705 \u2705 \u7b26\u5408 TDD-004 Message Entity \u2705 <code>LiveChat</code> \u2705 \u2705 \u2705 \u7b26\u5408 TDD-005 ChatroomInfo Entity \u2705 <code>LiveChat</code> \u2705 \u2705 \u2705 \u7b26\u5408 TDD-006 Value Objects \u2705 <code>Shared</code> / <code>PrematchComment</code> \u2705 \u2705 \u2705 \u7b26\u5408 <p>\u6aa2\u67e5\u9805\u76ee\uff1a - \u2705 \u6240\u6709 Entity \u90fd\u4f7f\u7528 namespace enum\uff08<code>PrematchComment</code>\u3001<code>LiveChat</code>\u3001<code>Shared</code>\uff09 - \u2705 \u6240\u6709 Entity \u90fd\u5b9a\u7fa9\u5728 namespace extension \u5167 - \u2705 \u6240\u6709 Entity \u90fd\u5be6\u4f5c <code>Identifiable</code>\u3001<code>Equatable</code>\u3001<code>Sendable</code> - \u2705 \u6240\u6709\u5c6c\u6027\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 - \u2705 \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c</p>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#2-api-tickets-2","title":"2. API Tickets (2 \u500b)","text":"Ticket ID \u6a19\u984c Namespace Enum Extension \u5206\u96e2 Actor Repository \u72c0\u614b TDD-010 PrematchCommentAPI \u2705 <code>PrematchCommentAPI</code> \u2705 5 \u500b\u6a94\u6848 \u2705 \u2705 \u7b26\u5408 TDD-011 ChatAPI \u2705 <code>ChatAPI</code> \u2705 5 \u500b\u6a94\u6848 \u2705 \u2705 \u7b26\u5408 <p>\u6aa2\u67e5\u9805\u76ee\uff1a - \u2705 \u4f7f\u7528 namespace enum\uff08<code>PrematchCommentAPI</code>\u3001<code>ChatAPI</code>\uff09 - \u2705 \u4f7f\u7528 extension \u5206\u96e2\u95dc\u6ce8\u9ede\uff1a   - <code>XXXAPI.swift</code> - namespace \u5b9a\u7fa9   - <code>XXXAPI+Endpoint.swift</code> - Endpoint \u5b9a\u7fa9   - <code>XXXAPI+Models.swift</code> - API Models \u5b9a\u7fa9   - <code>XXXAPI+RepositoryProtocol.swift</code> - Repository Protocol   - <code>XXXAPI+Repository.swift</code> - Repository \u5be6\u4f5c\uff08actor\uff09 - \u2705 Repository \u4f7f\u7528 <code>actor</code> - \u2705 DTO \u5be6\u4f5c <code>Decodable</code>\u3001<code>Sendable</code></p>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#3-client-tickets-3","title":"3. Client Tickets (3 \u500b)","text":"Ticket ID \u6a19\u984c Struct API Repository \u6574\u5408 \u72c0\u614b TDD-020 PrematchCommentClient \u2705 \u2705 \u2705 \u7b26\u5408 TDD-021 LiveChatClient \u2705 \u2705 \u2705 \u7b26\u5408 TDD-022 ChatWebSocketClient \u2705 <code>actor</code> \u2705 \u2705 \u7b26\u5408 <p>\u6aa2\u67e5\u9805\u76ee\uff1a - \u2705 HTTP Client \u4f7f\u7528 <code>struct</code> - \u2705 WebSocket Client \u4f7f\u7528 <code>actor</code>\uff08\u7dda\u7a0b\u5b89\u5168\uff09 - \u2705 \u5167\u90e8\u4f7f\u7528 <code>XXXAPI.XXXRepository</code> - \u2705 \u65b9\u6cd5\u76f4\u63a5\u59d4\u6d3e\u7d66 Repository - \u2705 \u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26</p>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#4-repository-tickets-2","title":"4. Repository Tickets (2 \u500b)","text":"Ticket ID \u6a19\u984c Actor Protocol DTO \u2192 Domain \u8f49\u63db \u72c0\u614b TDD-030 PrematchCommentRepository \u2705 \u2705 \u2705 Extension \u2705 \u7b26\u5408 TDD-031 LiveChatRepository \u2705 \u2705 \u2705 Extension \u2705 \u7b26\u5408 <p>\u6aa2\u67e5\u9805\u76ee\uff1a - \u2705 Repository \u4f7f\u7528 <code>actor</code> - \u2705 \u5b9a\u7fa9 Repository Protocol - \u2705 DTO \u2192 Domain Model \u8f49\u63db\u4f7f\u7528 extension - \u2705 \u65b9\u6cd5\u4f7f\u7528 <code>async throws</code> - \u2705 \u4f7f\u7528 <code>PrematchComment.XXX</code> / <code>LiveChat.XXX</code> \u547d\u540d\u7a7a\u9593</p>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#5-usecase-tickets-9","title":"5. UseCase Tickets (9 \u500b)","text":"Ticket ID \u6a19\u984c Struct execute(input:) Input/Output Model \u72c0\u614b TDD-040 ReloadCommentListUseCase \u2705 \u2705 \u2705 \u2705 \u7b26\u5408 TDD-041 PublishCommentUseCase \u2705 \u2705 \u2705 \u2705 \u7b26\u5408 TDD-042 ToggleLikeUseCase \u2705 \u2705 \u2705 \u2705 \u7b26\u5408 TDD-043 LoadRepliesUseCase \u2705 \u2705 \u2705 \u2705 \u7b26\u5408 TDD-044 NavigateToProfileUseCase \u2705 \u2705 \u2705 \u2705 \u7b26\u5408 TDD-045 SendChatMessageUseCase \u2705 \u2705 \u2705 \u2705 \u7b26\u5408 TDD-046 JoinChatroomUseCase \u2705 \u2705 \u2705 \u2705 \u7b26\u5408 TDD-047 LeaveChatroomUseCase \u2705 \u2705 \u2705 \u2705 \u7b26\u5408 TDD-048 BlockUserUseCase \u2705 \u2705 \u2705 \u2705 \u7b26\u5408 <p>\u6aa2\u67e5\u9805\u76ee\uff1a - \u2705 UseCase \u4f7f\u7528 <code>struct</code> - \u2705 \u63d0\u4f9b <code>execute(input:)</code> \u65b9\u6cd5 - \u2705 Input/Output \u4f7f\u7528 nested <code>struct</code> - \u2705 Input/Output \u5be6\u4f5c <code>Equatable</code>\u3001<code>Sendable</code> - \u2705 \u4f7f\u7528 <code>PrematchComment.XXX</code> / <code>LiveChat.XXX</code> \u547d\u540d\u7a7a\u9593 - \u2705 \u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26</p>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#6-feature-tickets-2","title":"6. Feature Tickets (2 \u500b)","text":"Ticket ID \u6a19\u984c @Reducer @ObservableState @CasePathable \u72c0\u614b TDD-050 PrematchCommentFeature \u2705 \u2705 \u2705 \u2705 \u7b26\u5408 TDD-051 LiveChatFeature \u2705 \u2705 \u2705 \u2705 \u7b26\u5408 <p>\u6aa2\u67e5\u9805\u76ee\uff1a - \u2705 Feature \u4f7f\u7528 <code>@Reducer</code> macro - \u2705 State \u4f7f\u7528 <code>@ObservableState</code> struct - \u2705 Action \u4f7f\u7528 <code>@CasePathable</code> enum - \u2705 \u4f7f\u7528 <code>@Dependency</code> \u6ce8\u5165\u4f9d\u8cf4 - \u2705 \u4f7f\u7528 <code>Reduce</code> \u5be6\u4f5c reducer \u908f\u8f2f - \u2705 \u4f7f\u7528 <code>Effect</code> \u8655\u7406\u7570\u6b65\u64cd\u4f5c - \u2705 \u653e\u5728 namespace extension \u5167</p>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#7-view-tickets-2","title":"7. View Tickets (2 \u500b)","text":"Ticket ID \u6a19\u984c SwiftUI @Bindable StoreOf \u72c0\u614b TDD-060 PrematchCommentView \u2705 \u2705 \u2705 \u2705 \u7b26\u5408 TDD-061 LiveDetailView \u2705 \u2705 \u2705 \u2705 \u7b26\u5408 <p>\u6aa2\u67e5\u9805\u76ee\uff1a - \u2705 View \u4f7f\u7528 <code>struct</code>\uff0c\u5be6\u4f5c <code>View</code> protocol - \u2705 \u4f7f\u7528 <code>@Bindable</code> \u7d81\u5b9a Store - \u2705 \u4f7f\u7528 <code>StoreOf&lt;Feature&gt;</code> \u985e\u578b - \u2705 \u4f7f\u7528 <code>@ViewBuilder</code> \u7d44\u7e54 View \u7d50\u69cb - \u2705 \u4f7f\u7528 extension \u5206\u96e2 View builders - \u2705 \u4f7f\u7528 MARK \u8a3b\u89e3\u7d44\u7e54\u4ee3\u78bc</p>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#_4","title":"\ud83d\udcca \u6574\u9ad4\u7d71\u8a08","text":""},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#_5","title":"\u7b26\u5408\u898f\u7bc4\u7d71\u8a08","text":"<ul> <li>Domain Model: 6/6 (100%) \u2705</li> <li>API: 2/2 (100%) \u2705</li> <li>Client: 3/3 (100%) \u2705</li> <li>Repository: 2/2 (100%) \u2705</li> <li>UseCase: 9/9 (100%) \u2705</li> <li>Feature: 2/2 (100%) \u2705</li> <li>View: 2/2 (100%) \u2705</li> </ul> <p>\u7e3d\u8a08: 26/26 (100%) \u2705</p>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#_6","title":"\u2705 \u95dc\u9375\u898f\u7bc4\u7b26\u5408\u6027","text":""},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#1-namespace-enum","title":"1. Namespace Enum \u4f7f\u7528","text":"<ul> <li>\u2705 \u6240\u6709 Domain Model \u4f7f\u7528 namespace enum</li> <li>\u2705 \u6240\u6709 API \u4f7f\u7528 namespace enum</li> <li>\u2705 \u547d\u540d\u7a7a\u9593\u6e05\u6670\uff1a<code>PrematchComment</code>\u3001<code>LiveChat</code>\u3001<code>Shared</code>\u3001<code>PrematchCommentAPI</code>\u3001<code>ChatAPI</code></li> </ul>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#2-extension","title":"2. Extension \u5206\u96e2","text":"<ul> <li>\u2705 API \u4f7f\u7528 extension \u5206\u96e2 Endpoint/Models/Repository</li> <li>\u2705 Repository \u4f7f\u7528 extension \u5206\u96e2 DTO \u2192 Domain \u8f49\u63db</li> <li>\u2705 View \u4f7f\u7528 extension \u5206\u96e2 View builders</li> </ul>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#3-actor","title":"3. Actor \u4f7f\u7528","text":"<ul> <li>\u2705 Repository \u4f7f\u7528 <code>actor</code>\uff08\u7dda\u7a0b\u5b89\u5168\uff09</li> <li>\u2705 WebSocket Client \u4f7f\u7528 <code>actor</code></li> </ul>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#4-tca","title":"4. TCA \u6574\u5408","text":"<ul> <li>\u2705 Feature \u4f7f\u7528 <code>@Reducer</code> \u548c <code>@ObservableState</code></li> <li>\u2705 View \u4f7f\u7528 <code>@Bindable</code> \u548c <code>StoreOf&lt;Feature&gt;</code></li> <li>\u2705 Action \u4f7f\u7528 <code>@CasePathable</code> enum</li> </ul>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#5","title":"5. \u547d\u540d\u898f\u7bc4","text":"<ul> <li>\u2705 \u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26</li> <li>\u2705 \u5be6\u4f5c <code>Sendable</code>\u3001<code>Equatable</code> protocols</li> <li>\u2705 \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c</li> </ul>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#_7","title":"\ud83d\udcdd \u5be6\u4f5c\u898f\u7bc4\u4e00\u81f4\u6027","text":""},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#tickets","title":"\u6240\u6709 Tickets \u90fd\u5305\u542b\uff1a","text":"<ol> <li>\u2705 \u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines \u7ae0\u7bc0</li> <li>\u2705 \u6a94\u6848\u7d50\u69cb / File Structure \u8aaa\u660e</li> <li>\u2705 \u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example \u6216 Code Examples</li> <li>\u2705 \u547d\u540d\u898f\u7bc4 / Naming Conventions \u8aaa\u660e</li> <li>\u2705 \u9a57\u6536\u689d\u4ef6 / Acceptance Criteria \u66f4\u65b0</li> </ol>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#_8","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b\u54c1\u8cea","text":"<ul> <li>\u2705 \u6240\u6709\u7bc4\u4f8b\u90fd\u4f7f\u7528\u6b63\u78ba\u7684\u547d\u540d\u7a7a\u9593</li> <li>\u2705 \u6240\u6709\u7bc4\u4f8b\u90fd\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c</li> <li>\u2705 \u6240\u6709\u7bc4\u4f8b\u90fd\u5305\u542b\u5fc5\u8981\u7684 protocols \u548c\u4fee\u98fe\u7b26</li> </ul>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#_9","title":"\ud83c\udfaf \u7d50\u8ad6","text":"<p>\u6240\u6709 26 \u500b TDD tickets \u90fd\u5df2\u6210\u529f\u6539\u5beb\uff0c\u5b8c\u5168\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u7684\u898f\u7bc4\uff1a</p> <ol> <li>\u2705 \u547d\u540d\u7a7a\u9593\u6e05\u6670\uff1a\u4f7f\u7528 namespace enum \u7d44\u7e54\u4ee3\u78bc</li> <li>\u2705 \u95dc\u6ce8\u9ede\u5206\u96e2\uff1a\u4f7f\u7528 extension \u5206\u96e2\u4e0d\u540c\u8077\u8cac</li> <li>\u2705 \u7dda\u7a0b\u5b89\u5168\uff1aRepository \u548c WebSocket Client \u4f7f\u7528 actor</li> <li>\u2705 TCA \u6574\u5408\uff1aFeature \u548c View \u6b63\u78ba\u4f7f\u7528 TCA \u6a21\u5f0f</li> <li>\u2705 \u4e00\u81f4\u6027\uff1a\u6240\u6709 tickets \u9075\u5faa\u76f8\u540c\u7684\u5be6\u4f5c\u898f\u7bc4\u548c\u547d\u540d\u7d04\u5b9a</li> </ol> <p>\u6240\u6709 tickets \u5df2\u6e96\u5099\u597d\u9032\u884c\u958b\u767c\u5be6\u4f5c\uff01 \ud83d\ude80</p>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#_10","title":"\ud83d\udccc \u5efa\u8b70","text":""},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#_11","title":"\u958b\u767c\u6642\u6ce8\u610f\u4e8b\u9805","text":"<ol> <li>\u56b4\u683c\u9075\u5faa\u6a94\u6848\u7d50\u69cb\uff1a\u6309\u7167 TDD \u4e2d\u5b9a\u7fa9\u7684\u6a94\u6848\u7d50\u69cb\u7d44\u7e54\u4ee3\u78bc</li> <li>\u4f7f\u7528\u63d0\u4f9b\u7684\u7a0b\u5f0f\u78bc\u7bc4\u4f8b\uff1a\u4f5c\u70ba\u5be6\u4f5c\u7684\u8d77\u9ede</li> <li>\u9075\u5faa\u547d\u540d\u898f\u7bc4\uff1a\u78ba\u4fdd\u6240\u6709\u547d\u540d\u7b26\u5408 TDD \u4e2d\u7684\u898f\u7bc4</li> <li>\u5be6\u4f5c\u6240\u6709\u9a57\u6536\u689d\u4ef6\uff1a\u78ba\u4fdd\u6240\u6709\u9a57\u6536\u689d\u4ef6\u90fd\u901a\u904e</li> </ol>"},{"location":"12_Tickets/TDD_TICKETS_REVIEW/#_12","title":"\u5f8c\u7e8c\u7dad\u8b77","text":"<ol> <li>\u4fdd\u6301\u4e00\u81f4\u6027\uff1a\u65b0\u589e tickets \u6642\u61c9\u9075\u5faa\u76f8\u540c\u7684\u898f\u7bc4</li> <li>\u66f4\u65b0\u7bc4\u4f8b\uff1a\u5982\u679c\u53c3\u8003\u4ee3\u78bc\u98a8\u683c\u6709\u8b8a\u66f4\uff0c\u61c9\u540c\u6b65\u66f4\u65b0\u6240\u6709 TDD tickets</li> <li>\u6587\u6a94\u540c\u6b65\uff1a\u78ba\u4fdd TDD \u8207\u5be6\u969b\u4ee3\u78bc\u4fdd\u6301\u540c\u6b65</li> </ol>"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/","title":"TDD Tickets \u5b8c\u6574\u6027\u5206\u6790","text":""},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#_1","title":"\u5206\u6790\u65e5\u671f","text":"<p>2025-11-28</p>"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#tickets","title":"\u73fe\u6709 Tickets \u7d71\u8a08","text":"\u985e\u578b \u6578\u91cf Ticket IDs \u72c0\u614b Domain Model 6 TDD-001 ~ TDD-006 \u2705 \u5b8c\u6574 API 2 TDD-010, TDD-011 \u2705 \u5b8c\u6574 Client 3 TDD-020 ~ TDD-022 \u2705 \u5b8c\u6574 Repository 2 TDD-030, TDD-031 \u2705 \u5b8c\u6574 UseCase 9 TDD-040 ~ TDD-048 \u2705 \u5b8c\u6574 Feature 2 TDD-050, TDD-051 \u2705 \u5b8c\u6574 View 2 TDD-060, TDD-061 \u2705 \u5b8c\u6574 \u7e3d\u8a08 26 - \u2705 \u5b8c\u6574"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#_2","title":"\u6a21\u7d44\u8077\u8cac\u5c0d\u7167\u6aa2\u67e5","text":""},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#_3","title":"\u2705 \u5df2\u6db5\u84cb\u7684\u6a21\u7d44","text":""},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#domain-model","title":"Domain Model","text":"<ul> <li>\u2705 Comment Entity (TDD-001)</li> <li>\u2705 CommentMeta Entity (TDD-002)</li> <li>\u2705 UserInfo Entity (TDD-003)</li> <li>\u2705 Message Entity (TDD-004)</li> <li>\u2705 ChatroomInfo Entity (TDD-005)</li> <li>\u2705 Value Objects (TDD-006)</li> </ul>"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#api","title":"API","text":"<ul> <li>\u2705 PrematchCommentAPI (TDD-010)</li> <li>\u2705 ChatAPI (TDD-011)</li> </ul>"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#client","title":"Client","text":"<ul> <li>\u2705 PrematchCommentClient (TDD-020)</li> <li>\u2705 LiveChatClient (TDD-021)</li> <li>\u2705 ChatWebSocketClient (TDD-022)</li> </ul>"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#repository","title":"Repository","text":"<ul> <li>\u2705 PrematchCommentRepository (TDD-030)</li> <li>\u2705 LiveChatRepository (TDD-031)</li> </ul>"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#usecase","title":"UseCase","text":"<ul> <li>\u2705 ReloadCommentListUseCase (TDD-040)</li> <li>\u2705 PublishCommentUseCase (TDD-041)</li> <li>\u2705 ToggleLikeUseCase (TDD-042)</li> <li>\u2705 LoadRepliesUseCase (TDD-043)</li> <li>\u2705 NavigateToProfileUseCase (TDD-044)</li> <li>\u2705 SendChatMessageUseCase (TDD-045)</li> <li>\u2705 JoinChatroomUseCase (TDD-046)</li> <li>\u2705 LeaveChatroomUseCase (TDD-047)</li> <li>\u2705 BlockUserUseCase (TDD-048)</li> </ul>"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#feature","title":"Feature","text":"<ul> <li>\u2705 PrematchCommentFeature (TDD-050)</li> <li>\u2705 LiveChatFeature (TDD-051)</li> </ul>"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#view","title":"View","text":"<ul> <li>\u2705 PrematchCommentView (TDD-060)</li> <li>\u2705 LiveDetailView (TDD-061)</li> </ul>"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#tickets_1","title":"\u4e0d\u9700\u8981 Tickets \u7684\u9805\u76ee","text":""},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#external-shared-modules","title":"External Shared Modules\uff08\u5916\u90e8\u5957\u4ef6\uff09","text":"<p>\u4ee5\u4e0b\u6a21\u7d44\u662f\u5916\u90e8\u5957\u4ef6\uff0c\u4e0d\u9700\u8981\u5be6\u4f5c tickets\uff1a</p> <ol> <li>PersonalPage Package\uff08External\uff09</li> <li>\u8077\u8cac\uff1a\u767b\u5165\u6d41\u7a0b\u3001\u7528\u6236\u8a8d\u8b49</li> <li>\u4f7f\u7528\u65b9\u5f0f\uff1a\u900f\u904e Adapter Protocol \u6574\u5408</li> <li> <p>\u72c0\u614b\uff1a\u2705 \u5df2\u5728\u76f8\u95dc UseCase tickets \u4e2d\u5305\u542b\u6574\u5408\u908f\u8f2f</p> </li> <li> <p>FComSharedFlow Package\uff08External\uff09</p> </li> <li>\u8077\u8cac\uff1aNickname \u5efa\u7acb\u6d41\u7a0b</li> <li>\u4f7f\u7528\u65b9\u5f0f\uff1a\u900f\u904e Adapter Protocol \u6574\u5408</li> <li> <p>\u72c0\u614b\uff1a\u2705 \u5df2\u5728\u76f8\u95dc UseCase tickets \u4e2d\u5305\u542b\u6574\u5408\u908f\u8f2f</p> </li> <li> <p>FactsCenter Package\uff08External\uff09</p> </li> <li>\u8077\u8cac\uff1aEvent Status \u8a02\u95b1\u8207\u901a\u77e5</li> <li>\u4f7f\u7528\u65b9\u5f0f\uff1a\u900f\u904e Protocol \u6574\u5408</li> <li>\u72c0\u614b\uff1a\u2705 \u5df2\u5728 PrematchCommentFeature ticket \u4e2d\u5305\u542b\u6574\u5408\u908f\u8f2f</li> </ol>"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#tickets_2","title":"\u5df2\u5305\u542b\u5728\u73fe\u6709 Tickets \u4e2d\u7684\u9805\u76ee","text":"<ol> <li>\u932f\u8aa4\u8655\u7406\uff08Error Handling\uff09</li> <li>\u2705 \u5df2\u5728\u6240\u6709 Client\u3001Repository\u3001UseCase tickets \u4e2d\u5305\u542b</li> <li> <p>\u2705 \u6709\u5c08\u9580\u7684 Error Handling \u6587\u6a94\uff08<code>09_Error Handling/01_error_handling.md</code>\uff09</p> </li> <li> <p>\u6e2c\u8a66\uff08Testing\uff09</p> </li> <li>\u2705 \u5df2\u5728\u6240\u6709 tickets \u7684\u9a57\u6536\u689d\u4ef6\u4e2d\u5305\u542b</li> <li>\u2705 \u6709\u5c08\u9580\u7684 Test Scenarios \u6587\u6a94\uff08<code>10_Test Scenarios/01_test_scenarios.md</code>\uff09</li> <li> <p>\u2705 \u6bcf\u500b ticket \u90fd\u8981\u6c42 Unit Test \u8986\u84cb\u7387 \u2265 80-90%</p> </li> <li> <p>DTO \u2192 Domain Model \u8f49\u63db</p> </li> <li> <p>\u2705 \u5df2\u5728 Repository tickets \u4e2d\u5305\u542b\uff08\u4f7f\u7528 extension\uff09</p> </li> <li> <p>Adapter Protocol \u6574\u5408</p> </li> <li>\u2705 \u5df2\u5728\u76f8\u95dc UseCase tickets \u4e2d\u5305\u542b\uff08PublishCommentUseCase\u3001SendChatMessageUseCase \u7b49\uff09</li> </ol>"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#tickets_3","title":"\u6f5b\u5728\u53ef\u9078 Tickets\uff08\u975e\u5fc5\u9808\uff09","text":""},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#1-ticket","title":"1. \u6574\u5408\u6e2c\u8a66 Ticket\uff08\u53ef\u9078\uff09","text":"<p>\u5efa\u8b70 ID: TDD-070\uff08\u5982\u679c\u9700\u8981\u7684\u8a71\uff09</p> <p>\u8aaa\u660e\uff1a - \u7aef\u5230\u7aef\u6574\u5408\u6e2c\u8a66 - \u8de8\u5c64\u7d1a\u6574\u5408\u6e2c\u8a66 - \u4f46\u9019\u901a\u5e38\u53ef\u4ee5\u5728\u5404\u500b tickets \u7684 Integration Test \u4e2d\u5b8c\u6210</p> <p>\u5efa\u8b70\uff1a\u274c \u4e0d\u9700\u8981\uff0c\u56e0\u70ba\uff1a - \u6bcf\u500b ticket \u90fd\u5df2\u6709 Integration Test \u8981\u6c42 - \u53ef\u4ee5\u5728 Feature/View tickets \u4e2d\u6db5\u84cb\u7aef\u5230\u7aef\u6e2c\u8a66</p>"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#2-ticket","title":"2. \u6548\u80fd\u512a\u5316 Ticket\uff08\u53ef\u9078\uff09","text":"<p>\u5efa\u8b70 ID: TDD-071\uff08\u5982\u679c\u9700\u8981\u7684\u8a71\uff09</p> <p>\u8aaa\u660e\uff1a - \u6548\u80fd\u512a\u5316 - \u5feb\u53d6\u7b56\u7565 - \u4f46\u9019\u901a\u5e38\u53ef\u4ee5\u5728\u5404\u500b tickets \u7684\u5be6\u4f5c\u4e2d\u5b8c\u6210</p> <p>\u5efa\u8b70\uff1a\u274c \u4e0d\u9700\u8981\uff0c\u56e0\u70ba\uff1a - \u6548\u80fd\u512a\u5316\u53ef\u4ee5\u5728\u5404\u500b tickets \u7684\u5be6\u4f5c\u4e2d\u5b8c\u6210 - \u53ef\u4ee5\u5728\u5f8c\u7e8c\u8fed\u4ee3\u4e2d\u8655\u7406</p>"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#3-ticket","title":"3. \u6587\u6a94 Ticket\uff08\u53ef\u9078\uff09","text":"<p>\u8aaa\u660e\uff1a - API \u6587\u6a94 - \u4f7f\u7528\u8aaa\u660e\u6587\u6a94 - \u4f46\u9019\u4e9b\u5df2\u7d93\u5728 TDD \u6587\u6a94\u4e2d\u5b8c\u6210</p> <p>\u5efa\u8b70\uff1a\u274c \u4e0d\u9700\u8981\uff0c\u56e0\u70ba\uff1a - TDD \u6587\u6a94\u5df2\u7d93\u975e\u5e38\u5b8c\u6574 - \u4e0d\u9700\u8981\u984d\u5916\u7684\u6587\u6a94 tickets</p>"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#_4","title":"\u7d50\u8ad6","text":""},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#tickets_4","title":"\u2705 \u4e0d\u9700\u8981\u6dfb\u52a0\u65b0\u7684 tickets","text":"<p>\u7406\u7531\uff1a</p> <ol> <li>\u6240\u6709\u6838\u5fc3\u5be6\u4f5c\u7d44\u4ef6\u90fd\u5df2\u6db5\u84cb</li> <li> <p>Domain Model\u3001API\u3001Client\u3001Repository\u3001UseCase\u3001Feature\u3001View \u90fd\u5df2\u5b8c\u6574</p> </li> <li> <p>\u6240\u6709\u6a21\u7d44\u8077\u8cac\u90fd\u5df2\u5c0d\u61c9</p> </li> <li> <p>\u6a21\u7d44\u8077\u8cac\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u6a21\u7d44\u90fd\u6709\u5c0d\u61c9\u7684 tickets</p> </li> <li> <p>\u5916\u90e8\u4f9d\u8cf4\u5df2\u6b63\u78ba\u8655\u7406</p> </li> <li> <p>External Shared Modules \u900f\u904e Adapter Protocol \u6574\u5408\uff0c\u5df2\u5728\u76f8\u95dc UseCase tickets \u4e2d\u5305\u542b</p> </li> <li> <p>\u975e\u6838\u5fc3\u529f\u80fd\u5df2\u5305\u542b</p> </li> <li> <p>\u932f\u8aa4\u8655\u7406\u3001\u6e2c\u8a66\u3001DTO \u8f49\u63db\u7b49\u90fd\u5df2\u5305\u542b\u5728\u73fe\u6709 tickets \u4e2d</p> </li> <li> <p>\u53ef\u9078\u9805\u76ee\u975e\u5fc5\u9808</p> </li> <li>\u6574\u5408\u6e2c\u8a66\u3001\u6548\u80fd\u512a\u5316\u3001\u6587\u6a94\u7b49\u53ef\u4ee5\u5728\u73fe\u6709 tickets \u4e2d\u5b8c\u6210\u6216\u5f8c\u7e8c\u8fed\u4ee3\u8655\u7406</li> </ol>"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#_5","title":"\ud83d\udcca \u5b8c\u6574\u6027\u8a55\u5206","text":"\u9805\u76ee \u8a55\u5206 \u8aaa\u660e \u6838\u5fc3\u5be6\u4f5c\u7d44\u4ef6 \u2705 100% \u6240\u6709\u6838\u5fc3\u7d44\u4ef6\u90fd\u6709\u5c0d\u61c9 tickets \u6a21\u7d44\u8077\u8cac\u5c0d\u61c9 \u2705 100% \u6240\u6709\u6a21\u7d44\u8077\u8cac\u90fd\u6709\u5c0d\u61c9 tickets \u5916\u90e8\u4f9d\u8cf4\u6574\u5408 \u2705 100% \u5916\u90e8\u4f9d\u8cf4\u6574\u5408\u5df2\u5728\u76f8\u95dc tickets \u4e2d\u5305\u542b \u975e\u6838\u5fc3\u529f\u80fd \u2705 100% \u932f\u8aa4\u8655\u7406\u3001\u6e2c\u8a66\u7b49\u90fd\u5df2\u5305\u542b \u6574\u9ad4\u5b8c\u6574\u6027 \u2705 100% \u6240\u6709\u5fc5\u8981\u7684 tickets \u90fd\u5df2\u5305\u542b"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#_6","title":"\u5efa\u8b70","text":""},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#_7","title":"\u958b\u767c\u968e\u6bb5","text":"<ol> <li>\u6309\u7167\u73fe\u6709 tickets \u9806\u5e8f\u958b\u767c\uff1a\u9075\u5faa README.md \u4e2d\u7684\u958b\u767c\u9806\u5e8f</li> <li>\u78ba\u4fdd\u9a57\u6536\u689d\u4ef6\uff1a\u6bcf\u500b ticket \u90fd\u8981\u6eff\u8db3\u6240\u6709\u9a57\u6536\u689d\u4ef6</li> <li>\u4fdd\u6301\u4e00\u81f4\u6027\uff1a\u9075\u5faa\u53c3\u8003\u4ee3\u78bc\u98a8\u683c\u548c\u547d\u540d\u898f\u7bc4</li> </ol>"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#_8","title":"\u5f8c\u7e8c\u7dad\u8b77","text":"<ol> <li>\u6839\u64da\u5be6\u969b\u9700\u6c42\u8abf\u6574\uff1a\u5982\u679c\u958b\u767c\u904e\u7a0b\u4e2d\u767c\u73fe\u9700\u8981\u984d\u5916\u7684 tickets\uff0c\u53ef\u4ee5\u96a8\u6642\u6dfb\u52a0</li> <li>\u4fdd\u6301\u6587\u6a94\u540c\u6b65\uff1a\u78ba\u4fdd TDD \u6587\u6a94\u8207\u5be6\u969b\u4ee3\u78bc\u4fdd\u6301\u540c\u6b65</li> <li>\u5b9a\u671f\u6aa2\u8996\uff1a\u5b9a\u671f\u6aa2\u8996 tickets \u7684\u5b8c\u6574\u6027\u548c\u6e96\u78ba\u6027</li> </ol>"},{"location":"12_Tickets/TICKETS_COMPLETENESS_ANALYSIS/#_9","title":"\u7e3d\u7d50","text":"<p>\u2705 \u6240\u6709\u5fc5\u8981\u7684 tickets \u90fd\u5df2\u5305\u542b\uff0c\u4e0d\u9700\u8981\u6dfb\u52a0\u65b0\u7684 tickets\u3002</p> <p>\u73fe\u6709\u7684 26 \u500b tickets \u5df2\u7d93\u5b8c\u6574\u6db5\u84cb\u4e86\uff1a - \u6240\u6709\u6838\u5fc3\u5be6\u4f5c\u7d44\u4ef6 - \u6240\u6709\u6a21\u7d44\u8077\u8cac - \u6240\u6709\u5916\u90e8\u4f9d\u8cf4\u6574\u5408 - \u6240\u6709\u975e\u6838\u5fc3\u529f\u80fd\uff08\u932f\u8aa4\u8655\u7406\u3001\u6e2c\u8a66\u7b49\uff09</p> <p>\u53ef\u4ee5\u958b\u59cb\u6309\u7167 tickets \u9806\u5e8f\u9032\u884c\u958b\u767c\uff01 \ud83d\ude80</p>"},{"location":"12_Tickets/jira_tickets_mapping/","title":"Local Tickets \u8207 Jira Tickets \u5c0d\u61c9\u8868","text":"<p>\u672c\u6587\u4ef6\u5217\u51fa\u6240\u6709 Local Tickets \u5c0d\u61c9\u7684 Jira Ticket \u9023\u7d50\u53ca\u958b\u767c\u6642\u9593\u8cc7\u8a0a\u3002</p> <p>\u6700\u5f8c\u66f4\u65b0: $(date +%Y-%m-%d\\ %H:%M)</p>"},{"location":"12_Tickets/jira_tickets_mapping/#_1","title":"\u5b8c\u6574\u5c0d\u61c9\u8868","text":"Ticket ID \u6a19\u984c Jira Key Jira \u9023\u7d50 \u539f\u59cb\u4f30\u6642 \u5df2\u82b1\u8cbb\u6642\u9593 \u5269\u9918\u6642\u9593 \u5efa\u7acb\u6642\u9593 \u66f4\u65b0\u6642\u9593 \u89e3\u6c7a\u6642\u9593 \u72c0\u614b"},{"location":"12_Tickets/jira_tickets_mapping/#_2","title":"\u7d71\u8a08\u8cc7\u8a0a","text":""},{"location":"12_Tickets/jira_tickets_mapping/#_3","title":"\u6309\u72c0\u614b\u7d71\u8a08","text":"\u72c0\u614b \u6578\u91cf \u9032\u884c\u4e2d $(sqlite3 \"$DB_FILE\" \"SELECT COUNT(*) FROM jira_issues WHERE status = '\u9032\u884c\u4e2d';\") Backlog $(sqlite3 \"$DB_FILE\" \"SELECT COUNT(*) FROM jira_issues WHERE status = 'Backlog';\")"},{"location":"12_Tickets/jira_tickets_mapping/#_4","title":"\u5099\u8a3b","text":"<ul> <li>\u6642\u9593\u683c\u5f0f\u8aaa\u660e:</li> <li><code>2h 24m</code> = 2 \u5c0f\u6642 24 \u5206\u9418</li> <li><code>1d</code> = 1 \u5929</li> <li> <p><code>1w</code> = 1 \u9031</p> </li> <li> <p>\u72c0\u614b\u8aaa\u660e:</p> </li> <li><code>\u9032\u884c\u4e2d</code>: \u76ee\u524d\u6b63\u5728\u958b\u767c\u4e2d</li> <li> <p><code>Backlog</code>: \u5f85\u958b\u767c</p> </li> <li> <p>\u8cc7\u6599\u4f86\u6e90: <code>jira_tickets.db</code> \u8cc7\u6599\u5eab</p> </li> <li>\u66f4\u65b0\u65b9\u5f0f: \u57f7\u884c <code>./generate_jira_mapping.sh</code> \u5373\u53ef\u66f4\u65b0\u6b64\u6587\u4ef6</li> </ul>"},{"location":"12_Tickets/ticket_timeline/","title":"Ticket \u5be6\u4f5c\u6642\u9593\u8868","text":"<p>\u672c\u6587\u4ef6\u5217\u51fa\u6240\u6709 Ticket \u7684\u5be6\u4f5c\u6642\u9593\uff0c\u6309\u7167\u7d50\u675f\u65e5\u671f\uff08end_date\uff09\u6392\u5e8f\u3002</p> <p>\u6ce8\u610f\uff1a\u5df2\u6392\u9664 2025-12-18\uff08\u9031\u56db\uff09\u8acb\u5047\u65e5\u3002</p> ticket_id jira_key ticket_title start_date end_date duration (days) MAIN-View-EN FOOTBALL-9200 View Layer 2025-12-17 2025-12-26 10.0 MAIN-Feature-EN FOOTBALL-9197 Feature Layer 2025-12-16 2025-12-24 9.0 MAIN-UseCase-EN FOOTBALL-9187 UseCase Layer 2025-12-08 2025-12-22 15.0 MAIN-Repository-EN FOOTBALL-9184 Repository Layer 2025-12-04 2025-12-10 7.0 MAIN-Client-EN FOOTBALL-9180 Client Layer 2025-12-02 2025-12-10 9.0 MAIN-API-EN FOOTBALL-9177 API Layer 2025-12-01 2025-12-03 3.0 MAIN-Domain-Model-EN FOOTBALL-9170 Domain Model Layer 2025-11-27 2025-12-01 5.0 TDD-001 FOOTBALL-9171 \u5be6\u4f5c Comment Entity 2025-11-27 2025-11-28 0.3 TDD-002 FOOTBALL-9172 \u5be6\u4f5c CommentMeta Entity 2025-11-27 2025-11-28 0.3 TDD-003 FOOTBALL-9173 \u5be6\u4f5c UserInfo Entity 2025-11-27 2025-11-28 0.3 TDD-004 FOOTBALL-9174 \u5be6\u4f5c Message Entity 2025-11-28 2025-12-01 0.3 TDD-005 FOOTBALL-9175 \u5be6\u4f5c ChatroomInfo Entity 2025-11-28 2025-12-01 0.3 TDD-006 FOOTBALL-9176 \u5be6\u4f5c Value Objects\uff08SortMode\u3001Cursor\u3001PagingInfo\uff09 2025-11-28 2025-12-01 1.0 TDD-010 FOOTBALL-9178 \u5be6\u4f5c PrematchCommentAPI \u5b9a\u7fa9 2025-12-01 2025-12-02 1.0 TDD-011 FOOTBALL-9179 \u5be6\u4f5c ChatAPI \u5b9a\u7fa9 2025-12-01 2025-12-03 2.0 TDD-021 FOOTBALL-9182 \u5be6\u4f5c LiveChatClient\uff08HTTP\uff09 2025-12-02 2025-12-03 1.0 TDD-020 FOOTBALL-9181 \u5be6\u4f5c PrematchCommentClient\uff08HTTP\uff09 2025-12-02 2025-12-04 2.0 TDD-030 FOOTBALL-9185 \u5be6\u4f5c PrematchCommentRepository 2025-12-04 2025-12-08 2.0 TDD-022 FOOTBALL-9183 \u5be6\u4f5c ChatWebSocketClient\uff08WebSocket\uff09 2025-12-03 2025-12-10 5.0 TDD-031 FOOTBALL-9186 \u5be6\u4f5c LiveChatRepository 2025-12-05 2025-12-10 3.0 TDD-040 FOOTBALL-9188 \u5be6\u4f5c ReloadCommentListUseCase 2025-12-08 2025-12-10 2.0 TDD-042 FOOTBALL-9190 \u5be6\u4f5c ToggleLikeUseCase 2025-12-10 2025-12-12 2.0 TDD-043 FOOTBALL-9191 \u5be6\u4f5c LoadRepliesUseCase 2025-12-10 2025-12-12 2.0 TDD-044 FOOTBALL-9192 \u5be6\u4f5c NavigateToProfileUseCase 2025-12-11 2025-12-12 1.0 TDD-041 FOOTBALL-9189 \u5be6\u4f5c PublishCommentUseCase 2025-12-09 2025-12-16 5.0 TDD-048 FOOTBALL-9196 \u5be6\u4f5c BlockUserUseCase 2025-12-15 2025-12-16 1.0 TDD-047 FOOTBALL-9195 \u5be6\u4f5c LeaveChatroomUseCase 2025-12-15 2025-12-17 2.0 TDD-045 FOOTBALL-9193 \u5be6\u4f5c SendChatMessageUseCase 2025-12-11 2025-12-19 5.0 TDD-046 FOOTBALL-9194 \u5be6\u4f5c JoinChatroomUseCase 2025-12-12 2025-12-22 5.0 TDD-050 FOOTBALL-9198 \u5be6\u4f5c PrematchCommentFeature\uff08TCA Reducer\uff09 2025-12-16 2025-12-22 3.0 TDD-051 FOOTBALL-9199 \u5be6\u4f5c LiveChatFeature\uff08TCA Reducer\uff09 2025-12-16 2025-12-24 5.0 TDD-060 FOOTBALL-9201 \u5be6\u4f5c PrematchCommentView 2025-12-17 2025-12-25 5.0 TDD-061 FOOTBALL-9202 \u5be6\u4f5c LiveDetailView 2025-12-19 2025-12-26 5.0"},{"location":"12_Tickets/01_domain_model/TDD-001_Comment_Entity/","title":"TDD-001: Comment Entity","text":""},{"location":"12_Tickets/01_domain_model/TDD-001_Comment_Entity/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-001 Jira Key FOOTBALL-9171 \u6a19\u984c \u5be6\u4f5c Comment Entity \u985e\u578b Domain Model \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature PrematchComment \u4f9d\u8cf4 Ticket - Story Point 1 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a0.3 \u5929\u6700\u56b4\u53b2\uff1a0.2 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-11-27 (\u9031\u56db)"},{"location":"12_Tickets/01_domain_model/TDD-001_Comment_Entity/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5b9a\u7fa9 Comment Entity Domain Model\u3002 / Define Comment Entity Domain Model\u3002</p>"},{"location":"12_Tickets/01_domain_model/TDD-001_Comment_Entity/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5b9a\u7fa9 <code>PrematchComment</code> namespace enum / Define <code>PrematchComment</code> namespace enum</li> <li>\u5728 namespace \u5167\u5b9a\u7fa9 <code>Comment</code> struct / Define <code>Comment</code> struct within namespace</li> <li>\u5be6\u4f5c <code>Identifiable</code>\u3001<code>Equatable</code>\u3001<code>Sendable</code> / Implement <code>Identifiable</code>, <code>Equatable</code>, <code>Sendable</code></li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> <li>\u5b9a\u7fa9\u6240\u6709\u5fc5\u8981\u6b04\u4f4d\uff08id\u3001content\u3001likeCount\u3001authorId \u7b49\uff09 / Define all required fields (id, content, likeCount, authorId, etc.)</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/PrematchComment/Models/PrematchComment.swift</code> / File structure: <code>Sources/PrematchComment/Models/PrematchComment.swift</code></li> </ol>"},{"location":"12_Tickets/01_domain_model/TDD-001_Comment_Entity/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/01_domain_model/TDD-001_Comment_Entity/#file-structure","title":"\u6a94\u6848\u7d50\u69cb / File Structure","text":"<pre><code>Sources/PrematchComment/Models/\n  \u2514\u2500\u2500 PrematchComment.swift\n</code></pre>"},{"location":"12_Tickets/01_domain_model/TDD-001_Comment_Entity/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import Foundation\n\n/// The namespace for types and functions related to PrematchComment\npublic enum PrematchComment {}\n\nextension PrematchComment {\n    public struct Comment: Identifiable, Equatable, Sendable {\n        public let id: String\n        public let content: String\n        public var likeCount: Int\n        public let authorId: String\n        public let authorNickname: String?\n        public let parentId: String?\n        public let createdAt: Date\n        public let refId: String\n        public let repliesCount: Int\n        public let likedByMe: Bool\n        public let isIsolated: Bool\n        public let isDeleted: Bool\n\n        public init(\n            id: String,\n            content: String,\n            likeCount: Int,\n            authorId: String,\n            authorNickname: String?,\n            parentId: String?,\n            createdAt: Date,\n            refId: String,\n            repliesCount: Int,\n            likedByMe: Bool,\n            isIsolated: Bool,\n            isDeleted: Bool\n        ) {\n            self.id = id\n            self.content = content\n            self.likeCount = likeCount\n            self.authorId = authorId\n            self.authorNickname = authorNickname\n            self.parentId = parentId\n            self.createdAt = createdAt\n            self.refId = refId\n            self.repliesCount = repliesCount\n            self.likedByMe = likedByMe\n            self.isIsolated = isIsolated\n            self.isDeleted = isDeleted\n        }\n\n        // Equatable: \u900f\u904e id \u4f86\u6bd4\u8f03\n        public static func == (lhs: Comment, rhs: Comment) -&gt; Bool {\n            lhs.id == rhs.id\n        }\n    }\n}\n</code></pre>"},{"location":"12_Tickets/01_domain_model/TDD-001_Comment_Entity/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>\u4f7f\u7528 <code>PrematchComment</code> \u4f5c\u70ba namespace enum / Use <code>PrematchComment</code> as namespace enum</li> <li>Entity \u4f7f\u7528 <code>public struct</code>\uff0c\u653e\u5728 namespace extension \u5167 / Entity uses <code>public struct</code>, placed within namespace extension</li> <li>\u6240\u6709\u5c6c\u6027\u4f7f\u7528 <code>public let</code> \u6216 <code>public var</code> / All properties use <code>public let</code> or <code>public var</code></li> <li>\u5be6\u4f5c <code>Identifiable</code>\u3001<code>Equatable</code>\u3001<code>Sendable</code> protocols / Implement <code>Identifiable</code>, <code>Equatable</code>, <code>Sendable</code> protocols</li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-001_Comment_Entity/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>PrematchComment</code> namespace enum \u5b9a\u7fa9\u5b8c\u6210 / <code>PrematchComment</code> namespace enum definition complete</li> <li>[ ] <code>Comment</code> struct \u5b9a\u7fa9\u5728 namespace extension \u5167 / <code>Comment</code> struct defined within namespace extension</li> <li>[ ] \u6240\u6709\u6b04\u4f4d\u985e\u578b\u6b63\u78ba\uff0c\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / All field types correct, using <code>public</code> modifier</li> <li>[ ] \u5be6\u4f5c <code>Identifiable</code>\u3001<code>Equatable</code>\u3001<code>Sendable</code> protocols / Implement <code>Identifiable</code>, <code>Equatable</code>, <code>Sendable</code> protocols</li> <li>[ ] Equatable \u5be6\u4f5c\u6b63\u78ba\uff08\u900f\u904e id \u6bd4\u8f03\uff09 / Equatable implementation correct (compare by id)</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 80% / Unit Test Coverage \u2265 80%</li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-001_Comment_Entity/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>Domain Model \u5b9a\u7fa9\uff1a<code>output/LiveChat&amp;PrematchComment/04_Domain Model/01_domain_model.md</code></li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-001_Comment_Entity_en/","title":"TDD-001: Comment Entity","text":""},{"location":"12_Tickets/01_domain_model/TDD-001_Comment_Entity_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-001 |  | |  | Jira Key | FOOTBALL-9171 |  | |  | Implement Comment Entity |  | |  | Type | Domain Model |  | |  | P0 |  | |  | PrematchComment |  | |  | - |  | |  | Story Point | 1 |  | |  | Standard\uff1a0.3 daysMost Stringent\uff1a0.2 days |  |</p>"},{"location":"12_Tickets/01_domain_model/TDD-001_Comment_Entity_en/#description","title":"Description","text":"<p>Define Comment Entity Domain Model\u3002</p>"},{"location":"12_Tickets/01_domain_model/TDD-001_Comment_Entity_en/#requirements","title":"Requirements","text":"<ol> <li>Define Comment Structure</li> <li>Implement Identifiable and Equatable</li> <li>Define all required fields (id, content, likeCount, authorId, etc.)</li> </ol>"},{"location":"12_Tickets/01_domain_model/TDD-001_Comment_Entity_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Comment Entity Definition Complete</li> <li>[ ] All fields have correct types</li> <li>[ ] Equatable implementation is correct (compare via id)</li> <li>[ ] Unit Test Coverage \u2265 80%</li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-001_Comment_Entity_en/#related-documents","title":"Related Documents","text":"<ul> <li>Domain Model Definition: <code>output/LiveChat&amp;PrematchComment/04_Domain Model/01_domain_model.md</code></li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-002_CommentMeta_Entity/","title":"TDD-002: CommentMeta Entity","text":""},{"location":"12_Tickets/01_domain_model/TDD-002_CommentMeta_Entity/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-002 Jira Key FOOTBALL-9172 \u6a19\u984c \u5be6\u4f5c CommentMeta Entity \u985e\u578b Domain Model \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature PrematchComment \u4f9d\u8cf4 Ticket - Story Point 1 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a0.3 \u5929\u6700\u56b4\u53b2\uff1a0.2 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-11-27 (\u9031\u56db)"},{"location":"12_Tickets/01_domain_model/TDD-002_CommentMeta_Entity/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5b9a\u7fa9 CommentMeta Entity Domain Model\u3002 / Define CommentMeta Entity Domain Model\u3002</p>"},{"location":"12_Tickets/01_domain_model/TDD-002_CommentMeta_Entity/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5728 <code>PrematchComment</code> namespace \u5167\u5b9a\u7fa9 <code>CommentMeta</code> struct / Define <code>CommentMeta</code> struct within <code>PrematchComment</code> namespace</li> <li>\u5be6\u4f5c <code>Identifiable</code>\u3001<code>Equatable</code>\u3001<code>Sendable</code> / Implement <code>Identifiable</code>, <code>Equatable</code>, <code>Sendable</code></li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> <li>\u5b9a\u7fa9\u6240\u6709\u5fc5\u8981\u6b04\u4f4d\uff08id\u3001commentCount\u3001betCount\u3001refId\uff09 / Define all required fields (id, commentCount, betCount, refId)</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a\u8207 <code>Comment</code> \u653e\u5728\u540c\u4e00\u500b\u6a94\u6848 <code>PrematchComment.swift</code> / File structure: Place in same file <code>PrematchComment.swift</code> as <code>Comment</code></li> </ol>"},{"location":"12_Tickets/01_domain_model/TDD-002_CommentMeta_Entity/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/01_domain_model/TDD-002_CommentMeta_Entity/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>extension PrematchComment {\n    public struct CommentMeta: Identifiable, Equatable, Sendable {\n        public let id: String\n        public let commentCount: Int\n        public let betCount: String\n        public let refId: String\n\n        public init(\n            id: String,\n            commentCount: Int,\n            betCount: String,\n            refId: String\n        ) {\n            self.id = id\n            self.commentCount = commentCount\n            self.betCount = betCount\n            self.refId = refId\n        }\n\n        // Equatable: \u900f\u904e id \u4f86\u6bd4\u8f03\n        public static func == (lhs: CommentMeta, rhs: CommentMeta) -&gt; Bool {\n            lhs.id == rhs.id\n        }\n    }\n}\n</code></pre>"},{"location":"12_Tickets/01_domain_model/TDD-002_CommentMeta_Entity/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>CommentMeta</code> struct \u5b9a\u7fa9\u5728 <code>PrematchComment</code> namespace extension \u5167 / <code>CommentMeta</code> struct defined within <code>PrematchComment</code> namespace extension</li> <li>[ ] \u6240\u6709\u6b04\u4f4d\u985e\u578b\u6b63\u78ba\uff0c\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / All field types correct, using <code>public</code> modifier</li> <li>[ ] \u5be6\u4f5c <code>Identifiable</code>\u3001<code>Equatable</code>\u3001<code>Sendable</code> protocols / Implement <code>Identifiable</code>, <code>Equatable</code>, <code>Sendable</code> protocols</li> <li>[ ] Equatable \u5be6\u4f5c\u6b63\u78ba\uff08\u900f\u904e id \u6bd4\u8f03\uff09 / Equatable implementation correct (compare by id)</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 80% / Unit Test Coverage \u2265 80%</li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-002_CommentMeta_Entity/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>Domain Model \u5b9a\u7fa9\uff1a<code>output/LiveChat&amp;PrematchComment/04_Domain Model/01_domain_model.md</code></li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-002_CommentMeta_Entity_en/","title":"TDD-002: CommentMeta Entity","text":""},{"location":"12_Tickets/01_domain_model/TDD-002_CommentMeta_Entity_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-002 | | Jira Key | FOOTBALL-9172 |  | |  | Implement CommentMeta Entity |  | |  | Type | Domain Model |  | |  | P0 |  | |  | PrematchComment |  | |  | - |  | |  | Story Point | 1 |  | |  | Standard\uff1a0.3 daysMost Stringent\uff1a0.2 days |  |</p>"},{"location":"12_Tickets/01_domain_model/TDD-002_CommentMeta_Entity_en/#description","title":"Description","text":"<p>Define CommentMeta Entity Domain Model\u3002</p>"},{"location":"12_Tickets/01_domain_model/TDD-002_CommentMeta_Entity_en/#requirements","title":"Requirements","text":"<ol> <li>Define CommentMeta Structure</li> <li>Implement Identifiable and Equatable</li> <li>Define all required fields (id, CommentCount, betCount, refId)</li> </ol>"},{"location":"12_Tickets/01_domain_model/TDD-002_CommentMeta_Entity_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] CommentMeta Entity Definition Complete</li> <li>[ ] All fields have correct types</li> <li>[ ] Equatable implementation is correct (compare via id)</li> <li>[ ] Unit Test Coverage \u2265 80%</li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-002_CommentMeta_Entity_en/#related-documents","title":"Related Documents","text":"<ul> <li>Domain Model Definition: <code>output/LiveChat&amp;PrematchComment/04_Domain Model/01_domain_model.md</code></li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-003_UserInfo_Entity/","title":"TDD-003: UserInfo Entity","text":""},{"location":"12_Tickets/01_domain_model/TDD-003_UserInfo_Entity/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-003 Jira Key FOOTBALL-9173 \u6a19\u984c \u5be6\u4f5c UserInfo Entity \u985e\u578b Domain Model \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature LiveChat &amp; PrematchComment \u4f9d\u8cf4 Ticket - Story Point 1 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a0.3 \u5929\u6700\u56b4\u53b2\uff1a0.2 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-11-27 (\u9031\u56db)"},{"location":"12_Tickets/01_domain_model/TDD-003_UserInfo_Entity/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5b9a\u7fa9 UserInfo Entity Domain Model\u3002 / Define UserInfo Entity Domain Model\u3002</p>"},{"location":"12_Tickets/01_domain_model/TDD-003_UserInfo_Entity/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5b9a\u7fa9 <code>LiveChat</code> \u548c <code>PrematchComment</code> namespace enum\uff08\u5171\u7528\uff09 / Define <code>LiveChat</code> and <code>PrematchComment</code> namespace enum (shared)</li> <li>\u5728 namespace \u5167\u5b9a\u7fa9 <code>UserInfo</code> struct / Define <code>UserInfo</code> struct within namespace</li> <li>\u5be6\u4f5c <code>Identifiable</code>\u3001<code>Equatable</code>\u3001<code>Sendable</code> / Implement <code>Identifiable</code>, <code>Equatable</code>, <code>Sendable</code></li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> <li>\u5b9a\u7fa9\u6240\u6709\u5fc5\u8981\u6b04\u4f4d\uff08id\u3001nickname\u3001avatar\u3001tierLevel\u3001countryCode\uff09 / Define all required fields (id, nickname, avatar, tierLevel, countryCode)</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a\u53ef\u653e\u5728 <code>PrematchComment.swift</code> \u6216 <code>LiveChat.swift</code>\uff0c\u6216\u5efa\u7acb\u5171\u7528\u7684 <code>Models/Shared/UserInfo.swift</code> / File structure: Can place in <code>PrematchComment.swift</code> or <code>LiveChat.swift</code>, or create shared <code>Models/Shared/UserInfo.swift</code></li> </ol>"},{"location":"12_Tickets/01_domain_model/TDD-003_UserInfo_Entity/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/01_domain_model/TDD-003_UserInfo_Entity/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>// \u9078\u9805 1: \u653e\u5728 PrematchComment namespace\nextension PrematchComment {\n    public struct UserInfo: Identifiable, Equatable, Sendable {\n        public let id: String\n        public let nickname: String?\n        public let avatar: String?\n        public let tierLevel: String?\n        public let countryCode: String?\n\n        public init(\n            id: String,\n            nickname: String?,\n            avatar: String?,\n            tierLevel: String?,\n            countryCode: String?\n        ) {\n            self.id = id\n            self.nickname = nickname\n            self.avatar = avatar\n            self.tierLevel = tierLevel\n            self.countryCode = countryCode\n        }\n\n        // Equatable: \u900f\u904e id \u4f86\u6bd4\u8f03\n        public static func == (lhs: UserInfo, rhs: UserInfo) -&gt; Bool {\n            lhs.id == rhs.id\n        }\n    }\n}\n\n// \u9078\u9805 2: \u653e\u5728 LiveChat namespace\uff08\u76f8\u540c\u7d50\u69cb\uff09\nextension LiveChat {\n    public struct UserInfo: Identifiable, Equatable, Sendable {\n        // \u76f8\u540c\u7d50\u69cb...\n    }\n}\n</code></pre>"},{"location":"12_Tickets/01_domain_model/TDD-003_UserInfo_Entity/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>UserInfo</code> struct \u5b9a\u7fa9\u5728 namespace extension \u5167 / <code>UserInfo</code> struct defined within namespace extension</li> <li>[ ] \u6240\u6709\u6b04\u4f4d\u985e\u578b\u6b63\u78ba\uff0c\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / All field types correct, using <code>public</code> modifier</li> <li>[ ] \u5be6\u4f5c <code>Identifiable</code>\u3001<code>Equatable</code>\u3001<code>Sendable</code> protocols / Implement <code>Identifiable</code>, <code>Equatable</code>, <code>Sendable</code> protocols</li> <li>[ ] Equatable \u5be6\u4f5c\u6b63\u78ba\uff08\u900f\u904e id \u6bd4\u8f03\uff09 / Equatable implementation correct (compare by id)</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 80% / Unit Test Coverage \u2265 80%</li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-003_UserInfo_Entity/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>Domain Model \u5b9a\u7fa9\uff1a<code>output/LiveChat&amp;PrematchComment/04_Domain Model/01_domain_model.md</code></li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-003_UserInfo_Entity_en/","title":"TDD-003: UserInfo Entity","text":""},{"location":"12_Tickets/01_domain_model/TDD-003_UserInfo_Entity_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-003 | | Jira Key | FOOTBALL-9173 |  | |  | Implement UserInfo Entity |  | |  | Type | Domain Model |  | |  | P0 |  | |  | LiveChat &amp; PrematchComment |  | |  | - |  | |  | Story Point | 1 |  | |  | Standard\uff1a0.3 daysMost Stringent\uff1a0.2 days |  |</p>"},{"location":"12_Tickets/01_domain_model/TDD-003_UserInfo_Entity_en/#description","title":"Description","text":"<p>Define UserInfo Entity Domain Model\u3002</p>"},{"location":"12_Tickets/01_domain_model/TDD-003_UserInfo_Entity_en/#requirements","title":"Requirements","text":"<ol> <li>Define UserInfo Structure</li> <li>Implement Identifiable and Equatable</li> <li>Define all required fields (id, nickname, avatar)</li> </ol>"},{"location":"12_Tickets/01_domain_model/TDD-003_UserInfo_Entity_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] UserInfo Entity Definition Complete</li> <li>[ ] All fields have correct types</li> <li>[ ] Equatable implementation is correct (compare via id)</li> <li>[ ] Unit Test Coverage \u2265 80%</li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-003_UserInfo_Entity_en/#related-documents","title":"Related Documents","text":"<ul> <li>Domain Model Definition: <code>output/LiveChat&amp;PrematchComment/04_Domain Model/01_domain_model.md</code></li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-004_Message_Entity/","title":"TDD-004: Message Entity","text":""},{"location":"12_Tickets/01_domain_model/TDD-004_Message_Entity/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-004 Jira Key FOOTBALL-9174 \u6a19\u984c \u5be6\u4f5c Message Entity \u985e\u578b Domain Model \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature LiveChat \u4f9d\u8cf4 Ticket - Story Point 1 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a0.3 \u5929\u6700\u56b4\u53b2\uff1a0.2 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-11-28 (\u9031\u4e94)"},{"location":"12_Tickets/01_domain_model/TDD-004_Message_Entity/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5b9a\u7fa9 Message Entity Domain Model\u3002 / Define Message Entity Domain Model\u3002</p>"},{"location":"12_Tickets/01_domain_model/TDD-004_Message_Entity/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5b9a\u7fa9 <code>LiveChat</code> namespace enum / Define <code>LiveChat</code> namespace enum</li> <li>\u5728 namespace \u5167\u5b9a\u7fa9 <code>Message</code> struct / Define <code>Message</code> struct within namespace</li> <li>\u5b9a\u7fa9 <code>MessageType</code> enum\uff08\u653e\u5728 <code>LiveChat</code> namespace \u5167\uff09 / Define <code>MessageType</code> enum (within <code>LiveChat</code> namespace)</li> <li>\u5be6\u4f5c <code>Identifiable</code>\u3001<code>Equatable</code>\u3001<code>Sendable</code> / Implement <code>Identifiable</code>, <code>Equatable</code>, <code>Sendable</code></li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> <li>\u5b9a\u7fa9\u6240\u6709\u5fc5\u8981\u6b04\u4f4d / Define all required fields</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/LiveChat/Models/LiveChat.swift</code> / File structure: <code>Sources/LiveChat/Models/LiveChat.swift</code></li> </ol>"},{"location":"12_Tickets/01_domain_model/TDD-004_Message_Entity/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/01_domain_model/TDD-004_Message_Entity/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import Foundation\n\n/// The namespace for types and functions related to LiveChat\npublic enum LiveChat {}\n\nextension LiveChat {\n    public enum MessageType: String, Equatable, Sendable {\n        case text = \"TEXT\"\n    }\n\n    public struct Message: Identifiable, Equatable, Sendable {\n        public let id: String\n        public let content: String\n        public let messageNo: Int\n        public let previousMessageNo: Int\n        public let authorId: String\n        public let authorNickname: String?\n        public let messageType: MessageType\n        public let createdAt: Date\n        public let chatroomId: String\n        public let isIsolated: Bool\n        public let isDeleted: Bool\n        public let status: Int\n\n        public init(\n            id: String,\n            content: String,\n            messageNo: Int,\n            previousMessageNo: Int,\n            authorId: String,\n            authorNickname: String?,\n            messageType: MessageType,\n            createdAt: Date,\n            chatroomId: String,\n            isIsolated: Bool,\n            isDeleted: Bool,\n            status: Int\n        ) {\n            self.id = id\n            self.content = content\n            self.messageNo = messageNo\n            self.previousMessageNo = previousMessageNo\n            self.authorId = authorId\n            self.authorNickname = authorNickname\n            self.messageType = messageType\n            self.createdAt = createdAt\n            self.chatroomId = chatroomId\n            self.isIsolated = isIsolated\n            self.isDeleted = isDeleted\n            self.status = status\n        }\n\n        // Equatable: \u900f\u904e id \u4f86\u6bd4\u8f03\n        public static func == (lhs: Message, rhs: Message) -&gt; Bool {\n            lhs.id == rhs.id\n        }\n    }\n}\n</code></pre>"},{"location":"12_Tickets/01_domain_model/TDD-004_Message_Entity/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>LiveChat</code> namespace enum \u5b9a\u7fa9\u5b8c\u6210 / <code>LiveChat</code> namespace enum definition complete</li> <li>[ ] <code>Message</code> struct \u5b9a\u7fa9\u5728 namespace extension \u5167 / <code>Message</code> struct defined within namespace extension</li> <li>[ ] <code>MessageType</code> enum \u5b9a\u7fa9\u5b8c\u6210 / <code>MessageType</code> enum definition complete</li> <li>[ ] \u6240\u6709\u6b04\u4f4d\u985e\u578b\u6b63\u78ba\uff0c\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / All field types correct, using <code>public</code> modifier</li> <li>[ ] \u5be6\u4f5c <code>Identifiable</code>\u3001<code>Equatable</code>\u3001<code>Sendable</code> protocols / Implement <code>Identifiable</code>, <code>Equatable</code>, <code>Sendable</code> protocols</li> <li>[ ] Equatable \u5be6\u4f5c\u6b63\u78ba\uff08\u900f\u904e id \u6bd4\u8f03\uff09 / Equatable implementation correct (compare by id)</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 80% / Unit Test Coverage \u2265 80%</li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-004_Message_Entity/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>Domain Model \u5b9a\u7fa9\uff1a<code>output/LiveChat&amp;PrematchComment/04_Domain Model/01_domain_model.md</code></li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-004_Message_Entity_en/","title":"TDD-004: Message Entity","text":""},{"location":"12_Tickets/01_domain_model/TDD-004_Message_Entity_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-004 | | Jira Key | FOOTBALL-9174 |  | |  | Implement Message Entity |  | |  | Type | Domain Model |  | |  | P0 |  | |  | LiveChat |  | |  | - |  | |  | Story Point | 1 |  | |  | Standard\uff1a0.3 daysMost Stringent\uff1a0.2 days |  |</p>"},{"location":"12_Tickets/01_domain_model/TDD-004_Message_Entity_en/#description","title":"Description","text":"<p>Define Message Entity Domain Model\u3002</p>"},{"location":"12_Tickets/01_domain_model/TDD-004_Message_Entity_en/#requirements","title":"Requirements","text":"<ol> <li>Define Message Structure</li> <li>Implement Identifiable and Equatable</li> <li>Define all required fields (id, content, messageNo, authorId \u7b49)</li> <li>Define MessageType enum</li> </ol>"},{"location":"12_Tickets/01_domain_model/TDD-004_Message_Entity_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Message Entity Definition Complete</li> <li>[ ] MessageType enum Definition Complete</li> <li>[ ] All fields have correct types</li> <li>[ ] Equatable implementation is correct (compare via id)</li> <li>[ ] Unit Test Coverage \u2265 80%</li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-004_Message_Entity_en/#related-documents","title":"Related Documents","text":"<ul> <li>Domain Model Definition: <code>output/LiveChat&amp;PrematchComment/04_Domain Model/01_domain_model.md</code></li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-005_ChatroomInfo_Entity/","title":"TDD-005: ChatroomInfo Entity","text":""},{"location":"12_Tickets/01_domain_model/TDD-005_ChatroomInfo_Entity/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-005 Jira Key FOOTBALL-9175 \u6a19\u984c \u5be6\u4f5c ChatroomInfo Entity \u985e\u578b Domain Model \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature LiveChat \u4f9d\u8cf4 Ticket - Story Point 1 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a0.3 \u5929\u6700\u56b4\u53b2\uff1a0.2 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-11-28 (\u9031\u4e94)"},{"location":"12_Tickets/01_domain_model/TDD-005_ChatroomInfo_Entity/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5b9a\u7fa9 ChatroomInfo Entity Domain Model\u3002 / Define ChatroomInfo Entity Domain Model\u3002</p>"},{"location":"12_Tickets/01_domain_model/TDD-005_ChatroomInfo_Entity/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5728 <code>LiveChat</code> namespace \u5167\u5b9a\u7fa9 <code>ChatroomInfo</code> struct / Define <code>ChatroomInfo</code> struct within <code>LiveChat</code> namespace</li> <li>\u5be6\u4f5c <code>Identifiable</code>\u3001<code>Equatable</code>\u3001<code>Sendable</code> / Implement <code>Identifiable</code>, <code>Equatable</code>, <code>Sendable</code></li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> <li>\u5b9a\u7fa9\u6240\u6709\u5fc5\u8981\u6b04\u4f4d / Define all required fields</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a\u8207 <code>Message</code> \u653e\u5728\u540c\u4e00\u500b\u6a94\u6848 <code>LiveChat.swift</code> / File structure: Place in same file <code>LiveChat.swift</code> as <code>Message</code></li> </ol>"},{"location":"12_Tickets/01_domain_model/TDD-005_ChatroomInfo_Entity/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/01_domain_model/TDD-005_ChatroomInfo_Entity/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>extension LiveChat {\n    public struct ChatroomInfo: Identifiable, Equatable, Sendable {\n        public let id: String\n        public let chatroomId: String\n        public let lastMessageNo: Int\n        public let refId: String\n        public let onlineCount: Int\n        public let betCount: String\n        public let chatRoomType: Int\n        public let nickNameAvailable: Bool?\n\n        public init(\n            id: String,\n            chatroomId: String,\n            lastMessageNo: Int,\n            refId: String,\n            onlineCount: Int,\n            betCount: String,\n            chatRoomType: Int,\n            nickNameAvailable: Bool?\n        ) {\n            self.id = id\n            self.chatroomId = chatroomId\n            self.lastMessageNo = lastMessageNo\n            self.refId = refId\n            self.onlineCount = onlineCount\n            self.betCount = betCount\n            self.chatRoomType = chatRoomType\n            self.nickNameAvailable = nickNameAvailable\n        }\n\n        // Equatable: \u900f\u904e id \u4f86\u6bd4\u8f03\n        public static func == (lhs: ChatroomInfo, rhs: ChatroomInfo) -&gt; Bool {\n            lhs.id == rhs.id\n        }\n    }\n}\n</code></pre>"},{"location":"12_Tickets/01_domain_model/TDD-005_ChatroomInfo_Entity/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>ChatroomInfo</code> struct \u5b9a\u7fa9\u5728 <code>LiveChat</code> namespace extension \u5167 / <code>ChatroomInfo</code> struct defined within <code>LiveChat</code> namespace extension</li> <li>[ ] \u6240\u6709\u6b04\u4f4d\u985e\u578b\u6b63\u78ba\uff0c\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / All field types correct, using <code>public</code> modifier</li> <li>[ ] \u5be6\u4f5c <code>Identifiable</code>\u3001<code>Equatable</code>\u3001<code>Sendable</code> protocols / Implement <code>Identifiable</code>, <code>Equatable</code>, <code>Sendable</code> protocols</li> <li>[ ] Equatable \u5be6\u4f5c\u6b63\u78ba\uff08\u900f\u904e id \u6bd4\u8f03\uff09 / Equatable implementation correct (compare by id)</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 80% / Unit Test Coverage \u2265 80%</li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-005_ChatroomInfo_Entity/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>Domain Model \u5b9a\u7fa9\uff1a<code>output/LiveChat&amp;PrematchComment/04_Domain Model/01_domain_model.md</code></li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-005_ChatroomInfo_Entity_en/","title":"TDD-005: ChatroomInfo Entity","text":""},{"location":"12_Tickets/01_domain_model/TDD-005_ChatroomInfo_Entity_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-005 | | Jira Key | FOOTBALL-9175 |  | |  | Implement ChatroomInfo Entity |  | |  | Type | Domain Model |  | |  | P0 |  | |  | LiveChat |  | |  | - |  | |  | Story Point | 1 |  | |  | Standard\uff1a0.3 daysMost Stringent\uff1a0.2 days |  |</p>"},{"location":"12_Tickets/01_domain_model/TDD-005_ChatroomInfo_Entity_en/#description","title":"Description","text":"<p>Define ChatroomInfo Entity Domain Model\u3002</p>"},{"location":"12_Tickets/01_domain_model/TDD-005_ChatroomInfo_Entity_en/#requirements","title":"Requirements","text":"<ol> <li>Define ChatroomInfo Structure</li> <li>Implement Identifiable and Equatable</li> <li>Define all required fields (ChatroomId, lastMessageNo)</li> </ol>"},{"location":"12_Tickets/01_domain_model/TDD-005_ChatroomInfo_Entity_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] ChatroomInfo Entity Definition Complete</li> <li>[ ] All fields have correct types</li> <li>[ ] Equatable Implementcorrect(via ChatroomId compare)</li> <li>[ ] Unit Test Coverage \u2265 80%</li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-005_ChatroomInfo_Entity_en/#related-documents","title":"Related Documents","text":"<ul> <li>Domain Model Definition: <code>output/LiveChat&amp;PrematchComment/04_Domain Model/01_domain_model.md</code></li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-006_ValueObjects/","title":"TDD-006: Value Objects","text":""},{"location":"12_Tickets/01_domain_model/TDD-006_ValueObjects/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-006 Jira Key FOOTBALL-9176 \u6a19\u984c \u5be6\u4f5c Value Objects\uff08SortMode\u3001Cursor\u3001PagingInfo\uff09 \u985e\u578b Domain Model \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature LiveChat &amp; PrematchComment \u4f9d\u8cf4 Ticket - Story Point 2 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a1 \u5929\u6700\u56b4\u53b2\uff1a0.4 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-11-28 (\u9031\u4e94)"},{"location":"12_Tickets/01_domain_model/TDD-006_ValueObjects/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5b9a\u7fa9\u6240\u6709 Value Objects\uff08SortMode\u3001Cursor\u3001PagingInfo\uff09\u3002 / Define All Value Objects(SortMode, Cursor, PagingInfo)\u3002</p>"},{"location":"12_Tickets/01_domain_model/TDD-006_ValueObjects/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5728 <code>PrematchComment</code> \u548c <code>LiveChat</code> namespace \u5167\u5b9a\u7fa9 Value Objects / Define Value Objects within <code>PrematchComment</code> and <code>LiveChat</code> namespace</li> <li>\u5b9a\u7fa9 <code>SortMode</code> enum\uff08top / newest\uff09 / Define <code>SortMode</code> enum (top / newest)</li> <li>\u5b9a\u7fa9 <code>Cursor</code> struct\uff08\u5206\u9801\u6e38\u6a19\uff09 / Define <code>Cursor</code> struct (pagination cursor)</li> <li>\u5b9a\u7fa9 <code>PagingInfo</code> struct\uff08hasMore\u3001cursor\uff09 / Define <code>PagingInfo</code> struct (hasMore, cursor)</li> <li>\u5be6\u4f5c <code>Equatable</code>\u3001<code>Sendable</code> / Implement <code>Equatable</code>, <code>Sendable</code></li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> <li>\u78ba\u4fdd\u5b8c\u5168\u4e0d\u53ef\u8b8a\uff08\u6240\u6709\u5c6c\u6027\u4f7f\u7528 <code>let</code>\uff09 / Ensure completely immutable (all properties use <code>let</code>)</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a\u53ef\u653e\u5728\u5404\u81ea\u7684 namespace \u6a94\u6848\u4e2d\uff0c\u6216\u5efa\u7acb\u5171\u7528\u7684 <code>Models/Shared/ValueObjects.swift</code> / File structure: Can place in respective namespace files, or create shared <code>Models/Shared/ValueObjects.swift</code></li> </ol>"},{"location":"12_Tickets/01_domain_model/TDD-006_ValueObjects/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/01_domain_model/TDD-006_ValueObjects/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>extension PrematchComment {\n    public enum SortMode: String, Equatable, Sendable {\n        case top = \"top\"\n        case newest = \"newest\"\n    }\n\n    public struct Cursor: Equatable, Sendable {\n        public let value: Int\n\n        public init(value: Int) {\n            self.value = value\n        }\n    }\n\n    public struct PagingInfo: Equatable, Sendable {\n        public let cursor: Cursor?\n        public let hasMore: Bool\n\n        public init(cursor: Cursor?, hasMore: Bool) {\n            self.cursor = cursor\n            self.hasMore = hasMore\n        }\n    }\n}\n\n// LiveChat \u4f7f\u7528\u76f8\u540c\u7684 Value Objects \u6216\u5b9a\u7fa9\u81ea\u5df1\u7684\nextension LiveChat {\n    public enum SortMode: String, Equatable, Sendable {\n        case top = \"top\"\n        case newest = \"newest\"\n    }\n\n    public struct Cursor: Equatable, Sendable {\n        public let value: Int\n\n        public init(value: Int) {\n            self.value = value\n        }\n    }\n\n    public struct PagingInfo: Equatable, Sendable {\n        public let cursor: Cursor?\n        public let hasMore: Bool\n\n        public init(cursor: Cursor?, hasMore: Bool) {\n            self.cursor = cursor\n            self.hasMore = hasMore\n        }\n    }\n}\n</code></pre>"},{"location":"12_Tickets/01_domain_model/TDD-006_ValueObjects/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>SortMode</code> enum \u5b9a\u7fa9\u5b8c\u6210\uff0c\u5be6\u4f5c <code>Equatable</code>\u3001<code>Sendable</code> / <code>SortMode</code> enum definition complete, implements <code>Equatable</code>, <code>Sendable</code></li> <li>[ ] <code>Cursor</code> struct \u5b9a\u7fa9\u5b8c\u6210\uff0c\u5be6\u4f5c <code>Equatable</code>\u3001<code>Sendable</code> / <code>Cursor</code> struct definition complete, implements <code>Equatable</code>, <code>Sendable</code></li> <li>[ ] <code>PagingInfo</code> struct \u5b9a\u7fa9\u5b8c\u6210\uff0c\u5be6\u4f5c <code>Equatable</code>\u3001<code>Sendable</code> / <code>PagingInfo</code> struct definition complete, implements <code>Equatable</code>, <code>Sendable</code></li> <li>[ ] \u6240\u6709 Value Object \u5b8c\u5168\u4e0d\u53ef\u8b8a\uff08\u6240\u6709\u5c6c\u6027\u4f7f\u7528 <code>let</code>\uff09 / All Value Objects completely immutable (all properties use <code>let</code>)</li> <li>[ ] \u6240\u6709\u5c6c\u6027\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / All properties use <code>public</code> modifier</li> <li>[ ] Equatable \u5be6\u4f5c\u6b63\u78ba\uff08\u900f\u904e\u503c\u6bd4\u8f03\uff09 / Equatable implementation correct (compare by value)</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 80% / Unit Test Coverage \u2265 80%</li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-006_ValueObjects/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>Domain Model \u5b9a\u7fa9\uff1a<code>output/LiveChat&amp;PrematchComment/04_Domain Model/01_domain_model.md</code></li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-006_ValueObjects_en/","title":"TDD-006: Value Objects","text":""},{"location":"12_Tickets/01_domain_model/TDD-006_ValueObjects_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-006 | | Jira Key | FOOTBALL-9176 |  | |  | Implement Value Objects\uff08SortMode\u3001Cursor\u3001PagingInfo\uff09 |  | |  | Type | Domain Model |  | |  | P0 |  | |  | LiveChat &amp; PrematchComment |  | |  | - |  | |  | Story Point | 2 |  | |  | Standard\uff1a1 daysMost Stringent\uff1a0.4 days |  |</p>"},{"location":"12_Tickets/01_domain_model/TDD-006_ValueObjects_en/#description","title":"Description","text":"<p>Define All Value Objects(SortMode, Cursor, PagingInfo)\u3002</p>"},{"location":"12_Tickets/01_domain_model/TDD-006_ValueObjects_en/#requirements","title":"Requirements","text":"<ol> <li>newest)</li> <li>Define Cursor Value Object(Pagination\u6e38\u6a19)</li> <li>Define PagingInfo Value Object(hasMore, nextCursor)</li> <li>Implement Equatable(via\u503ccompare)</li> <li>\u78ba\u4fdd\u5b8c\u5168\u4e0d\u53ef\u8b8a</li> </ol>"},{"location":"12_Tickets/01_domain_model/TDD-006_ValueObjects_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] SortMode Value Object Definition Complete</li> <li>[ ] Cursor Value Object Definition Complete</li> <li>[ ] PagingInfo Value Object Definition Complete</li> <li>[ ] all Value Object \u5b8c\u5168\u4e0d\u53ef\u8b8a</li> <li>[ ] Equatable Implementcorrect(via\u503ccompare)</li> <li>[ ] Unit Test Coverage \u2265 80%</li> </ul>"},{"location":"12_Tickets/01_domain_model/TDD-006_ValueObjects_en/#related-documents","title":"Related Documents","text":"<ul> <li>Domain Model Definition: <code>output/LiveChat&amp;PrematchComment/04_Domain Model/01_domain_model.md</code></li> </ul>"},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI/","title":"TDD-010: PrematchCommentAPI","text":""},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-010 Jira Key FOOTBALL-9178 \u6a19\u984c \u5be6\u4f5c PrematchCommentAPI \u5b9a\u7fa9 \u985e\u578b API \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature PrematchComment \u4f9d\u8cf4 Ticket TDD-001, TDD-002, TDD-006 Story Point 3 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a1 \u5929\u6700\u56b4\u53b2\uff1a1 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-01 (\u9031\u4e00)"},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c PrematchCommentAPI API \u5b9a\u7fa9\u3002 / Implement PrematchCommentAPI API \u5b9a\u7fa9\u3002</p>"},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5b9a\u7fa9 <code>PrematchCommentAPI</code> namespace enum / Define <code>PrematchCommentAPI</code> namespace enum</li> <li>\u4f7f\u7528 extension \u5206\u96e2\u95dc\u6ce8\u9ede / Use extension to separate concerns:</li> <li><code>PrematchCommentAPI.swift</code> - namespace \u5b9a\u7fa9 / namespace definition</li> <li><code>PrematchCommentAPI+Endpoint.swift</code> - Endpoint \u5b9a\u7fa9 / Endpoint definition</li> <li><code>PrematchCommentAPI+Models.swift</code> - API Models \u5b9a\u7fa9 / API Models definition</li> <li><code>PrematchCommentAPI+RepositoryProtocol.swift</code> - Repository Protocol / Repository Protocol</li> <li><code>PrematchCommentAPI+Repository.swift</code> - Repository \u5be6\u4f5c\uff08\u4f7f\u7528 actor\uff09 / Repository implementation (using actor)</li> <li>\u5b9a\u7fa9\u6240\u6709 Endpoints\uff08URL\u3001Method\u3001Request/Response DTO\uff09 / Define All Endpoints (URL, Method, Request/Response DTO)</li> <li>\u5b9a\u7fa9 Error Response \u683c\u5f0f / Define Error Response format</li> <li>Endpoints\uff1a</li> <li><code>POST /chat/match/comment/batch/info</code></li> <li><code>GET /chat/match/comment/info/{refId}</code></li> <li><code>GET /chat/match/comment/popular</code></li> <li><code>GET /chat/match/comment/newest</code></li> <li><code>GET /chat/match/comment/replies</code></li> <li><code>POST /chat/match/comment</code></li> <li><code>POST /chat/match/comment/like</code></li> </ol>"},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI/#file-structure","title":"\u6a94\u6848\u7d50\u69cb / File Structure","text":"<pre><code>Sources/PrematchComment/Services/API/PrematchComment/\n  \u251c\u2500\u2500 PrematchCommentAPI.swift                    # namespace \u5b9a\u7fa9\n  \u251c\u2500\u2500 PrematchCommentAPI+Endpoint.swift           # Endpoint \u5b9a\u7fa9\n  \u251c\u2500\u2500 PrematchCommentAPI+Models.swift             # API Models \u5b9a\u7fa9\n  \u251c\u2500\u2500 PrematchCommentAPI+RepositoryProtocol.swift # Repository Protocol\n  \u2514\u2500\u2500 PrematchCommentAPI+Repository.swift        # Repository \u5be6\u4f5c\uff08actor\uff09\n</code></pre>"},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI/#code-examples","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Examples","text":""},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI/#prematchcommentapiswift","title":"PrematchCommentAPI.swift","text":"<pre><code>/// The namespace for types and functions related to PrematchCommentAPI\npublic enum PrematchCommentAPI {}\n</code></pre>"},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI/#prematchcommentapiendpointswift","title":"PrematchCommentAPI+Endpoint.swift","text":"<pre><code>import Foundation\nimport NetworkService\nimport NetworkUtils\nimport SportyFoundation\n\nextension PrematchCommentAPI {\n    public enum PrematchCommentEndpoint: APIEndpoint {\n        case getCommentMeta(refId: String)\n        case getComments(refId: String, mode: String, cursor: Int?)\n        case publishComment(refId: String, content: String, parentId: String?)\n        case toggleLike(commentId: String)\n        case getReplies(commentId: String, cursor: Int?)\n\n        public var baseURL: String {\n            AppConfiguration.current.environment.domain.absoluteString\n        }\n\n        public var path: String {\n            let base = \"/api/\\(Region.current.apiCountryCode)/chat/match/comment\"\n\n            switch self {\n            case .getCommentMeta:\n                return \"\\(base)/batch/info\"\n            case .getComments:\n                return \"\\(base)/info/{refId}\"\n            case .publishComment:\n                return \"\\(base)\"\n            case .toggleLike:\n                return \"\\(base)/like\"\n            case .getReplies:\n                return \"\\(base)/replies\"\n            }\n        }\n\n        public var method: String {\n            switch self {\n            case .getCommentMeta, .getComments, .getReplies:\n                return FComHTTPMethod.get.rawValue\n            case .publishComment, .toggleLike:\n                return FComHTTPMethod.post.rawValue\n            }\n        }\n\n        public var encoding: APIEncoding {\n            switch self {\n            case .getCommentMeta, .getComments, .getReplies:\n                return .url\n            case .publishComment, .toggleLike:\n                return .json\n            }\n        }\n\n        public var parameters: [String: Any]? {\n            switch self {\n            case .getCommentMeta(let refId):\n                return [\"refId\": refId]\n            case .getComments(let refId, let mode, let cursor):\n                var params: [String: Any] = [\"refId\": refId, \"mode\": mode]\n                if let cursor = cursor {\n                    params[\"cursor\"] = cursor\n                }\n                return params\n            case .publishComment(let refId, let content, let parentId):\n                var params: [String: Any] = [\"refId\": refId, \"content\": content]\n                if let parentId = parentId {\n                    params[\"parentId\"] = parentId\n                }\n                return params\n            case .toggleLike(let commentId):\n                return [\"commentId\": commentId]\n            case .getReplies(let commentId, let cursor):\n                var params: [String: Any] = [\"commentId\": commentId]\n                if let cursor = cursor {\n                    params[\"cursor\"] = cursor\n                }\n                return params\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI/#prematchcommentapimodelsswift","title":"PrematchCommentAPI+Models.swift","text":"<pre><code>import Foundation\n\nextension PrematchCommentAPI {\n    public struct CommentDTO: Decodable, Sendable {\n        public let id: Int64\n        public let content: String\n        public let likeCount: Int\n        public let authorId: String\n        public let authorNickname: String?\n        public let parentId: Int64\n        public let createdAt: Int64\n        public let repliesCount: Int\n        public let likedByMe: Bool\n        public let isIsolated: Bool\n        public let isDeleted: Bool\n\n        enum CodingKeys: String, CodingKey {\n            case id, content, likeCount, authorId, authorNickname, parentId\n            case createdAt, repliesCount, likedByMe, isIsolated, isDeleted\n        }\n\n        public init(from decoder: Decoder) throws {\n            let container = try decoder.container(keyedBy: CodingKeys.self)\n            id = try container.decode(Int64.self, forKey: .id)\n            content = try container.decode(String.self, forKey: .content)\n            likeCount = try container.decode(Int.self, forKey: .likeCount)\n            authorId = try container.decode(String.self, forKey: .authorId)\n            authorNickname = try container.decodeIfPresent(String.self, forKey: .authorNickname)\n            parentId = try container.decode(Int64.self, forKey: .parentId)\n            createdAt = try container.decode(Int64.self, forKey: .createdAt)\n            repliesCount = try container.decodeIfPresent(Int.self, forKey: .repliesCount) ?? 0\n            likedByMe = try container.decodeIfPresent(Bool.self, forKey: .likedByMe) ?? false\n            isIsolated = try container.decodeIfPresent(Bool.self, forKey: .isIsolated) ?? false\n            isDeleted = try container.decodeIfPresent(Bool.self, forKey: .isDeleted) ?? false\n        }\n    }\n\n    // \u5176\u4ed6 DTO \u5b9a\u7fa9...\n}\n</code></pre>"},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI/#prematchcommentapirepositoryprotocolswift","title":"PrematchCommentAPI+RepositoryProtocol.swift","text":"<pre><code>import Foundation\n\nextension PrematchCommentAPI {\n    protocol PrematchCommentRepositoryProtocol {\n        func getCommentMeta(refId: String) async throws -&gt; PrematchCommentAPI.CommentMetaDTO\n        func getComments(refId: String, mode: String, cursor: Int?) async throws -&gt; PrematchCommentAPI.CommentPageDTO\n        func publishComment(refId: String, content: String, parentId: String?) async throws -&gt; PrematchCommentAPI.CommentDTO\n        func toggleLike(commentId: String) async throws -&gt; PrematchCommentAPI.CommentDTO\n        func getReplies(commentId: String, cursor: Int?) async throws -&gt; PrematchCommentAPI.CommentPageDTO\n    }\n}\n</code></pre>"},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI/#prematchcommentapirepositoryswift","title":"PrematchCommentAPI+Repository.swift","text":"<pre><code>import Foundation\nimport NetworkService\n\nextension PrematchCommentAPI {\n    public actor PrematchCommentRepository: PrematchCommentRepositoryProtocol {\n        private let apiClient: APIClient\n\n        public init(apiClient: APIClient = APIClient.shared) {\n            self.apiClient = apiClient\n        }\n\n        public func getCommentMeta(refId: String) async throws -&gt; PrematchCommentAPI.CommentMetaDTO {\n            let endpoint = PrematchCommentEndpoint.getCommentMeta(refId: refId)\n            return try await apiClient.request(endpoint)\n        }\n\n        public func getComments(refId: String, mode: String, cursor: Int?) async throws -&gt; PrematchCommentAPI.CommentPageDTO {\n            let endpoint = PrematchCommentEndpoint.getComments(refId: refId, mode: mode, cursor: cursor)\n            return try await apiClient.request(endpoint)\n        }\n\n        public func publishComment(refId: String, content: String, parentId: String?) async throws -&gt; PrematchCommentAPI.CommentDTO {\n            let endpoint = PrematchCommentEndpoint.publishComment(refId: refId, content: content, parentId: parentId)\n            return try await apiClient.request(endpoint)\n        }\n\n        public func toggleLike(commentId: String) async throws -&gt; PrematchCommentAPI.CommentDTO {\n            let endpoint = PrematchCommentEndpoint.toggleLike(commentId: commentId)\n            return try await apiClient.request(endpoint)\n        }\n\n        public func getReplies(commentId: String, cursor: Int?) async throws -&gt; PrematchCommentAPI.CommentPageDTO {\n            let endpoint = PrematchCommentEndpoint.getReplies(commentId: commentId, cursor: cursor)\n            return try await apiClient.request(endpoint)\n        }\n    }\n}\n</code></pre>"},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>\u4f7f\u7528 <code>PrematchCommentAPI</code> \u4f5c\u70ba namespace enum / Use <code>PrematchCommentAPI</code> as namespace enum</li> <li>Endpoint \u4f7f\u7528 <code>PrematchCommentEndpoint</code> enum\uff0c\u5be6\u4f5c <code>APIEndpoint</code> protocol / Endpoint uses <code>PrematchCommentEndpoint</code> enum, implements <code>APIEndpoint</code> protocol</li> <li>API Models \u4f7f\u7528 <code>XXXDTO</code> \u547d\u540d\uff0c\u5be6\u4f5c <code>Decodable</code>\u3001<code>Sendable</code> / API Models use <code>XXXDTO</code> naming, implement <code>Decodable</code>, <code>Sendable</code></li> <li>Repository \u4f7f\u7528 <code>actor</code>\uff0c\u5be6\u4f5c <code>PrematchCommentRepositoryProtocol</code> / Repository uses <code>actor</code>, implements <code>PrematchCommentRepositoryProtocol</code></li> <li>\u4f7f\u7528 extension \u5206\u96e2\u95dc\u6ce8\u9ede / Use extension to separate concerns</li> </ul>"},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>PrematchCommentAPI</code> namespace enum \u5b9a\u7fa9\u5b8c\u6210 / <code>PrematchCommentAPI</code> namespace enum definition complete</li> <li>[ ] \u6240\u6709\u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c\uff08\u4f7f\u7528 extension \u5206\u96e2\uff09 / All file structure matches reference code style (using extension separation)</li> <li>[ ] \u6240\u6709 Endpoints \u5b9a\u7fa9\u5b8c\u6210 / All Endpoints definition complete</li> <li>[ ] Request/Response DTO \u5b9a\u7fa9\u5b8c\u6210\uff0c\u5be6\u4f5c <code>Decodable</code>\u3001<code>Sendable</code> / Request/Response DTO definition complete, implements <code>Decodable</code>, <code>Sendable</code></li> <li>[ ] Repository \u4f7f\u7528 <code>actor</code> \u5be6\u4f5c / Repository uses <code>actor</code> implementation</li> <li>[ ] Repository Protocol \u5b9a\u7fa9\u5b8c\u6210 / Repository Protocol definition complete</li> <li>[ ] Error Response \u683c\u5f0f\u5b9a\u7fa9\u5b8c\u6210 / Error Response format definition complete</li> </ul>"},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>API Spec\uff1a<code>output/LiveChat&amp;PrematchComment/08_API Spec &amp; Mapping/01_api_spec.md</code></li> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> </ul>"},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI_en/","title":"TDD-010: PrematchCommentAPI","text":""},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-010 | | Jira Key | FOOTBALL-9178 |  | |  | Implement PrematchCommentAPI Define |  | |  | Type | API |  | |  | P0 |  | |  | PrematchComment |  | |  | TDD-001, TDD-002, TDD-006 |  | |  | Story Point | 3 |  | |  | Standard\uff1a1 daysMost Stringent\uff1a1 days |  |</p>"},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI_en/#description","title":"Description","text":"<p>Implement PrematchCommentAPI API \u5b9a\u7fa9\u3002</p>"},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI_en/#requirements","title":"Requirements","text":"<ol> <li>Define All Endpoints(URL, Method, Request/Response DTO)</li> <li>Define Error Response \u683c\u5f0f</li> <li>Define API \u6587\u4ef6\u8a3b\u89e3</li> <li> <ol> <li>Endpoints\uff1a</li> </ol> </li> <li> <ul> <li><code>GET /chat/match/comment/info/{refId}</code></li> </ul> </li> <li> <ul> <li><code>GET /chat/match/comment/popular</code></li> </ul> </li> <li> <ul> <li><code>GET /chat/match/comment/newest</code></li> </ul> </li> <li> <ul> <li><code>GET /chat/match/comment/replies</code></li> </ul> </li> <li> <ul> <li><code>POST /chat/match/comment</code></li> </ul> </li> <li> <ul> <li><code>POST /chat/match/comment/like</code></li> </ul> </li> </ol>"},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] all Endpoints Definition Complete</li> <li>[ ] Request/Response DTO Definition Complete</li> <li>[ ] API \u6587\u4ef6\u8a3b\u89e3\u5b8c\u6574</li> <li>[ ] Error Response \u683c\u5f0fDefinition Complete</li> </ul>"},{"location":"12_Tickets/02_api/TDD-010_PrematchCommentAPI_en/#related-documents","title":"Related Documents","text":"<ul> <li>API Spec\uff1a<code>output/LiveChat&amp;PrematchComment/08_API Spec &amp; Mapping/01_api_spec.md</code></li> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> </ul>"},{"location":"12_Tickets/02_api/TDD-011_ChatAPI/","title":"TDD-011: ChatAPI","text":""},{"location":"12_Tickets/02_api/TDD-011_ChatAPI/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-011 Jira Key FOOTBALL-9179 \u6a19\u984c \u5be6\u4f5c ChatAPI \u5b9a\u7fa9 \u985e\u578b API \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature LiveChat \u4f9d\u8cf4 Ticket TDD-004, TDD-005 Story Point 5 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a2 \u5929\u6700\u56b4\u53b2\uff1a1 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-01 (\u9031\u4e00)"},{"location":"12_Tickets/02_api/TDD-011_ChatAPI/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c ChatAPI API \u5b9a\u7fa9\uff08\u5305\u542b HTTP \u548c WebSocket\uff09\u3002 / Implement ChatAPI API \u5b9a\u7fa9(\u5305\u542b HTTP \u548c WebSocket)\u3002</p>"},{"location":"12_Tickets/02_api/TDD-011_ChatAPI/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5b9a\u7fa9 <code>ChatAPI</code> namespace enum / Define <code>ChatAPI</code> namespace enum</li> <li>\u4f7f\u7528 extension \u5206\u96e2\u95dc\u6ce8\u9ede / Use extension to separate concerns:</li> <li><code>ChatAPI.swift</code> - namespace \u5b9a\u7fa9 / namespace definition</li> <li><code>ChatAPI+Endpoint.swift</code> - HTTP Endpoint \u5b9a\u7fa9 / HTTP Endpoint definition</li> <li><code>ChatAPI+Models.swift</code> - API Models \u5b9a\u7fa9 / API Models definition</li> <li><code>ChatAPI+WebSocket.swift</code> - WebSocket \u7aef\u9ede\u548c\u8a0a\u606f\u683c\u5f0f / WebSocket endpoint and message format</li> <li><code>ChatAPI+RepositoryProtocol.swift</code> - Repository Protocol / Repository Protocol</li> <li><code>ChatAPI+Repository.swift</code> - Repository \u5be6\u4f5c\uff08\u4f7f\u7528 actor\uff09 / Repository implementation (using actor)</li> <li>\u5b9a\u7fa9\u6240\u6709 HTTP Endpoints / Define all HTTP Endpoints</li> <li>\u5b9a\u7fa9 WebSocket \u7aef\u9ede\u548c\u8a0a\u606f\u683c\u5f0f / Define WebSocket endpoint and message format</li> <li>Endpoints\uff1a</li> <li><code>POST /chat/match/batch/count</code></li> <li><code>GET /chat/match/{refId}</code></li> <li><code>GET /chat/match/backward</code></li> <li><code>POST /chat/match/message</code>\uff08\u50c5\u652f\u63f4 TEXT \u985e\u578b\uff09</li> <li><code>wss://{domain}/chat/websocket/web-chat</code>\uff08WebSocket\uff09</li> </ol>"},{"location":"12_Tickets/02_api/TDD-011_ChatAPI/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/02_api/TDD-011_ChatAPI/#file-structure","title":"\u6a94\u6848\u7d50\u69cb / File Structure","text":"<pre><code>Sources/LiveChat/Services/API/Chat/\n  \u251c\u2500\u2500 ChatAPI.swift                    # namespace \u5b9a\u7fa9\n  \u251c\u2500\u2500 ChatAPI+Endpoint.swift           # HTTP Endpoint \u5b9a\u7fa9\n  \u251c\u2500\u2500 ChatAPI+Models.swift             # API Models \u5b9a\u7fa9\n  \u251c\u2500\u2500 ChatAPI+WebSocket.swift         # WebSocket \u7aef\u9ede\u548c\u8a0a\u606f\u683c\u5f0f\n  \u251c\u2500\u2500 ChatAPI+RepositoryProtocol.swift # Repository Protocol\n  \u2514\u2500\u2500 ChatAPI+Repository.swift        # Repository \u5be6\u4f5c\uff08actor\uff09\n</code></pre>"},{"location":"12_Tickets/02_api/TDD-011_ChatAPI/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>\u4f7f\u7528 <code>ChatAPI</code> \u4f5c\u70ba namespace enum / Use <code>ChatAPI</code> as namespace enum</li> <li>HTTP Endpoint \u4f7f\u7528 <code>ChatEndpoint</code> enum\uff0c\u5be6\u4f5c <code>APIEndpoint</code> protocol / HTTP Endpoint uses <code>ChatEndpoint</code> enum, implements <code>APIEndpoint</code> protocol</li> <li>WebSocket \u76f8\u95dc\u5b9a\u7fa9\u5728 <code>ChatAPI+WebSocket.swift</code> / WebSocket related definitions in <code>ChatAPI+WebSocket.swift</code></li> <li>API Models \u4f7f\u7528 <code>XXXDTO</code> \u547d\u540d\uff0c\u5be6\u4f5c <code>Decodable</code>\u3001<code>Sendable</code> / API Models use <code>XXXDTO</code> naming, implement <code>Decodable</code>, <code>Sendable</code></li> <li>Repository \u4f7f\u7528 <code>actor</code>\uff0c\u5be6\u4f5c <code>ChatRepositoryProtocol</code> / Repository uses <code>actor</code>, implements <code>ChatRepositoryProtocol</code></li> </ul>"},{"location":"12_Tickets/02_api/TDD-011_ChatAPI/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>ChatAPI</code> namespace enum \u5b9a\u7fa9\u5b8c\u6210 / <code>ChatAPI</code> namespace enum definition complete</li> <li>[ ] \u6240\u6709\u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c\uff08\u4f7f\u7528 extension \u5206\u96e2\uff09 / All file structure matches reference code style (using extension separation)</li> <li>[ ] \u6240\u6709 HTTP Endpoints \u5b9a\u7fa9\u5b8c\u6210 / All HTTP Endpoints definition complete</li> <li>[ ] WebSocket \u7aef\u9ede\u548c\u8a0a\u606f\u683c\u5f0f\u5b9a\u7fa9\u5b8c\u6210 / WebSocket endpoint and message format definition complete</li> <li>[ ] Request/Response DTO \u5b9a\u7fa9\u5b8c\u6210\uff0c\u5be6\u4f5c <code>Decodable</code>\u3001<code>Sendable</code> / Request/Response DTO definition complete, implements <code>Decodable</code>, <code>Sendable</code></li> <li>[ ] Repository \u4f7f\u7528 <code>actor</code> \u5be6\u4f5c / Repository uses <code>actor</code> implementation</li> <li>[ ] Repository Protocol \u5b9a\u7fa9\u5b8c\u6210 / Repository Protocol definition complete</li> <li>[ ] Error Response \u683c\u5f0f\u5b9a\u7fa9\u5b8c\u6210 / Error Response format definition complete</li> </ul>"},{"location":"12_Tickets/02_api/TDD-011_ChatAPI/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>API Spec\uff1a<code>output/LiveChat&amp;PrematchComment/08_API Spec &amp; Mapping/01_api_spec.md</code></li> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> </ul>"},{"location":"12_Tickets/02_api/TDD-011_ChatAPI/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e / \u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>+2 SP\uff1aWebSocket API\uff08\u8907\u96dc\u5ea6\u8f03\u9ad8\uff09 / - +2 SP\uff1aWebSocket API(\u8907\u96dc\u5ea6\u8f03\u9ad8)</li> </ul>"},{"location":"12_Tickets/02_api/TDD-011_ChatAPI_en/","title":"TDD-011: ChatAPI","text":""},{"location":"12_Tickets/02_api/TDD-011_ChatAPI_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-011 | | Jira Key | FOOTBALL-9179 |  | |  | Implement ChatAPI Define |  | |  | Type | API |  | |  | P0 |  | |  | LiveChat |  | |  | TDD-004, TDD-005 |  | |  | Story Point | 5 |  | |  | Standard\uff1a2 daysMost Stringent\uff1a1 days |  |</p>"},{"location":"12_Tickets/02_api/TDD-011_ChatAPI_en/#description","title":"Description","text":"<p>Implement ChatAPI API \u5b9a\u7fa9(\u5305\u542b HTTP \u548c WebSocket)\u3002</p>"},{"location":"12_Tickets/02_api/TDD-011_ChatAPI_en/#requirements","title":"Requirements","text":"<ol> <li>Define All HTTP Endpoints(URL, Method, Request/Response DTO)</li> <li>Define WebSocket \u7aef\u9edeand\u8a0a\u606f\u683c\u5f0f</li> <li>Define Error Response \u683c\u5f0f</li> <li>Define API \u6587\u4ef6\u8a3b\u89e3</li> <li> <ol> <li>Endpoints\uff1a</li> </ol> </li> <li> <ul> <li><code>GET /chat/match/{refId}</code></li> </ul> </li> <li> <ul> <li><code>POST /chat/match/join</code></li> </ul> </li> <li> <ul> <li><code>POST /chat/match/backward</code></li> </ul> </li> <li> <ul> <li><code>POST /chat/match/leave</code></li> </ul> </li> <li> <ul> <li><code>POST /chat/{matchId}/message</code></li> </ul> </li> <li> <ul> <li><code>wss://www.encorebet.net/chat/websocket/web-chat</code>\uff08WebSocket\uff09</li> </ul> </li> </ol>"},{"location":"12_Tickets/02_api/TDD-011_ChatAPI_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] all HTTP Endpoints Definition Complete</li> <li>[ ] WebSocket \u7aef\u9edeand\u8a0a\u606f\u683c\u5f0fDefinition Complete</li> <li>[ ] Request/Response DTO Definition Complete</li> <li>[ ] API \u6587\u4ef6\u8a3b\u89e3\u5b8c\u6574</li> <li>[ ] Error Response \u683c\u5f0fDefinition Complete</li> </ul>"},{"location":"12_Tickets/02_api/TDD-011_ChatAPI_en/#related-documents","title":"Related Documents","text":"<ul> <li>API Spec\uff1a<code>output/LiveChat&amp;PrematchComment/08_API Spec &amp; Mapping/01_api_spec.md</code></li> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> </ul>"},{"location":"12_Tickets/02_api/TDD-011_ChatAPI_en/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>+2 SP\uff1aWebSocket API(\u8907\u96dc\u5ea6\u8f03\u9ad8)</li> </ul>"},{"location":"12_Tickets/03_client/TDD-020_PrematchCommentClient/","title":"TDD-020: PrematchCommentClient","text":""},{"location":"12_Tickets/03_client/TDD-020_PrematchCommentClient/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-020 Jira Key FOOTBALL-9181 \u6a19\u984c \u5be6\u4f5c PrematchCommentClient\uff08HTTP\uff09 \u985e\u578b Client \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature PrematchComment \u4f9d\u8cf4 Ticket TDD-010 Story Point 5 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a2 \u5929\u6700\u56b4\u53b2\uff1a1 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-02 (\u9031\u4e8c)"},{"location":"12_Tickets/03_client/TDD-020_PrematchCommentClient/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c PrematchCommentClient\uff08HTTP\uff09\u3002 / Implement PrematchCommentClient(HTTP)\u3002</p>"},{"location":"12_Tickets/03_client/TDD-020_PrematchCommentClient/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5be6\u4f5c <code>PrematchCommentClient</code>\uff08\u4f7f\u7528 <code>APIClient</code>\uff09 / Implement <code>PrematchCommentClient</code> (using <code>APIClient</code>)</li> <li>\u6574\u5408 <code>PrematchCommentAPI.PrematchCommentRepository</code> / Integrate <code>PrematchCommentAPI.PrematchCommentRepository</code></li> <li>\u5be6\u4f5c Error Handling / Implement Error Handling</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/PrematchComment/Services/API/PrematchCommentClient.swift</code> / File structure: <code>Sources/PrematchComment/Services/API/PrematchCommentClient.swift</code></li> </ol>"},{"location":"12_Tickets/03_client/TDD-020_PrematchCommentClient/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/03_client/TDD-020_PrematchCommentClient/#file-structure","title":"\u6a94\u6848\u7d50\u69cb / File Structure","text":"<pre><code>Sources/PrematchComment/Services/API/\n  \u2514\u2500\u2500 PrematchCommentClient.swift\n</code></pre>"},{"location":"12_Tickets/03_client/TDD-020_PrematchCommentClient/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import Foundation\nimport NetworkService\n\npublic struct PrematchCommentClient {\n    private let apiRepository: PrematchCommentAPI.PrematchCommentRepository\n\n    public init(apiRepository: PrematchCommentAPI.PrematchCommentRepository = PrematchCommentAPI.PrematchCommentRepository()) {\n        self.apiRepository = apiRepository\n    }\n\n    public func getCommentMeta(refId: String) async throws -&gt; PrematchCommentAPI.CommentMetaDTO {\n        return try await apiRepository.getCommentMeta(refId: refId)\n    }\n\n    public func getComments(refId: String, mode: String, cursor: Int?) async throws -&gt; PrematchCommentAPI.CommentPageDTO {\n        return try await apiRepository.getComments(refId: refId, mode: mode, cursor: cursor)\n    }\n\n    // \u5176\u4ed6\u65b9\u6cd5...\n}\n</code></pre>"},{"location":"12_Tickets/03_client/TDD-020_PrematchCommentClient/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>Client \u4f7f\u7528 <code>struct</code>\uff0c\u63d0\u4f9b\u516c\u958b\u65b9\u6cd5 / Client uses <code>struct</code>, provides public methods</li> <li>\u5167\u90e8\u4f7f\u7528 <code>PrematchCommentAPI.PrematchCommentRepository</code> / Internally uses <code>PrematchCommentAPI.PrematchCommentRepository</code></li> <li>\u65b9\u6cd5\u76f4\u63a5\u59d4\u6d3e\u7d66 Repository / Methods delegate directly to Repository</li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> </ul>"},{"location":"12_Tickets/03_client/TDD-020_PrematchCommentClient/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>PrematchCommentClient</code> \u5be6\u4f5c\u5b8c\u6210 / <code>PrematchCommentClient</code> implementation complete</li> <li>[ ] \u6240\u6709 API \u547c\u53eb\u65b9\u6cd5\u5be6\u4f5c\u5b8c\u6210 / All API call methods implementation complete</li> <li>[ ] Error Handling \u5be6\u4f5c\u5b8c\u6210 / Error Handling implementation complete</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 80% / Unit Test Coverage \u2265 80%</li> <li>[ ] Integration Test \u901a\u904e / Integration Test Passed</li> </ul>"},{"location":"12_Tickets/03_client/TDD-020_PrematchCommentClient/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>API Spec\uff1a<code>output/LiveChat&amp;PrematchComment/08_API Spec &amp; Mapping/01_api_spec.md</code></li> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> </ul>"},{"location":"12_Tickets/03_client/TDD-020_PrematchCommentClient_en/","title":"TDD-020: PrematchCommentClient","text":""},{"location":"12_Tickets/03_client/TDD-020_PrematchCommentClient_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-020 | | Jira Key | FOOTBALL-9181 |  | |  | Implement PrematchCommentClient\uff08HTTP\uff09 |  | |  | Type | Client |  | |  | P0 |  | |  | PrematchComment |  | |  | TDD-010 |  | |  | Story Point | 5 |  | |  | Standard\uff1a2 daysMost Stringent\uff1a1 days |  |</p>"},{"location":"12_Tickets/03_client/TDD-020_PrematchCommentClient_en/#description","title":"Description","text":"<p>Implement PrematchCommentClient(HTTP)\u3002</p>"},{"location":"12_Tickets/03_client/TDD-020_PrematchCommentClient_en/#requirements","title":"Requirements","text":"<ol> <li>Implement HTTP \u901a\u8a0aLogic</li> <li>Implement Request/Response \u7de8\u89e3\u78bc</li> <li>Implement Error Handling</li> <li>Implement All API CallMethods</li> </ol>"},{"location":"12_Tickets/03_client/TDD-020_PrematchCommentClient_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] all API CallImplementation Complete</li> <li>[ ] Error Handling Implementation Complete</li> <li>[ ] Request/Response \u7de8\u89e3\u78bcImplementation Complete</li> <li>[ ] Unit Test Coverage \u2265 80%</li> <li>[ ] Integration Test Passed</li> </ul>"},{"location":"12_Tickets/03_client/TDD-020_PrematchCommentClient_en/#related-documents","title":"Related Documents","text":"<ul> <li>API Spec\uff1a<code>output/LiveChat&amp;PrematchComment/08_API Spec &amp; Mapping/01_api_spec.md</code></li> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> </ul>"},{"location":"12_Tickets/03_client/TDD-021_LiveChatClient/","title":"TDD-021: LiveChatClient","text":""},{"location":"12_Tickets/03_client/TDD-021_LiveChatClient/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-021 Jira Key FOOTBALL-9182 \u6a19\u984c \u5be6\u4f5c LiveChatClient\uff08HTTP\uff09 \u985e\u578b Client \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature LiveChat \u4f9d\u8cf4 Ticket TDD-011 Story Point 3 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a1 \u5929\u6700\u56b4\u53b2\uff1a1 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-02 (\u9031\u4e8c)"},{"location":"12_Tickets/03_client/TDD-021_LiveChatClient/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c LiveChatClient\uff08HTTP\uff09\u3002 / Implement LiveChatClient(HTTP)\u3002</p>"},{"location":"12_Tickets/03_client/TDD-021_LiveChatClient/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5be6\u4f5c <code>LiveChatClient</code>\uff08\u4f7f\u7528 <code>APIClient</code>\uff09 / Implement <code>LiveChatClient</code> (using <code>APIClient</code>)</li> <li>\u6574\u5408 <code>ChatAPI.ChatRepository</code> / Integrate <code>ChatAPI.ChatRepository</code></li> <li>\u5be6\u4f5c Error Handling / Implement Error Handling</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/LiveChat/Services/API/LiveChatClient.swift</code> / File structure: <code>Sources/LiveChat/Services/API/LiveChatClient.swift</code></li> </ol>"},{"location":"12_Tickets/03_client/TDD-021_LiveChatClient/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/03_client/TDD-021_LiveChatClient/#file-structure","title":"\u6a94\u6848\u7d50\u69cb / File Structure","text":"<pre><code>Sources/LiveChat/Services/API/\n  \u2514\u2500\u2500 LiveChatClient.swift\n</code></pre>"},{"location":"12_Tickets/03_client/TDD-021_LiveChatClient/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import Foundation\nimport NetworkService\n\npublic struct LiveChatClient {\n    private let apiRepository: ChatAPI.ChatRepository\n\n    public init(apiRepository: ChatAPI.ChatRepository = ChatAPI.ChatRepository()) {\n        self.apiRepository = apiRepository\n    }\n\n    public func getChatroomInfo(refId: String) async throws -&gt; ChatAPI.ChatroomInfoDTO {\n        return try await apiRepository.getChatroomInfo(refId: refId)\n    }\n\n    // \u5176\u4ed6\u65b9\u6cd5...\n}\n</code></pre>"},{"location":"12_Tickets/03_client/TDD-021_LiveChatClient/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>Client \u4f7f\u7528 <code>struct</code>\uff0c\u63d0\u4f9b\u516c\u958b\u65b9\u6cd5 / Client uses <code>struct</code>, provides public methods</li> <li>\u5167\u90e8\u4f7f\u7528 <code>ChatAPI.ChatRepository</code> / Internally uses <code>ChatAPI.ChatRepository</code></li> <li>\u65b9\u6cd5\u76f4\u63a5\u59d4\u6d3e\u7d66 Repository / Methods delegate directly to Repository</li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> </ul>"},{"location":"12_Tickets/03_client/TDD-021_LiveChatClient/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>LiveChatClient</code> \u5be6\u4f5c\u5b8c\u6210 / <code>LiveChatClient</code> implementation complete</li> <li>[ ] \u6240\u6709 HTTP API \u547c\u53eb\u65b9\u6cd5\u5be6\u4f5c\u5b8c\u6210 / All HTTP API call methods implementation complete</li> <li>[ ] Error Handling \u5be6\u4f5c\u5b8c\u6210 / Error Handling implementation complete</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 80% / Unit Test Coverage \u2265 80%</li> <li>[ ] Integration Test \u901a\u904e / Integration Test Passed</li> </ul>"},{"location":"12_Tickets/03_client/TDD-021_LiveChatClient/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>API Spec\uff1a<code>output/LiveChat&amp;PrematchComment/08_API Spec &amp; Mapping/01_api_spec.md</code></li> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> </ul>"},{"location":"12_Tickets/03_client/TDD-021_LiveChatClient_en/","title":"TDD-021: LiveChatClient","text":""},{"location":"12_Tickets/03_client/TDD-021_LiveChatClient_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-021 | | Jira Key | FOOTBALL-9182 |  | |  | Implement LiveChatClient\uff08HTTP\uff09 |  | |  | Type | Client |  | |  | P0 |  | |  | LiveChat |  | |  | TDD-011 |  | |  | Story Point | 3 |  | |  | Standard\uff1a1 daysMost Stringent\uff1a1 days |  |</p>"},{"location":"12_Tickets/03_client/TDD-021_LiveChatClient_en/#description","title":"Description","text":"<p>Implement LiveChatClient(HTTP)\u3002</p>"},{"location":"12_Tickets/03_client/TDD-021_LiveChatClient_en/#requirements","title":"Requirements","text":"<ol> <li>Implement HTTP \u901a\u8a0aLogic</li> <li>Implement Request/Response \u7de8\u89e3\u78bc</li> <li>Implement Error Handling</li> <li>Implement All HTTP API CallMethods</li> </ol>"},{"location":"12_Tickets/03_client/TDD-021_LiveChatClient_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] all HTTP API CallImplementation Complete</li> <li>[ ] Error Handling Implementation Complete</li> <li>[ ] Request/Response \u7de8\u89e3\u78bcImplementation Complete</li> <li>[ ] Unit Test Coverage \u2265 80%</li> <li>[ ] Integration Test Passed</li> </ul>"},{"location":"12_Tickets/03_client/TDD-021_LiveChatClient_en/#related-documents","title":"Related Documents","text":"<ul> <li>API Spec\uff1a<code>output/LiveChat&amp;PrematchComment/08_API Spec &amp; Mapping/01_api_spec.md</code></li> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> </ul>"},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient/","title":"TDD-022: ChatWebSocketClient","text":""},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-022 Jira Key FOOTBALL-9183 \u6a19\u984c \u5be6\u4f5c ChatWebSocketClient\uff08WebSocket\uff09 \u985e\u578b Client \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature LiveChat \u4f9d\u8cf4 Ticket TDD-011 Story Point 13 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a5 \u5929\u6700\u56b4\u53b2\uff1a3 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-03 (\u9031\u4e09)"},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c ChatWebSocketClient\uff08WebSocket\uff09\u3002 / Implement ChatWebSocketClient(WebSocket)\u3002</p>"},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5be6\u4f5c <code>ChatWebSocketClient</code>\uff08\u4f7f\u7528 WebSocket \u6846\u67b6\uff09 / Implement <code>ChatWebSocketClient</code> (using WebSocket framework)</li> <li>\u5be6\u4f5c\u9023\u7dda\u7ba1\u7406\uff08\u91cd\u9023\u3001\u5fc3\u8df3\u7b49\uff09 / Implement connection management (reconnect, heartbeat, etc.)</li> <li>\u5be6\u4f5c\u8a02\u95b1 / \u53d6\u6d88\u8a02\u95b1 / Implement subscribe / unsubscribe</li> <li>\u5be6\u4f5c\u8a0a\u606f\u63a5\u6536\u8207\u767c\u9001 / Implement message receive and send</li> <li>\u5be6\u4f5c\u6307\u6578\u9000\u907f\u91cd\u9023\u7b56\u7565 / Implement exponential backoff reconnect strategy</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/LiveChat/Services/API/ChatWebSocketClient.swift</code> / File structure: <code>Sources/LiveChat/Services/API/ChatWebSocketClient.swift</code></li> </ol>"},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient/#file-structure","title":"\u6a94\u6848\u7d50\u69cb / File Structure","text":"<pre><code>Sources/LiveChat/Services/API/\n  \u2514\u2500\u2500 ChatWebSocketClient.swift\n</code></pre>"},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import Foundation\n\npublic actor ChatWebSocketClient {\n    private var webSocket: WebSocketConnection?\n    private var reconnectTask: Task&lt;Void, Never&gt;?\n    private var heartbeatTask: Task&lt;Void, Never&gt;?\n\n    public init() {}\n\n    public func connect(url: URL) async throws {\n        // WebSocket \u9023\u7dda\u908f\u8f2f\n    }\n\n    public func disconnect() async {\n        // WebSocket \u65b7\u7dda\u908f\u8f2f\n    }\n\n    public func send(message: ChatAPI.WebSocketMessage) async throws {\n        // \u767c\u9001\u8a0a\u606f\u908f\u8f2f\n    }\n\n    public func subscribe(onMessage: @escaping (ChatAPI.WebSocketMessage) -&gt; Void) {\n        // \u8a02\u95b1\u8a0a\u606f\u908f\u8f2f\n    }\n\n    private func reconnect() async {\n        // \u91cd\u9023\u908f\u8f2f\uff08\u6307\u6578\u9000\u907f\uff09\n    }\n\n    private func startHeartbeat() {\n        // \u5fc3\u8df3\u908f\u8f2f\n    }\n}\n</code></pre>"},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>WebSocket Client \u4f7f\u7528 <code>actor</code>\uff0c\u78ba\u4fdd\u7dda\u7a0b\u5b89\u5168 / WebSocket Client uses <code>actor</code>, ensures thread safety</li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> <li>\u5be6\u4f5c\u9023\u7dda\u3001\u65b7\u7dda\u3001\u767c\u9001\u3001\u8a02\u95b1\u7b49\u65b9\u6cd5 / Implement connect, disconnect, send, subscribe methods</li> </ul>"},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>ChatWebSocketClient</code> \u5be6\u4f5c\u5b8c\u6210\uff0c\u4f7f\u7528 <code>actor</code> / <code>ChatWebSocketClient</code> implementation complete, using <code>actor</code></li> <li>[ ] WebSocket \u9023\u7dda\u7ba1\u7406\u5be6\u4f5c\u5b8c\u6210 / WebSocket connection management implementation complete</li> <li>[ ] \u8a02\u95b1 / \u53d6\u6d88\u8a02\u95b1\u5be6\u4f5c\u5b8c\u6210 / Subscribe / unsubscribe implementation complete</li> <li>[ ] \u8a0a\u606f\u63a5\u6536\u8207\u767c\u9001\u5be6\u4f5c\u5b8c\u6210 / Message receive and send implementation complete</li> <li>[ ] \u91cd\u9023\u6a5f\u5236\u5be6\u4f5c\u5b8c\u6210\uff08\u6307\u6578\u9000\u907f\uff09 / Reconnect mechanism implementation complete (exponential backoff)</li> <li>[ ] \u5fc3\u8df3\u6a5f\u5236\u5be6\u4f5c\u5b8c\u6210 / Heartbeat mechanism implementation complete</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 80% / Unit Test Coverage \u2265 80%</li> <li>[ ] Integration Test \u901a\u904e / Integration Test Passed</li> </ul>"},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>API Spec\uff1a<code>output/LiveChat&amp;PrematchComment/08_API Spec &amp; Mapping/01_api_spec.md</code></li> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> </ul>"},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e / \u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>\u57fa\u790e\u4f30\u6642\uff1a\u8907\u96dc Client = 8 SP</li> <li>+3 SP\uff1aWebSocket</li> <li>+2 SP\uff1a\u8907\u96dc Reconnect \u908f\u8f2f / - +2 SP\uff1a\u8907\u96dc Reconnect Logic</li> </ul>"},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient_en/","title":"TDD-022: ChatWebSocketClient","text":""},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-022 | | Jira Key | FOOTBALL-9183 |  | |  | Implement ChatWebSocketClient\uff08WebSocket\uff09 |  | |  | Type | Client |  | |  | P0 |  | |  | LiveChat |  | |  | TDD-011 |  | |  | Story Point | 13 |  | |  | Standard\uff1a5 daysMost Stringent\uff1a3 days |  |</p>"},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient_en/#description","title":"Description","text":"<p>Implement ChatWebSocketClient(WebSocket)\u3002</p>"},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient_en/#requirements","title":"Requirements","text":"<ol> <li>Implement WebSocket \u901a\u8a0aLogic</li> <li>\u53d6\u6d88\u8a02\u95b1</li> <li>Implement\u8a0a\u606f\u63a5\u6536\u8207\u767c\u9001</li> <li>Implement\u9023\u7dda\u7ba1\u7406(\u91cd\u9023, \u5fc3\u8df3\u7b49)</li> <li>Implement\u6307\u6578\u9000\u907f\u91cd\u9023\u7b56\u7565</li> </ol>"},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] WebSocket \u9023\u7dda\u7ba1\u7406Implementation Complete</li> <li>[ ] \u53d6\u6d88\u8a02\u95b1ImplementComplete</li> <li>[ ] \u8a0a\u606f\u63a5\u6536\u8207\u767c\u9001Implementation Complete</li> <li>[ ] \u91cd\u9023\u6a5f\u5236Implementation Complete</li> <li>[ ] \u5fc3\u8df3\u6a5f\u5236Implementation Complete</li> <li>[ ] Unit Test Coverage \u2265 80%</li> <li>[ ] Integration Test Passed</li> </ul>"},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient_en/#related-documents","title":"Related Documents","text":"<ul> <li>API Spec\uff1a<code>output/LiveChat&amp;PrematchComment/08_API Spec &amp; Mapping/01_api_spec.md</code></li> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> </ul>"},{"location":"12_Tickets/03_client/TDD-022_ChatWebSocketClient_en/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>+3 SP\uff1aWebSocket</li> <li>+2 SP\uff1a\u8907\u96dc Reconnect Logic</li> </ul>"},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository/","title":"TDD-030: PrematchCommentRepository","text":""},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-030 Jira Key FOOTBALL-9185 \u6a19\u984c \u5be6\u4f5c PrematchCommentRepository \u985e\u578b Repository \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature PrematchComment \u4f9d\u8cf4 Ticket TDD-001, TDD-002, TDD-006, TDD-020 Story Point 5 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a2 \u5929\u6700\u56b4\u53b2\uff1a1 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-04 (\u9031\u56db)"},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c PrematchCommentRepository\u3002 / Implement PrematchCommentRepository\u3002</p>"},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5be6\u4f5c Repository Protocol\uff08\u5b9a\u7fa9\u5728 <code>PrematchCommentAPI+RepositoryProtocol.swift</code>\uff09 / Implement Repository Protocol (defined in <code>PrematchCommentAPI+RepositoryProtocol.swift</code>)</li> <li>\u5be6\u4f5c Repository\uff08\u5b9a\u7fa9\u5728 <code>PrematchCommentAPI+Repository.swift</code>\uff0c\u4f7f\u7528 <code>actor</code>\uff09 / Implement Repository (defined in <code>PrematchCommentAPI+Repository.swift</code>, using <code>actor</code>)</li> <li>\u5be6\u4f5c DTO \u2192 Domain Model \u8f49\u63db\uff08\u4f7f\u7528 extension\uff0c\u5982 <code>PrematchCommentAPI+PrematchCommentAPI.swift</code>\uff09 / Implement DTO \u2192 Domain Model conversion (using extension, e.g., <code>PrematchCommentAPI+PrematchCommentAPI.swift</code>)</li> <li>\u6574\u5408 <code>PrematchCommentAPI.PrematchCommentRepository</code> \u547c\u53eb / Integrate <code>PrematchCommentAPI.PrematchCommentRepository</code> call</li> <li>\u5be6\u4f5c\u6240\u6709\u65b9\u6cd5\uff1a / Implement all methods:</li> <li><code>getUserInfo() async throws -&gt; PrematchComment.UserInfo</code></li> <li><code>getCommentMeta(refId: String) async throws -&gt; PrematchComment.CommentMeta</code></li> <li><code>getComments(refId: String, mode: PrematchComment.SortMode, cursor: PrematchComment.Cursor?) async throws -&gt; ([PrematchComment.Comment], PrematchComment.PagingInfo)</code></li> <li><code>publishComment(refId: String, content: String, parentId: String?) async throws -&gt; PrematchComment.Comment</code></li> <li><code>toggleLike(commentId: String) async throws -&gt; PrematchComment.Comment</code></li> <li><code>getReplies(commentId: String, cursor: PrematchComment.Cursor?) async throws -&gt; ([PrematchComment.Comment], PrematchComment.PagingInfo)</code></li> </ol>"},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository/#file-structure","title":"\u6a94\u6848\u7d50\u69cb / File Structure","text":"<pre><code>Sources/PrematchComment/Services/API/PrematchComment/\n  \u251c\u2500\u2500 PrematchCommentAPI+RepositoryProtocol.swift  # Repository Protocol\n  \u251c\u2500\u2500 PrematchCommentAPI+Repository.swift          # Repository \u5be6\u4f5c\uff08actor\uff09\n  \u2514\u2500\u2500 PrematchCommentAPI+PrematchCommentAPI.swift # DTO \u2192 Domain Model \u8f49\u63db\n</code></pre>"},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository/#code-examples","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Examples","text":""},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository/#prematchcommentapiprematchcommentapiswift-dto-domain-model","title":"PrematchCommentAPI+PrematchCommentAPI.swift (DTO \u2192 Domain Model \u8f49\u63db)","text":"<pre><code>import Foundation\n\nextension PrematchCommentAPI.CommentDTO {\n    func toDomainComment(refId: String) -&gt; PrematchComment.Comment {\n        return PrematchComment.Comment(\n            id: String(id),\n            content: content,\n            likeCount: likeCount,\n            authorId: authorId,\n            authorNickname: authorNickname,\n            parentId: parentId == 0 ? nil : String(parentId),\n            createdAt: Date(timeIntervalSince1970: TimeInterval(createdAt) / 1000),\n            refId: refId,\n            repliesCount: repliesCount,\n            likedByMe: likedByMe,\n            isIsolated: isIsolated,\n            isDeleted: isDeleted\n        )\n    }\n}\n\nextension PrematchCommentAPI.CommentPageDTO {\n    func toDomainComments(refId: String) -&gt; ([PrematchComment.Comment], PrematchComment.PagingInfo) {\n        let comments = list.map { $0.toDomainComment(refId: refId) }\n        let pagingInfo = PrematchComment.PagingInfo(\n            cursor: cursor == -1 ? nil : PrematchComment.Cursor(value: cursor),\n            hasMore: cursor != -1\n        )\n        return (comments, pagingInfo)\n    }\n}\n</code></pre>"},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository/#prematchcommentrepository","title":"PrematchCommentRepository \u5be6\u4f5c","text":"<pre><code>import Foundation\nimport NetworkService\n\nextension PrematchCommentAPI {\n    public actor PrematchCommentRepository: PrematchCommentRepositoryProtocol {\n        private let apiRepository: PrematchCommentAPI.PrematchCommentRepository\n\n        public init(apiRepository: PrematchCommentAPI.PrematchCommentRepository = PrematchCommentAPI.PrematchCommentRepository()) {\n            self.apiRepository = apiRepository\n        }\n\n        public func getCommentMeta(refId: String) async throws -&gt; PrematchComment.CommentMeta {\n            let dto = try await apiRepository.getCommentMeta(refId: refId)\n            return dto.toDomainCommentMeta()\n        }\n\n        public func getComments(\n            refId: String,\n            mode: PrematchComment.SortMode,\n            cursor: PrematchComment.Cursor?\n        ) async throws -&gt; ([PrematchComment.Comment], PrematchComment.PagingInfo) {\n            let dto = try await apiRepository.getComments(\n                refId: refId,\n                mode: mode.rawValue,\n                cursor: cursor?.value\n            )\n            return dto.toDomainComments(refId: refId)\n        }\n\n        // \u5176\u4ed6\u65b9\u6cd5...\n    }\n}\n</code></pre>"},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>Repository \u4f7f\u7528 <code>actor</code>\uff0c\u5be6\u4f5c <code>PrematchCommentRepositoryProtocol</code> / Repository uses <code>actor</code>, implements <code>PrematchCommentRepositoryProtocol</code></li> <li>DTO \u2192 Domain Model \u8f49\u63db\u4f7f\u7528 extension\uff0c\u65b9\u6cd5\u547d\u540d\u70ba <code>toDomainXXX()</code> / DTO \u2192 Domain Model conversion uses extension, method named <code>toDomainXXX()</code></li> <li>Domain Model \u4f7f\u7528 <code>PrematchComment.XXX</code> \u547d\u540d\u7a7a\u9593 / Domain Model uses <code>PrematchComment.XXX</code> namespace</li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> </ul>"},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] Repository Protocol \u5b9a\u7fa9\u5b8c\u6210\uff08\u5728 <code>PrematchCommentAPI+RepositoryProtocol.swift</code>\uff09 / Repository Protocol definition complete (in <code>PrematchCommentAPI+RepositoryProtocol.swift</code>)</li> <li>[ ] Repository \u5be6\u4f5c\u5b8c\u6210\uff0c\u4f7f\u7528 <code>actor</code>\uff08\u5728 <code>PrematchCommentAPI+Repository.swift</code>\uff09 / Repository implementation complete, using <code>actor</code> (in <code>PrematchCommentAPI+Repository.swift</code>)</li> <li>[ ] DTO \u2192 Domain Model Mapping \u5be6\u4f5c\u5b8c\u6210\uff0c\u4f7f\u7528 extension\uff08\u5728 <code>PrematchCommentAPI+PrematchCommentAPI.swift</code>\uff09 / DTO \u2192 Domain Model Mapping implementation complete, using extension (in <code>PrematchCommentAPI+PrematchCommentAPI.swift</code>)</li> <li>[ ] \u6240\u6709\u65b9\u6cd5\u4f7f\u7528 <code>PrematchComment.XXX</code> \u547d\u540d\u7a7a\u9593 / All methods use <code>PrematchComment.XXX</code> namespace</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] \u6240\u6709\u65b9\u6cd5 Unit Test \u8986\u84cb\u7387 \u2265 80% / All methods Unit Test Coverage \u2265 80%</li> <li>[ ] Integration Test \u901a\u904e / Integration Test Passed</li> </ul>"},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Domain Model\uff1a<code>output/LiveChat&amp;PrematchComment/04_Domain Model/01_domain_model.md</code></li> <li>API Spec\uff1a<code>output/LiveChat&amp;PrematchComment/08_API Spec &amp; Mapping/01_api_spec.md</code></li> </ul>"},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository_en/","title":"TDD-030: PrematchCommentRepository","text":""},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-030 | | Jira Key | FOOTBALL-9185 |  | |  | Implement PrematchCommentRepository |  | |  | Type | Repository |  | |  | P0 |  | |  | PrematchComment |  | |  | TDD-001, TDD-002, TDD-006, TDD-020 |  | |  | Story Point | 5 |  | |  | Standard\uff1a2 daysMost Stringent\uff1a1 days |  |</p>"},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository_en/#description","title":"Description","text":"<p>Implement PrematchCommentRepository\u3002</p>"},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository_en/#requirements","title":"Requirements","text":"<ol> <li>Implement Repository \u4ecb\u9762</li> <li>Implement DTO \u2192 Domain Model \u8f49\u63db</li> <li>Integrate PrematchCommentClient Call</li> <li>ImplementallMethods\uff1a</li> <li> <ul> <li><code>getUserInfo() async throws -&gt; UserInfo</code></li> </ul> </li> <li> <ul> <li><code>getCommentMeta(refId: String) async throws -&gt; CommentMeta</code></li> </ul> </li> <li> <ul> <li><code>getComments(refId: String, mode: SortMode, cursor: Cursor?) async throws -&gt; ([Comment], PagingInfo)</code></li> </ul> </li> <li> <ul> <li><code>publishComment(refId: String, content: String, parentId: String?) async throws -&gt; Comment</code></li> </ul> </li> <li> <ul> <li><code>toggleLike(commentId: String) async throws -&gt; Comment</code></li> </ul> </li> <li> <ul> <li><code>getReplies(commentId: String, cursor: Cursor?) async throws -&gt; ([Comment], PagingInfo)</code></li> </ul> </li> </ol>"},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Repository \u4ecb\u9762Implementation Complete</li> <li>[ ] DTO \u2192 Domain Model Mapping Implementation Complete</li> <li>[ ] allMethods Unit Test Coverage \u2265 80%</li> <li>[ ] Integration Test Passed</li> </ul>"},{"location":"12_Tickets/04_repository/TDD-030_PrematchCommentRepository_en/#related-documents","title":"Related Documents","text":"<ul> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Domain Model\uff1a<code>output/LiveChat&amp;PrematchComment/04_Domain Model/01_domain_model.md</code></li> <li>API Spec\uff1a<code>output/LiveChat&amp;PrematchComment/08_API Spec &amp; Mapping/01_api_spec.md</code></li> </ul>"},{"location":"12_Tickets/04_repository/TDD-031_LiveChatRepository/","title":"TDD-031: LiveChatRepository","text":""},{"location":"12_Tickets/04_repository/TDD-031_LiveChatRepository/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-031 Jira Key FOOTBALL-9186 \u6a19\u984c \u5be6\u4f5c LiveChatRepository \u985e\u578b Repository \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature LiveChat \u4f9d\u8cf4 Ticket TDD-004, TDD-005, TDD-021, TDD-022 Story Point 8 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a3 \u5929\u6700\u56b4\u53b2\uff1a2 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-05 (\u9031\u4e94)"},{"location":"12_Tickets/04_repository/TDD-031_LiveChatRepository/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c LiveChatRepository\u3002 / Implement LiveChatRepository\u3002</p>"},{"location":"12_Tickets/04_repository/TDD-031_LiveChatRepository/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5be6\u4f5c Repository Protocol\uff08\u5b9a\u7fa9\u5728 <code>ChatAPI+RepositoryProtocol.swift</code>\uff09 / Implement Repository Protocol (defined in <code>ChatAPI+RepositoryProtocol.swift</code>)</li> <li>\u5be6\u4f5c Repository\uff08\u5b9a\u7fa9\u5728 <code>ChatAPI+Repository.swift</code>\uff0c\u4f7f\u7528 <code>actor</code>\uff09 / Implement Repository (defined in <code>ChatAPI+Repository.swift</code>, using <code>actor</code>)</li> <li>\u5be6\u4f5c DTO \u2192 Domain Model \u8f49\u63db\uff08\u4f7f\u7528 extension\uff0c\u5982 <code>ChatAPI+LiveChat.swift</code>\uff09 / Implement DTO \u2192 Domain Model conversion (using extension, e.g., <code>ChatAPI+LiveChat.swift</code>)</li> <li>\u6574\u5408 <code>LiveChatClient</code> \u548c <code>ChatWebSocketClient</code> \u547c\u53eb / Integrate <code>LiveChatClient</code> and <code>ChatWebSocketClient</code> calls</li> <li>\u7ba1\u7406 WebSocket \u9023\u7dda / Manage WebSocket connection</li> <li>\u5be6\u4f5c\u6240\u6709\u65b9\u6cd5\uff1a / Implement all methods:</li> <li><code>getChatroomInfo(refId: String) async throws -&gt; LiveChat.ChatroomInfo</code></li> <li><code>joinChatroom(chatroomId: String) async throws -&gt; Void</code></li> <li><code>loadHistoricalMessages(chatroomId: String, lastMessageNo: Int) async throws -&gt; [LiveChat.Message]</code></li> <li><code>sendMessage(chatroomId: String, content: String, messageType: LiveChat.MessageType) async throws -&gt; LiveChat.Message</code></li> <li><code>leaveChatroom(chatroomId: String) async throws -&gt; Void</code></li> <li><code>subscribeWebSocket() async throws -&gt; Void</code></li> <li><code>unsubscribeWebSocket() async throws -&gt; Void</code></li> <li><code>addToBlacklist(userId: String, eventId: String, timestamp: Date) async throws -&gt; Void</code></li> <li><code>checkAndCleanBlacklist() async throws -&gt; Void</code></li> </ol>"},{"location":"12_Tickets/04_repository/TDD-031_LiveChatRepository/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/04_repository/TDD-031_LiveChatRepository/#file-structure","title":"\u6a94\u6848\u7d50\u69cb / File Structure","text":"<pre><code>Sources/LiveChat/Services/API/Chat/\n  \u251c\u2500\u2500 ChatAPI+RepositoryProtocol.swift  # Repository Protocol\n  \u251c\u2500\u2500 ChatAPI+Repository.swift          # Repository \u5be6\u4f5c\uff08actor\uff09\n  \u2514\u2500\u2500 ChatAPI+LiveChat.swift            # DTO \u2192 Domain Model \u8f49\u63db\n</code></pre>"},{"location":"12_Tickets/04_repository/TDD-031_LiveChatRepository/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>Repository \u4f7f\u7528 <code>actor</code>\uff0c\u5be6\u4f5c <code>ChatRepositoryProtocol</code> / Repository uses <code>actor</code>, implements <code>ChatRepositoryProtocol</code></li> <li>DTO \u2192 Domain Model \u8f49\u63db\u4f7f\u7528 extension\uff0c\u65b9\u6cd5\u547d\u540d\u70ba <code>toDomainXXX()</code> / DTO \u2192 Domain Model conversion uses extension, method named <code>toDomainXXX()</code></li> <li>Domain Model \u4f7f\u7528 <code>LiveChat.XXX</code> \u547d\u540d\u7a7a\u9593 / Domain Model uses <code>LiveChat.XXX</code> namespace</li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> </ul>"},{"location":"12_Tickets/04_repository/TDD-031_LiveChatRepository/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] Repository Protocol \u5b9a\u7fa9\u5b8c\u6210\uff08\u5728 <code>ChatAPI+RepositoryProtocol.swift</code>\uff09 / Repository Protocol definition complete (in <code>ChatAPI+RepositoryProtocol.swift</code>)</li> <li>[ ] Repository \u5be6\u4f5c\u5b8c\u6210\uff0c\u4f7f\u7528 <code>actor</code>\uff08\u5728 <code>ChatAPI+Repository.swift</code>\uff09 / Repository implementation complete, using <code>actor</code> (in <code>ChatAPI+Repository.swift</code>)</li> <li>[ ] DTO \u2192 Domain Model Mapping \u5be6\u4f5c\u5b8c\u6210\uff0c\u4f7f\u7528 extension\uff08\u5728 <code>ChatAPI+LiveChat.swift</code>\uff09 / DTO \u2192 Domain Model Mapping implementation complete, using extension (in <code>ChatAPI+LiveChat.swift</code>)</li> <li>[ ] \u6240\u6709\u65b9\u6cd5\u4f7f\u7528 <code>LiveChat.XXX</code> \u547d\u540d\u7a7a\u9593 / All methods use <code>LiveChat.XXX</code> namespace</li> <li>[ ] WebSocket \u9023\u7dda\u7ba1\u7406\u5be6\u4f5c\u5b8c\u6210 / WebSocket connection management implementation complete</li> <li>[ ] \u9ed1\u540d\u55ae\u7ba1\u7406\u5be6\u4f5c\u5b8c\u6210 / Blacklist management implementation complete</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] \u6240\u6709\u65b9\u6cd5 Unit Test \u8986\u84cb\u7387 \u2265 80% / All methods Unit Test Coverage \u2265 80%</li> <li>[ ] Integration Test \u901a\u904e / Integration Test Passed</li> </ul>"},{"location":"12_Tickets/04_repository/TDD-031_LiveChatRepository/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Domain Model\uff1a<code>output/LiveChat&amp;PrematchComment/04_Domain Model/01_domain_model.md</code></li> <li>API Spec\uff1a<code>output/LiveChat&amp;PrematchComment/08_API Spec &amp; Mapping/01_api_spec.md</code></li> </ul>"},{"location":"12_Tickets/04_repository/TDD-031_LiveChatRepository/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e / \u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>\u57fa\u790e\u4f30\u6642\uff1a\u4e2d\u7b49 Repository = 3 SP</li> <li>+2 SP\uff1a\u9700\u8981\u6574\u5408\u591a\u500b Client\uff08HTTP + WebSocket\uff09 / - +2 SP\uff1a\u9700\u8981\u6574\u5408\u591a\u500b Client(HTTP + WebSocket)</li> <li>+2 SP\uff1a\u8907\u96dc\u7684\u8cc7\u6599\u5408\u4f75\u908f\u8f2f\uff08\u6b77\u53f2\u8a0a\u606f\u8207 WebSocket \u8a0a\u606f\u5408\u4f75\uff09 / - +2 SP\uff1a\u8907\u96dc\u7684\u8cc7\u6599\u5408\u4f75Logic(\u6b77\u53f2\u8a0a\u606f\u8207 WebSocket \u8a0a\u606f\u5408\u4f75)</li> <li>+1 SP\uff1a\u9ed1\u540d\u55ae\u7ba1\u7406\u908f\u8f2f / - +1 SP\uff1a\u9ed1\u540d\u55ae\u7ba1\u7406Logic</li> </ul>"},{"location":"12_Tickets/04_repository/TDD-031_LiveChatRepository_en/","title":"TDD-031: LiveChatRepository","text":""},{"location":"12_Tickets/04_repository/TDD-031_LiveChatRepository_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-031 | | Jira Key | FOOTBALL-9186 |  | |  | Implement LiveChatRepository |  | |  | Type | Repository |  | |  | P0 |  | |  | LiveChat |  | |  | TDD-004, TDD-005, TDD-021, TDD-022 |  | |  | Story Point | 8 |  | |  | Standard\uff1a3 daysMost Stringent\uff1a2 days |  |</p>"},{"location":"12_Tickets/04_repository/TDD-031_LiveChatRepository_en/#description","title":"Description","text":"<p>Implement LiveChatRepository\u3002</p>"},{"location":"12_Tickets/04_repository/TDD-031_LiveChatRepository_en/#requirements","title":"Requirements","text":"<ol> <li>Implement Repository \u4ecb\u9762</li> <li>Implement DTO \u2192 Domain Model \u8f49\u63db</li> <li>Integrate LiveChatClient and ChatWebSocketClient Call</li> <li>\u7ba1\u7406 WebSocket \u9023\u7dda</li> <li>ImplementallMethods\uff1a</li> <li> <ul> <li><code>getChatroomInfo(refId: String) async throws -&gt; ChatroomInfo</code></li> </ul> </li> <li> <ul> <li><code>joinChatroom(chatroomId: String) async throws -&gt; Void</code></li> </ul> </li> <li> <ul> <li><code>loadHistoricalMessages(chatroomId: String, lastMessageNo: Int) async throws -&gt; [Message]</code></li> </ul> </li> <li> <ul> <li><code>sendMessage(chatroomId: String, content: String, messageType: MessageType) async throws -&gt; Message</code></li> </ul> </li> <li> <ul> <li><code>leaveChatroom(chatroomId: String) async throws -&gt; Void</code></li> </ul> </li> <li> <ul> <li><code>subscribeWebSocket() async throws -&gt; Void</code></li> </ul> </li> <li> <ul> <li><code>unsubscribeWebSocket() async throws -&gt; Void</code></li> </ul> </li> <li> <ul> <li><code>addToBlacklist(userId: String, eventId: String, timestamp: Date) async throws -&gt; Void</code></li> </ul> </li> <li> <ul> <li><code>checkAndCleanBlacklist() async throws -&gt; Void</code></li> </ul> </li> </ol>"},{"location":"12_Tickets/04_repository/TDD-031_LiveChatRepository_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Repository \u4ecb\u9762Implementation Complete</li> <li>[ ] DTO \u2192 Domain Model Mapping Implementation Complete</li> <li>[ ] WebSocket \u9023\u7dda\u7ba1\u7406Implementation Complete</li> <li>[ ] \u9ed1\u540d\u55ae\u7ba1\u7406Implementation Complete</li> <li>[ ] allMethods Unit Test Coverage \u2265 80%</li> <li>[ ] Integration Test Passed</li> </ul>"},{"location":"12_Tickets/04_repository/TDD-031_LiveChatRepository_en/#related-documents","title":"Related Documents","text":"<ul> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Domain Model\uff1a<code>output/LiveChat&amp;PrematchComment/04_Domain Model/01_domain_model.md</code></li> <li>API Spec\uff1a<code>output/LiveChat&amp;PrematchComment/08_API Spec &amp; Mapping/01_api_spec.md</code></li> </ul>"},{"location":"12_Tickets/04_repository/TDD-031_LiveChatRepository_en/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>+2 SP\uff1a\u9700\u8981\u6574\u5408\u591a\u500b Client(HTTP + WebSocket)</li> <li>+2 SP\uff1a\u8907\u96dc\u7684\u8cc7\u6599\u5408\u4f75Logic(\u6b77\u53f2\u8a0a\u606f\u8207 WebSocket \u8a0a\u606f\u5408\u4f75)</li> <li>+1 SP\uff1a\u9ed1\u540d\u55ae\u7ba1\u7406Logic</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-040_ReloadCommentListUseCase/","title":"TDD-040: ReloadCommentListUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-040_ReloadCommentListUseCase/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-040 Jira Key FOOTBALL-9188 \u6a19\u984c \u5be6\u4f5c ReloadCommentListUseCase \u985e\u578b UseCase \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature PrematchComment \u4f9d\u8cf4 Ticket TDD-030 Story Point 5 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a2 \u5929\u6700\u56b4\u53b2\uff1a1 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-08 (\u9031\u4e00)"},{"location":"12_Tickets/05_usecase/TDD-040_ReloadCommentListUseCase/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c ReloadCommentListUseCase\u3002 / Implement ReloadCommentListUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-040_ReloadCommentListUseCase/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5be6\u4f5c <code>ReloadCommentListUseCase</code> struct / Implement <code>ReloadCommentListUseCase</code> struct</li> <li>\u5b9a\u7fa9 Input/Output Model / Define Input/Output Model</li> <li>\u6574\u5408 <code>PrematchCommentRepository</code> \u547c\u53eb / Integrate <code>PrematchCommentRepository</code> call</li> <li>\u5be6\u4f5c\u5546\u696d\u908f\u8f2f\uff08triggerType\u3001mode\u3001cursor \u8655\u7406\uff09 / Implement business logic (triggerType, mode, cursor handling)</li> <li>\u5be6\u4f5c Error Handling / Implement Error Handling</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/PrematchComment/UseCases/ReloadCommentListUseCase.swift</code> / File structure: <code>Sources/PrematchComment/UseCases/ReloadCommentListUseCase.swift</code></li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-040_ReloadCommentListUseCase/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/05_usecase/TDD-040_ReloadCommentListUseCase/#file-structure","title":"\u6a94\u6848\u7d50\u69cb / File Structure","text":"<pre><code>Sources/PrematchComment/UseCases/\n  \u2514\u2500\u2500 ReloadCommentListUseCase.swift\n</code></pre>"},{"location":"12_Tickets/05_usecase/TDD-040_ReloadCommentListUseCase/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import Foundation\n\npublic struct ReloadCommentListUseCase {\n    private let repository: PrematchCommentRepository\n\n    public init(repository: PrematchCommentRepository) {\n        self.repository = repository\n    }\n\n    public struct Input: Equatable, Sendable {\n        public let refId: String\n        public let mode: PrematchComment.SortMode\n        public let triggerType: TriggerType\n        public let cursor: PrematchComment.Cursor?\n\n        public enum TriggerType: Equatable, Sendable {\n            case init\n            case refresh\n        }\n\n        public init(\n            refId: String,\n            mode: PrematchComment.SortMode,\n            triggerType: TriggerType,\n            cursor: PrematchComment.Cursor?\n        ) {\n            self.refId = refId\n            self.mode = mode\n            self.triggerType = triggerType\n            self.cursor = cursor\n        }\n    }\n\n    public struct Output: Equatable, Sendable {\n        public let comments: [PrematchComment.Comment]\n        public let pagingInfo: PrematchComment.PagingInfo\n\n        public init(\n            comments: [PrematchComment.Comment],\n            pagingInfo: PrematchComment.PagingInfo\n        ) {\n            self.comments = comments\n            self.pagingInfo = pagingInfo\n        }\n    }\n\n    public func execute(input: Input) async throws -&gt; Output {\n        let (comments, pagingInfo) = try await repository.getComments(\n            refId: input.refId,\n            mode: input.mode.rawValue,\n            cursor: input.cursor?.value\n        )\n        return Output(comments: comments, pagingInfo: pagingInfo)\n    }\n}\n</code></pre>"},{"location":"12_Tickets/05_usecase/TDD-040_ReloadCommentListUseCase/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>UseCase \u4f7f\u7528 <code>struct</code>\uff0c\u63d0\u4f9b <code>execute(input:)</code> \u65b9\u6cd5 / UseCase uses <code>struct</code>, provides <code>execute(input:)</code> method</li> <li>Input/Output \u4f7f\u7528 nested <code>struct</code>\uff0c\u5be6\u4f5c <code>Equatable</code>\u3001<code>Sendable</code> / Input/Output use nested <code>struct</code>, implement <code>Equatable</code>, <code>Sendable</code></li> <li>\u4f7f\u7528 <code>PrematchComment.XXX</code> \u547d\u540d\u7a7a\u9593 / Use <code>PrematchComment.XXX</code> namespace</li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-040_ReloadCommentListUseCase/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>ReloadCommentListUseCase</code> \u5be6\u4f5c\u5b8c\u6210 / <code>ReloadCommentListUseCase</code> implementation complete</li> <li>[ ] Input/Output Model \u5b9a\u7fa9\u5b8c\u6210 / Input/Output Model definition complete</li> <li>[ ] UseCase \u5546\u696d\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / UseCase business logic implementation complete</li> <li>[ ] \u6240\u6709 Test Scenarios \u901a\u904e\uff08Basic / Branch\uff09 / All Test Scenarios passed (Basic / Branch)</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 90% / Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test \u901a\u904e / Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-040_ReloadCommentListUseCase/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>UseCase \u5b9a\u7fa9\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model\uff1a<code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios\uff1a<code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-040_ReloadCommentListUseCase_en/","title":"TDD-040: ReloadCommentListUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-040_ReloadCommentListUseCase_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-040 | | Jira Key | FOOTBALL-9188 |  | |  | Implement ReloadCommentListUseCase |  | |  | Type | UseCase |  | |  | P0 |  | |  | PrematchComment |  | |  | TDD-030 |  | |  | Story Point | 5 |  | |  | Standard\uff1a2 daysMost Stringent\uff1a1 days |  |</p>"},{"location":"12_Tickets/05_usecase/TDD-040_ReloadCommentListUseCase_en/#description","title":"Description","text":"<p>Implement ReloadCommentListUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-040_ReloadCommentListUseCase_en/#requirements","title":"Requirements","text":"<ol> <li>Implement UseCase Business Logic</li> <li>Integrate PrematchCommentRepository Call</li> <li>Implement Input/Output Model Validation</li> <li>Implement Error Handling</li> <li>Support triggerType (init / refresh)</li> <li>Support mode (top / newest)</li> <li>Support Pagination (cursor)</li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-040_ReloadCommentListUseCase_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] UseCase Business Logic Implementation Complete</li> <li>[ ] All Test Scenarios Passed (Basic / Branch)</li> <li>[ ] Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-040_ReloadCommentListUseCase_en/#related-documents","title":"Related Documents","text":"<ul> <li>UseCase Definition: <code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model: <code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios: <code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase/","title":"TDD-041: PublishCommentUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-041 Jira Key FOOTBALL-9189 \u6a19\u984c \u5be6\u4f5c PublishCommentUseCase \u985e\u578b UseCase \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature PrematchComment \u4f9d\u8cf4 Ticket TDD-030 Story Point 13 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a5 \u5929\u6700\u56b4\u53b2\uff1a4 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-09 (\u9031\u4e8c)"},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c PublishCommentUseCase\u3002 / Implement PublishCommentUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5be6\u4f5c <code>PublishCommentUseCase</code> struct / Implement <code>PublishCommentUseCase</code> struct</li> <li>\u5b9a\u7fa9 Input/Output Model / Define Input/Output Model</li> <li>\u6574\u5408 <code>PrematchCommentRepository</code> \u547c\u53eb / Integrate <code>PrematchCommentRepository</code> call</li> <li>\u6574\u5408 <code>PersonalPageAdapter</code> Protocol\uff08\u767b\u5165\u6aa2\u67e5\uff09 / Integrate <code>PersonalPageAdapter</code> Protocol (login check)</li> <li>\u6574\u5408 <code>FComSharedFlowAdapter</code> Protocol\uff08nickname \u5efa\u7acb\uff09 / Integrate <code>FComSharedFlowAdapter</code> Protocol (nickname creation)</li> <li>\u5be6\u4f5c\u5546\u696d\u908f\u8f2f\uff08\u7559\u8a00 vs \u56de\u8986\uff09 / Implement business logic (comment vs reply)</li> <li>\u5be6\u4f5c Error Handling / Implement Error Handling</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/PrematchComment/UseCases/PublishCommentUseCase.swift</code> / File structure: <code>Sources/PrematchComment/UseCases/PublishCommentUseCase.swift</code></li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase/#file-structure","title":"\u6a94\u6848\u7d50\u69cb / File Structure","text":"<pre><code>Sources/PrematchComment/UseCases/\n  \u2514\u2500\u2500 PublishCommentUseCase.swift\n</code></pre>"},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import Foundation\n\npublic struct PublishCommentUseCase {\n    private let repository: PrematchCommentRepository\n    private let personalPageAdapter: PersonalPageAdapter\n    private let fComSharedFlowAdapter: FComSharedFlowAdapter\n\n    public init(\n        repository: PrematchCommentRepository,\n        personalPageAdapter: PersonalPageAdapter,\n        fComSharedFlowAdapter: FComSharedFlowAdapter\n    ) {\n        self.repository = repository\n        self.personalPageAdapter = personalPageAdapter\n        self.fComSharedFlowAdapter = fComSharedFlowAdapter\n    }\n\n    public struct Input: Equatable, Sendable {\n        public let refId: String\n        public let content: String\n        public let parentId: String?\n\n        public init(refId: String, content: String, parentId: String?) {\n            self.refId = refId\n            self.content = content\n            self.parentId = parentId\n        }\n    }\n\n    public struct Output: Equatable, Sendable {\n        public let comment: PrematchComment.Comment\n\n        public init(comment: PrematchComment.Comment) {\n            self.comment = comment\n        }\n    }\n\n    public func execute(input: Input) async throws -&gt; Output {\n        // 1. \u767b\u5165\u6aa2\u67e5\n        guard personalPageAdapter.isLoggedIn else {\n            throw PublishCommentError.notLoggedIn\n        }\n\n        // 2. Nickname \u6aa2\u67e5\u548c\u5efa\u7acb\n        if !personalPageAdapter.hasNickname {\n            try await fComSharedFlowAdapter.createNickname()\n        }\n\n        // 3. \u767c\u9001\u7559\u8a00\n        let comment = try await repository.publishComment(\n            refId: input.refId,\n            content: input.content,\n            parentId: input.parentId\n        )\n\n        return Output(comment: comment)\n    }\n}\n</code></pre>"},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>UseCase \u4f7f\u7528 <code>struct</code>\uff0c\u63d0\u4f9b <code>execute(input:)</code> \u65b9\u6cd5 / UseCase uses <code>struct</code>, provides <code>execute(input:)</code> method</li> <li>Input/Output \u4f7f\u7528 nested <code>struct</code>\uff0c\u5be6\u4f5c <code>Equatable</code>\u3001<code>Sendable</code> / Input/Output use nested <code>struct</code>, implement <code>Equatable</code>, <code>Sendable</code></li> <li>\u4f7f\u7528 <code>PrematchComment.XXX</code> \u547d\u540d\u7a7a\u9593 / Use <code>PrematchComment.XXX</code> namespace</li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>PublishCommentUseCase</code> \u5be6\u4f5c\u5b8c\u6210 / <code>PublishCommentUseCase</code> implementation complete</li> <li>[ ] Input/Output Model \u5b9a\u7fa9\u5b8c\u6210 / Input/Output Model definition complete</li> <li>[ ] \u767b\u5165\u6aa2\u67e5\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / Login check logic implementation complete</li> <li>[ ] Nickname \u6aa2\u67e5\u548c\u5efa\u7acb\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / Nickname check and creation logic implementation complete</li> <li>[ ] UseCase \u5546\u696d\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / UseCase business logic implementation complete</li> <li>[ ] \u6240\u6709 Test Scenarios \u901a\u904e\uff08Basic / Branch\uff09 / All Test Scenarios passed (Basic / Branch)</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 90% / Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test \u901a\u904e / Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>UseCase \u5b9a\u7fa9\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model\uff1a<code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios\uff1a<code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e / \u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>\u57fa\u790e\u4f30\u6642\uff1a\u4e2d\u7b49 UseCase = 5 SP</li> <li>+3 SP\uff1a\u9700\u8981\u6574\u5408\u591a\u500b Shared Feature\uff08PersonalPageAdapter\u3001FComSharedFlowAdapter\uff09 / - +3 SP\uff1a\u9700\u8981\u6574\u5408\u591a\u500b Shared Feature(PersonalPageAdapter, FComSharedFlowAdapter)</li> <li>+2 SP\uff1a\u8907\u96dc\u7684\u9a57\u8b49\u908f\u8f2f\uff08\u767b\u5165\u6aa2\u67e5\u3001nickname \u6aa2\u67e5\uff09 / - +2 SP\uff1a\u8907\u96dc\u7684ValidationLogic(\u767b\u5165\u6aa2\u67e5, nickname \u6aa2\u67e5)</li> <li>+2 SP\uff1a\u8907\u96dc\u7684\u5546\u696d\u908f\u8f2f\uff08\u7559\u8a00 vs \u56de\u8986\uff09 / - +2 SP\uff1a\u8907\u96dc\u7684\u5546\u696dLogic(\u7559\u8a00 vs \u56de\u8986)</li> <li>+1 SP\uff1a\u9700\u8981\u8655\u7406\u591a\u7a2e Error \u60c5\u6cc1</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase_en/","title":"TDD-041: PublishCommentUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-041 | | Jira Key | FOOTBALL-9189 |  | |  | Implement PublishCommentUseCase |  | |  | Type | UseCase |  | |  | P0 |  | |  | PrematchComment |  | |  | TDD-030 |  | |  | Story Point | 13 |  | |  | Standard\uff1a5 daysMost Stringent\uff1a4 days |  |</p>"},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase_en/#description","title":"Description","text":"<p>Implement PublishCommentUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase_en/#requirements","title":"Requirements","text":"<ol> <li>Implement UseCase Business Logic</li> <li>Integrate PrematchCommentRepository Call</li> <li>Implement Input/Output Model Validation</li> <li>Implement Error Handling</li> <li>Integrate PersonalPageAdapter Protocol(\u767b\u5165\u6aa2\u67e5)</li> <li>Integrate FComSharedFlowAdapter Protocol(nickname \u5efa\u7acb)</li> <li>Support\u7559\u8a00and\u56de\u8986(via parentId \u5340\u5206)</li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] UseCase Business Logic Implementation Complete</li> <li>[ ] \u767b\u5165\u6aa2\u67e5LogicImplementation Complete</li> <li>[ ] Nickname \u6aa2\u67e5and\u5efa\u7acbLogicImplementation Complete</li> <li>[ ] All branches tested</li> <li>[ ] Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase_en/#related-documents","title":"Related Documents","text":"<ul> <li>UseCase Definition: <code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model: <code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios: <code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-041_PublishCommentUseCase_en/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>+3 SP\uff1a\u9700\u8981\u6574\u5408\u591a\u500b Shared Feature(PersonalPageAdapter, FComSharedFlowAdapter)</li> <li>+2 SP\uff1a\u8907\u96dc\u7684ValidationLogic(\u767b\u5165\u6aa2\u67e5, nickname \u6aa2\u67e5)</li> <li>+2 SP\uff1a\u8907\u96dc\u7684\u5546\u696dLogic(\u7559\u8a00 vs \u56de\u8986)</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-042_ToggleLikeUseCase/","title":"TDD-042: ToggleLikeUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-042_ToggleLikeUseCase/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-042 Jira Key FOOTBALL-9190 \u6a19\u984c \u5be6\u4f5c ToggleLikeUseCase \u985e\u578b UseCase \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature PrematchComment \u4f9d\u8cf4 Ticket TDD-030 Story Point 5 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a2 \u5929\u6700\u56b4\u53b2\uff1a1 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-10 (\u9031\u4e09)"},{"location":"12_Tickets/05_usecase/TDD-042_ToggleLikeUseCase/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c ToggleLikeUseCase\u3002 / Implement ToggleLikeUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-042_ToggleLikeUseCase/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5be6\u4f5c <code>ToggleLikeUseCase</code> struct / Implement <code>ToggleLikeUseCase</code> struct</li> <li>\u5b9a\u7fa9 Input/Output Model / Define Input/Output Model</li> <li>\u6574\u5408 <code>PrematchCommentRepository</code> \u547c\u53eb / Integrate <code>PrematchCommentRepository</code> call</li> <li>\u6574\u5408 <code>PersonalPageAdapter</code> Protocol\uff08\u767b\u5165\u6aa2\u67e5\uff09 / Integrate <code>PersonalPageAdapter</code> Protocol (login check)</li> <li>\u652f\u63f4 Optimistic UI \u66f4\u65b0 / Support Optimistic UI update</li> <li>\u5be6\u4f5c Error Handling / Implement Error Handling</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/PrematchComment/UseCases/ToggleLikeUseCase.swift</code> / File structure: <code>Sources/PrematchComment/UseCases/ToggleLikeUseCase.swift</code></li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-042_ToggleLikeUseCase/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/05_usecase/TDD-042_ToggleLikeUseCase/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import Foundation\n\npublic struct ToggleLikeUseCase {\n    private let repository: PrematchCommentRepository\n    private let personalPageAdapter: PersonalPageAdapter\n\n    public init(\n        repository: PrematchCommentRepository,\n        personalPageAdapter: PersonalPageAdapter\n    ) {\n        self.repository = repository\n        self.personalPageAdapter = personalPageAdapter\n    }\n\n    public struct Input: Equatable, Sendable {\n        public let commentId: String\n\n        public init(commentId: String) {\n            self.commentId = commentId\n        }\n    }\n\n    public struct Output: Equatable, Sendable {\n        public let comment: PrematchComment.Comment\n\n        public init(comment: PrematchComment.Comment) {\n            self.comment = comment\n        }\n    }\n\n    public func execute(input: Input) async throws -&gt; Output {\n        // \u767b\u5165\u6aa2\u67e5\n        guard personalPageAdapter.isLoggedIn else {\n            throw ToggleLikeError.notLoggedIn\n        }\n\n        // Toggle Like\n        let comment = try await repository.toggleLike(commentId: input.commentId)\n        return Output(comment: comment)\n    }\n}\n</code></pre>"},{"location":"12_Tickets/05_usecase/TDD-042_ToggleLikeUseCase/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>UseCase \u4f7f\u7528 <code>struct</code>\uff0c\u63d0\u4f9b <code>execute(input:)</code> \u65b9\u6cd5 / UseCase uses <code>struct</code>, provides <code>execute(input:)</code> method</li> <li>Input/Output \u4f7f\u7528 nested <code>struct</code>\uff0c\u5be6\u4f5c <code>Equatable</code>\u3001<code>Sendable</code> / Input/Output use nested <code>struct</code>, implement <code>Equatable</code>, <code>Sendable</code></li> <li>\u4f7f\u7528 <code>PrematchComment.XXX</code> \u547d\u540d\u7a7a\u9593 / Use <code>PrematchComment.XXX</code> namespace</li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-042_ToggleLikeUseCase/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>ToggleLikeUseCase</code> \u5be6\u4f5c\u5b8c\u6210 / <code>ToggleLikeUseCase</code> implementation complete</li> <li>[ ] Input/Output Model \u5b9a\u7fa9\u5b8c\u6210 / Input/Output Model definition complete</li> <li>[ ] \u767b\u5165\u6aa2\u67e5\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / Login check logic implementation complete</li> <li>[ ] UseCase \u5546\u696d\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / UseCase business logic implementation complete</li> <li>[ ] \u6240\u6709 Test Scenarios \u901a\u904e\uff08Basic / Optional\uff09 / All Test Scenarios passed (Basic / Optional)</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 90% / Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test \u901a\u904e / Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-042_ToggleLikeUseCase/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>UseCase \u5b9a\u7fa9\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model\uff1a<code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios\uff1a<code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-042_ToggleLikeUseCase_en/","title":"TDD-042: ToggleLikeUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-042_ToggleLikeUseCase_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-042 | | Jira Key | FOOTBALL-9190 |  | |  | Implement ToggleLikeUseCase |  | |  | Type | UseCase |  | |  | P0 |  | |  | PrematchComment |  | |  | TDD-030 |  | |  | Story Point | 5 |  | |  | Standard\uff1a2 daysMost Stringent\uff1a1 days |  |</p>"},{"location":"12_Tickets/05_usecase/TDD-042_ToggleLikeUseCase_en/#description","title":"Description","text":"<p>Implement ToggleLikeUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-042_ToggleLikeUseCase_en/#requirements","title":"Requirements","text":"<ol> <li>Implement UseCase Business Logic</li> <li>Integrate PrematchCommentRepository Call</li> <li>Implement Input/Output Model Validation</li> <li>Implement Error Handling</li> <li>Integrate PersonalPageAdapter Protocol(\u767b\u5165\u6aa2\u67e5)</li> <li>Support Optimistic UI Update</li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-042_ToggleLikeUseCase_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] UseCase Business Logic Implementation Complete</li> <li>[ ] \u767b\u5165\u6aa2\u67e5LogicImplementation Complete</li> <li>[ ] Optional</li> <li>[ ] Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-042_ToggleLikeUseCase_en/#related-documents","title":"Related Documents","text":"<ul> <li>UseCase Definition: <code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model: <code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios: <code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-043_LoadRepliesUseCase/","title":"TDD-043: LoadRepliesUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-043_LoadRepliesUseCase/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-043 Jira Key FOOTBALL-9191 \u6a19\u984c \u5be6\u4f5c LoadRepliesUseCase \u985e\u578b UseCase \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature PrematchComment \u4f9d\u8cf4 Ticket TDD-030 Story Point 5 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a2 \u5929\u6700\u56b4\u53b2\uff1a1 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-10 (\u9031\u4e09)"},{"location":"12_Tickets/05_usecase/TDD-043_LoadRepliesUseCase/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c LoadRepliesUseCase\u3002 / Implement LoadRepliesUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-043_LoadRepliesUseCase/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5be6\u4f5c <code>LoadRepliesUseCase</code> struct / Implement <code>LoadRepliesUseCase</code> struct</li> <li>\u5b9a\u7fa9 Input/Output Model / Define Input/Output Model</li> <li>\u6574\u5408 <code>PrematchCommentRepository</code> \u547c\u53eb / Integrate <code>PrematchCommentRepository</code> call</li> <li>\u652f\u63f4\u5206\u9801\u8f09\u5165\uff08cursor \u6a5f\u5236\uff09 / Support pagination loading (cursor mechanism)</li> <li>\u5be6\u4f5c Error Handling / Implement Error Handling</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/PrematchComment/UseCases/LoadRepliesUseCase.swift</code> / File structure: <code>Sources/PrematchComment/UseCases/LoadRepliesUseCase.swift</code></li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-043_LoadRepliesUseCase/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/05_usecase/TDD-043_LoadRepliesUseCase/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import Foundation\n\npublic struct LoadRepliesUseCase {\n    private let repository: PrematchCommentRepository\n\n    public init(repository: PrematchCommentRepository) {\n        self.repository = repository\n    }\n\n    public struct Input: Equatable, Sendable {\n        public let commentId: String\n        public let cursor: PrematchComment.Cursor?\n\n        public init(commentId: String, cursor: PrematchComment.Cursor?) {\n            self.commentId = commentId\n            self.cursor = cursor\n        }\n    }\n\n    public struct Output: Equatable, Sendable {\n        public let replies: [PrematchComment.Comment]\n        public let pagingInfo: PrematchComment.PagingInfo\n\n        public init(\n            replies: [PrematchComment.Comment],\n            pagingInfo: PrematchComment.PagingInfo\n        ) {\n            self.replies = replies\n            self.pagingInfo = pagingInfo\n        }\n    }\n\n    public func execute(input: Input) async throws -&gt; Output {\n        let (replies, pagingInfo) = try await repository.getReplies(\n            commentId: input.commentId,\n            cursor: input.cursor\n        )\n        return Output(replies: replies, pagingInfo: pagingInfo)\n    }\n}\n</code></pre>"},{"location":"12_Tickets/05_usecase/TDD-043_LoadRepliesUseCase/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>UseCase \u4f7f\u7528 <code>struct</code>\uff0c\u63d0\u4f9b <code>execute(input:)</code> \u65b9\u6cd5 / UseCase uses <code>struct</code>, provides <code>execute(input:)</code> method</li> <li>Input/Output \u4f7f\u7528 nested <code>struct</code>\uff0c\u5be6\u4f5c <code>Equatable</code>\u3001<code>Sendable</code> / Input/Output use nested <code>struct</code>, implement <code>Equatable</code>, <code>Sendable</code></li> <li>\u4f7f\u7528 <code>PrematchComment.XXX</code> \u547d\u540d\u7a7a\u9593 / Use <code>PrematchComment.XXX</code> namespace</li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-043_LoadRepliesUseCase/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>LoadRepliesUseCase</code> \u5be6\u4f5c\u5b8c\u6210 / <code>LoadRepliesUseCase</code> implementation complete</li> <li>[ ] Input/Output Model \u5b9a\u7fa9\u5b8c\u6210 / Input/Output Model definition complete</li> <li>[ ] \u5206\u9801\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / Pagination logic implementation complete</li> <li>[ ] UseCase \u5546\u696d\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / UseCase business logic implementation complete</li> <li>[ ] \u6240\u6709 Test Scenarios \u901a\u904e\uff08Basic / Loop\uff09 / All Test Scenarios passed (Basic / Loop)</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 90% / Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test \u901a\u904e / Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-043_LoadRepliesUseCase/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>UseCase \u5b9a\u7fa9\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model\uff1a<code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios\uff1a<code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-043_LoadRepliesUseCase_en/","title":"TDD-043: LoadRepliesUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-043_LoadRepliesUseCase_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-043 | | Jira Key | FOOTBALL-9191 |  | |  | Implement LoadRepliesUseCase |  | |  | Type | UseCase |  | |  | P0 |  | |  | PrematchComment |  | |  | TDD-030 |  | |  | Story Point | 5 |  | |  | Standard\uff1a2 daysMost Stringent\uff1a1 days |  |</p>"},{"location":"12_Tickets/05_usecase/TDD-043_LoadRepliesUseCase_en/#description","title":"Description","text":"<p>Implement LoadRepliesUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-043_LoadRepliesUseCase_en/#requirements","title":"Requirements","text":"<ol> <li>Implement UseCase Business Logic</li> <li>Integrate PrematchCommentRepository Call</li> <li>Implement Input/Output Model Validation</li> <li>Implement Error Handling</li> <li>SupportPaginationLoading(\u6bcf\u6b21\u6700\u591a 5 \u7b46)</li> <li>Support cursor \u6a5f\u5236</li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-043_LoadRepliesUseCase_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] UseCase Business Logic Implementation Complete</li> <li>[ ] PaginationLogicImplementation Complete</li> <li>[ ] Loop</li> <li>[ ] Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-043_LoadRepliesUseCase_en/#related-documents","title":"Related Documents","text":"<ul> <li>UseCase Definition: <code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model: <code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios: <code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-044_NavigateToProfileUseCase/","title":"TDD-044: NavigateToProfileUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-044_NavigateToProfileUseCase/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-044 Jira Key FOOTBALL-9192 \u6a19\u984c \u5be6\u4f5c NavigateToProfileUseCase \u985e\u578b UseCase \u512a\u5148\u7d1a P1 \u6240\u5c6c Feature LiveChat &amp; PrematchComment \u4f9d\u8cf4 Ticket - Story Point 2 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a1 \u5929\u6700\u56b4\u53b2\uff1a1 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-11 (\u9031\u56db)"},{"location":"12_Tickets/05_usecase/TDD-044_NavigateToProfileUseCase/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c NavigateToProfileUseCase\u3002 / Implement NavigateToProfileUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-044_NavigateToProfileUseCase/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5be6\u4f5c <code>NavigateToProfileUseCase</code> struct / Implement <code>NavigateToProfileUseCase</code> struct</li> <li>\u5b9a\u7fa9 Input/Output Model / Define Input/Output Model</li> <li>\u6574\u5408 <code>PersonalPageAdapter</code> Protocol \u57f7\u884c\u8def\u7531\u8df3\u8f49 / Integrate <code>PersonalPageAdapter</code> Protocol to execute route navigation</li> <li>\u5be6\u4f5c Error Handling / Implement Error Handling</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/Shared/UseCases/NavigateToProfileUseCase.swift</code> / File structure: <code>Sources/Shared/UseCases/NavigateToProfileUseCase.swift</code></li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-044_NavigateToProfileUseCase/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/05_usecase/TDD-044_NavigateToProfileUseCase/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import Foundation\n\npublic struct NavigateToProfileUseCase {\n    private let personalPageAdapter: PersonalPageAdapter\n\n    public init(personalPageAdapter: PersonalPageAdapter) {\n        self.personalPageAdapter = personalPageAdapter\n    }\n\n    public struct Input: Equatable, Sendable {\n        public let userId: String\n\n        public init(userId: String) {\n            self.userId = userId\n        }\n    }\n\n    public struct Output: Equatable, Sendable {\n        public init() {}\n    }\n\n    public func execute(input: Input) async throws -&gt; Output {\n        try await personalPageAdapter.navigateToProfile(userId: input.userId)\n        return Output()\n    }\n}\n</code></pre>"},{"location":"12_Tickets/05_usecase/TDD-044_NavigateToProfileUseCase/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>UseCase \u4f7f\u7528 <code>struct</code>\uff0c\u63d0\u4f9b <code>execute(input:)</code> \u65b9\u6cd5 / UseCase uses <code>struct</code>, provides <code>execute(input:)</code> method</li> <li>Input/Output \u4f7f\u7528 nested <code>struct</code>\uff0c\u5be6\u4f5c <code>Equatable</code>\u3001<code>Sendable</code> / Input/Output use nested <code>struct</code>, implement <code>Equatable</code>, <code>Sendable</code></li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-044_NavigateToProfileUseCase/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>NavigateToProfileUseCase</code> \u5be6\u4f5c\u5b8c\u6210 / <code>NavigateToProfileUseCase</code> implementation complete</li> <li>[ ] Input/Output Model \u5b9a\u7fa9\u5b8c\u6210 / Input/Output Model definition complete</li> <li>[ ] \u8def\u7531\u8df3\u8f49\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / Route navigation logic implementation complete</li> <li>[ ] UseCase \u5546\u696d\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / UseCase business logic implementation complete</li> <li>[ ] \u6240\u6709 Test Scenarios \u901a\u904e\uff08Basic / Error\uff09 / All Test Scenarios passed (Basic / Error)</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 90% / Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test \u901a\u904e / Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-044_NavigateToProfileUseCase/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>UseCase \u5b9a\u7fa9\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model\uff1a<code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios\uff1a<code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-044_NavigateToProfileUseCase_en/","title":"TDD-044: NavigateToProfileUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-044_NavigateToProfileUseCase_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-044 | | Jira Key | FOOTBALL-9192 |  | |  | Implement NavigateToProfileUseCase |  | |  | Type | UseCase |  | |  | P1 |  | |  | LiveChat &amp; PrematchComment |  | |  | - |  | |  | Story Point | 2 |  | |  | Standard\uff1a1 daysMost Stringent\uff1a1 days |  |</p>"},{"location":"12_Tickets/05_usecase/TDD-044_NavigateToProfileUseCase_en/#description","title":"Description","text":"<p>Implement NavigateToProfileUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-044_NavigateToProfileUseCase_en/#requirements","title":"Requirements","text":"<ol> <li>Implement UseCase Business Logic</li> <li>Integrate PersonalPageAdapter Protocol \u57f7\u884c\u8def\u7531\u8df3\u8f49</li> <li>Implement Input/Output Model Validation</li> <li>Implement Error Handling</li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-044_NavigateToProfileUseCase_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] UseCase Business Logic Implementation Complete</li> <li>[ ] \u8def\u7531\u8df3\u8f49LogicImplementation Complete</li> <li>[ ] Error\uff09</li> <li>[ ] Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-044_NavigateToProfileUseCase_en/#related-documents","title":"Related Documents","text":"<ul> <li>UseCase Definition: <code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model: <code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios: <code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase/","title":"TDD-045: SendChatMessageUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-045 Jira Key FOOTBALL-9193 \u6a19\u984c \u5be6\u4f5c SendChatMessageUseCase \u985e\u578b UseCase \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature LiveChat \u4f9d\u8cf4 Ticket TDD-031 Story Point 13 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a5 \u5929\u6700\u56b4\u53b2\uff1a4 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-11 (\u9031\u56db)"},{"location":"12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c SendChatMessageUseCase\u3002 / Implement SendChatMessageUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5be6\u4f5c <code>SendChatMessageUseCase</code> struct / Implement <code>SendChatMessageUseCase</code> struct</li> <li>\u5b9a\u7fa9 Input/Output Model / Define Input/Output Model</li> <li>\u6574\u5408 <code>LiveChatRepository</code> \u547c\u53eb / Integrate <code>LiveChatRepository</code> call</li> <li>\u6574\u5408 <code>PersonalPageAdapter</code> Protocol\uff08\u767b\u5165\u6aa2\u67e5\uff09 / Integrate <code>PersonalPageAdapter</code> Protocol (login check)</li> <li>\u6574\u5408 <code>FComSharedFlowAdapter</code> Protocol\uff08nickname \u5efa\u7acb\uff09 / Integrate <code>FComSharedFlowAdapter</code> Protocol (nickname creation)</li> <li>\u5be6\u4f5c Error Handling / Implement Error Handling</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/LiveChat/UseCases/SendChatMessageUseCase.swift</code> / File structure: <code>Sources/LiveChat/UseCases/SendChatMessageUseCase.swift</code></li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import Foundation\n\npublic struct SendChatMessageUseCase {\n    private let repository: LiveChatRepository\n    private let personalPageAdapter: PersonalPageAdapter\n    private let fComSharedFlowAdapter: FComSharedFlowAdapter\n\n    public init(\n        repository: LiveChatRepository,\n        personalPageAdapter: PersonalPageAdapter,\n        fComSharedFlowAdapter: FComSharedFlowAdapter\n    ) {\n        self.repository = repository\n        self.personalPageAdapter = personalPageAdapter\n        self.fComSharedFlowAdapter = fComSharedFlowAdapter\n    }\n\n    public struct Input: Equatable, Sendable {\n        public let chatroomId: String\n        public let content: String\n        public let messageType: LiveChat.MessageType\n\n        public init(\n            chatroomId: String,\n            content: String,\n            messageType: LiveChat.MessageType\n        ) {\n            self.chatroomId = chatroomId\n            self.content = content\n            self.messageType = messageType\n        }\n    }\n\n    public struct Output: Equatable, Sendable {\n        public let message: LiveChat.Message\n\n        public init(message: LiveChat.Message) {\n            self.message = message\n        }\n    }\n\n    public func execute(input: Input) async throws -&gt; Output {\n        // \u767b\u5165\u6aa2\u67e5\n        guard personalPageAdapter.isLoggedIn else {\n            throw SendChatMessageError.notLoggedIn\n        }\n\n        // Nickname \u6aa2\u67e5\u548c\u5efa\u7acb\n        if !personalPageAdapter.hasNickname {\n            try await fComSharedFlowAdapter.createNickname()\n        }\n\n        // \u767c\u9001\u8a0a\u606f\n        let message = try await repository.sendMessage(\n            chatroomId: input.chatroomId,\n            content: input.content,\n            messageType: input.messageType\n        )\n\n        return Output(message: message)\n    }\n}\n</code></pre>"},{"location":"12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>UseCase \u4f7f\u7528 <code>struct</code>\uff0c\u63d0\u4f9b <code>execute(input:)</code> \u65b9\u6cd5 / UseCase uses <code>struct</code>, provides <code>execute(input:)</code> method</li> <li>Input/Output \u4f7f\u7528 nested <code>struct</code>\uff0c\u5be6\u4f5c <code>Equatable</code>\u3001<code>Sendable</code> / Input/Output use nested <code>struct</code>, implement <code>Equatable</code>, <code>Sendable</code></li> <li>\u4f7f\u7528 <code>LiveChat.XXX</code> \u547d\u540d\u7a7a\u9593 / Use <code>LiveChat.XXX</code> namespace</li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>SendChatMessageUseCase</code> \u5be6\u4f5c\u5b8c\u6210 / <code>SendChatMessageUseCase</code> implementation complete</li> <li>[ ] Input/Output Model \u5b9a\u7fa9\u5b8c\u6210 / Input/Output Model definition complete</li> <li>[ ] \u767b\u5165\u6aa2\u67e5\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / Login check logic implementation complete</li> <li>[ ] Nickname \u6aa2\u67e5\u548c\u5efa\u7acb\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / Nickname check and creation logic implementation complete</li> <li>[ ] UseCase \u5546\u696d\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / UseCase business logic implementation complete</li> <li>[ ] \u6240\u6709 Test Scenarios \u901a\u904e\uff08Basic / Branch\uff09 / All Test Scenarios passed (Basic / Branch)</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 90% / Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test \u901a\u904e / Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>UseCase \u5b9a\u7fa9\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model\uff1a<code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios\uff1a<code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e / \u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>\u57fa\u790e\u4f30\u6642\uff1a\u4e2d\u7b49 UseCase = 5 SP</li> <li>+3 SP\uff1a\u9700\u8981\u6574\u5408\u591a\u500b Shared Feature\uff08PersonalPageAdapter\u3001FComSharedFlowAdapter\uff09 / - +3 SP\uff1a\u9700\u8981\u6574\u5408\u591a\u500b Shared Feature(PersonalPageAdapter, FComSharedFlowAdapter)</li> <li>+2 SP\uff1a\u8907\u96dc\u7684\u9a57\u8b49\u908f\u8f2f\uff08\u767b\u5165\u6aa2\u67e5\u3001nickname \u6aa2\u67e5\uff09 / - +2 SP\uff1a\u8907\u96dc\u7684ValidationLogic(\u767b\u5165\u6aa2\u67e5, nickname \u6aa2\u67e5)</li> <li>+2 SP\uff1a\u8907\u96dc\u7684\u5546\u696d\u908f\u8f2f / - +2 SP\uff1a\u8907\u96dc\u7684\u5546\u696dLogic</li> <li>+1 SP\uff1a\u9700\u8981\u8655\u7406\u591a\u7a2e Error \u60c5\u6cc1</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase_en/","title":"TDD-045: SendChatMessageUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-045 | | Jira Key | FOOTBALL-9193 |  | |  | Implement SendChatMessageUseCase |  | |  | Type | UseCase |  | |  | P0 |  | |  | LiveChat |  | |  | TDD-031 |  | |  | Story Point | 13 |  | |  | Standard\uff1a5 daysMost Stringent\uff1a4 days |  |</p>"},{"location":"12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase_en/#description","title":"Description","text":"<p>Implement SendChatMessageUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase_en/#requirements","title":"Requirements","text":"<ol> <li>Implement UseCase Business Logic</li> <li>Integrate LiveChatRepository Call</li> <li>Implement Input/Output Model Validation</li> <li>Implement Error Handling</li> <li>Integrate PersonalPageAdapter Protocol(\u767b\u5165\u6aa2\u67e5)</li> <li>Integrate FComSharedFlowAdapter Protocol(nickname \u5efa\u7acb)</li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] UseCase Business Logic Implementation Complete</li> <li>[ ] \u767b\u5165\u6aa2\u67e5LogicImplementation Complete</li> <li>[ ] Nickname \u6aa2\u67e5and\u5efa\u7acbLogicImplementation Complete</li> <li>[ ] All branches tested</li> <li>[ ] Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase_en/#related-documents","title":"Related Documents","text":"<ul> <li>UseCase Definition: <code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model: <code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios: <code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase_en/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>+3 SP\uff1a\u9700\u8981\u6574\u5408\u591a\u500b Shared Feature(PersonalPageAdapter, FComSharedFlowAdapter)</li> <li>+2 SP\uff1a\u8907\u96dc\u7684ValidationLogic(\u767b\u5165\u6aa2\u67e5, nickname \u6aa2\u67e5)</li> <li>+2 SP\uff1a\u8907\u96dc\u7684\u5546\u696dLogic</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase/","title":"TDD-046: JoinChatroomUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-046 Jira Key FOOTBALL-9194 \u6a19\u984c \u5be6\u4f5c JoinChatroomUseCase \u985e\u578b UseCase \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature LiveChat \u4f9d\u8cf4 Ticket TDD-031 Story Point 13 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a5 \u5929\u6700\u56b4\u53b2\uff1a4 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-12 (\u9031\u4e94)"},{"location":"12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c JoinChatroomUseCase\u3002 / Implement JoinChatroomUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5be6\u4f5c <code>JoinChatroomUseCase</code> struct / Implement <code>JoinChatroomUseCase</code> struct</li> <li>\u5b9a\u7fa9 Input/Output Model / Define Input/Output Model</li> <li>\u6574\u5408 <code>LiveChatRepository</code> \u547c\u53eb / Integrate <code>LiveChatRepository</code> call</li> <li>\u5be6\u4f5c\u6b77\u53f2\u8a0a\u606f\u8207 WebSocket \u8a0a\u606f\u5408\u4f75\u908f\u8f2f / Implement historical message and WebSocket message merge logic</li> <li>\u5be6\u4f5c\u4f9d messageNo \u53bb\u91cd\u908f\u8f2f / Implement deduplication logic by messageNo</li> <li>\u8655\u7406\u7121\u6cd5\u53d6\u5f97 chatroomId \u7684\u60c5\u6cc1 / Handle case when chatroomId cannot be obtained</li> <li>\u5be6\u4f5c Error Handling / Implement Error Handling</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/LiveChat/UseCases/JoinChatroomUseCase.swift</code> / File structure: <code>Sources/LiveChat/UseCases/JoinChatroomUseCase.swift</code></li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import Foundation\n\npublic struct JoinChatroomUseCase {\n    private let repository: LiveChatRepository\n\n    public init(repository: LiveChatRepository) {\n        self.repository = repository\n    }\n\n    public struct Input: Equatable, Sendable {\n        public let refId: String\n\n        public init(refId: String) {\n            self.refId = refId\n        }\n    }\n\n    public struct Output: Equatable, Sendable {\n        public let chatroomInfo: LiveChat.ChatroomInfo\n        public let messages: [LiveChat.Message]\n\n        public init(\n            chatroomInfo: LiveChat.ChatroomInfo,\n            messages: [LiveChat.Message]\n        ) {\n            self.chatroomInfo = chatroomInfo\n            self.messages = messages\n        }\n    }\n\n    public func execute(input: Input) async throws -&gt; Output {\n        // 1. \u53d6\u5f97\u804a\u5929\u5ba4\u8cc7\u8a0a\n        let chatroomInfo = try await repository.getChatroomInfo(refId: input.refId)\n\n        guard let chatroomId = chatroomInfo.chatroomId, !chatroomId.isEmpty else {\n            throw JoinChatroomError.chatroomIdNotFound\n        }\n\n        // 2. \u52a0\u5165\u804a\u5929\u5ba4\n        try await repository.joinChatroom(chatroomId: chatroomId)\n\n        // 3. \u8f09\u5165\u6b77\u53f2\u8a0a\u606f\n        let historicalMessages = try await repository.loadHistoricalMessages(\n            chatroomId: chatroomId,\n            lastMessageNo: chatroomInfo.lastMessageNo\n        )\n\n        // 4. \u8a02\u95b1 WebSocket\n        try await repository.subscribeWebSocket()\n\n        // 5. \u5408\u4f75\u8a0a\u606f\uff08\u6b77\u53f2\u8a0a\u606f + WebSocket \u8a0a\u606f\uff0c\u4f9d messageNo \u53bb\u91cd\uff09\n        let mergedMessages = mergeMessages(\n            historical: historicalMessages,\n            webSocket: repository.getWebSocketMessages()\n        )\n\n        return Output(chatroomInfo: chatroomInfo, messages: mergedMessages)\n    }\n\n    private func mergeMessages(\n        historical: [LiveChat.Message],\n        webSocket: [LiveChat.Message]\n    ) -&gt; [LiveChat.Message] {\n        // \u5408\u4f75\u908f\u8f2f\uff1a\u4f9d messageNo \u53bb\u91cd\uff0c\u6309 messageNo \u6392\u5e8f\n        var messageMap: [Int: LiveChat.Message] = [:]\n\n        for message in historical {\n            messageMap[message.messageNo] = message\n        }\n\n        for message in webSocket {\n            messageMap[message.messageNo] = message\n        }\n\n        return messageMap.values.sorted { $0.messageNo &lt; $1.messageNo }\n    }\n}\n</code></pre>"},{"location":"12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>UseCase \u4f7f\u7528 <code>struct</code>\uff0c\u63d0\u4f9b <code>execute(input:)</code> \u65b9\u6cd5 / UseCase uses <code>struct</code>, provides <code>execute(input:)</code> method</li> <li>Input/Output \u4f7f\u7528 nested <code>struct</code>\uff0c\u5be6\u4f5c <code>Equatable</code>\u3001<code>Sendable</code> / Input/Output use nested <code>struct</code>, implement <code>Equatable</code>, <code>Sendable</code></li> <li>\u4f7f\u7528 <code>LiveChat.XXX</code> \u547d\u540d\u7a7a\u9593 / Use <code>LiveChat.XXX</code> namespace</li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>JoinChatroomUseCase</code> \u5be6\u4f5c\u5b8c\u6210 / <code>JoinChatroomUseCase</code> implementation complete</li> <li>[ ] Input/Output Model \u5b9a\u7fa9\u5b8c\u6210 / Input/Output Model definition complete</li> <li>[ ] \u8a0a\u606f\u5408\u4f75\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / Message merge logic implementation complete</li> <li>[ ] \u53bb\u91cd\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / Deduplication logic implementation complete</li> <li>[ ] UseCase \u5546\u696d\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / UseCase business logic implementation complete</li> <li>[ ] \u6240\u6709 Test Scenarios \u901a\u904e\uff08Basic / Branch\uff09 / All Test Scenarios passed (Basic / Branch)</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 90% / Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test \u901a\u904e / Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>UseCase \u5b9a\u7fa9\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model\uff1a<code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios\uff1a<code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e / \u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>\u57fa\u790e\u4f30\u6642\uff1a\u8907\u96dc UseCase = 13 SP</li> <li>+2 SP\uff1a\u8907\u96dc\u7684\u8cc7\u6599\u5408\u4f75\u908f\u8f2f\uff08\u6b77\u53f2\u8a0a\u606f\u8207 WebSocket \u8a0a\u606f\u5408\u4f75\uff09 / - +2 SP\uff1a\u8907\u96dc\u7684\u8cc7\u6599\u5408\u4f75Logic(\u6b77\u53f2\u8a0a\u606f\u8207 WebSocket \u8a0a\u606f\u5408\u4f75)</li> <li>+1 SP\uff1a\u8907\u96dc\u7684\u53bb\u91cd\u908f\u8f2f / - +1 SP\uff1a\u8907\u96dc\u7684\u53bb\u91cdLogic</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase_en/","title":"TDD-046: JoinChatroomUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-046 | | Jira Key | FOOTBALL-9194 |  | |  | Implement JoinChatroomUseCase |  | |  | Type | UseCase |  | |  | P0 |  | |  | LiveChat |  | |  | TDD-031 |  | |  | Story Point | 13 |  | |  | Standard\uff1a5 daysMost Stringent\uff1a4 days |  |</p>"},{"location":"12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase_en/#description","title":"Description","text":"<p>Implement JoinChatroomUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase_en/#requirements","title":"Requirements","text":"<ol> <li>Implement UseCase Business Logic</li> <li>Integrate LiveChatRepository Call</li> <li>Implement Input/Output Model Validation</li> <li>Implement Error Handling</li> <li>Implement\u6b77\u53f2\u8a0a\u606f\u8207 WebSocket \u8a0a\u606f\u5408\u4f75Logic</li> <li>Implement\u4f9d messageNo \u53bb\u91cdLogic</li> <li>Handling\u7121\u6cd5\u53d6\u5f97 ChatroomId \u7684\u60c5\u6cc1</li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] UseCase Business Logic Implementation Complete</li> <li>[ ] \u8a0a\u606f\u5408\u4f75LogicImplementation Complete</li> <li>[ ] \u53bb\u91cdLogicImplementation Complete</li> <li>[ ] All branches tested</li> <li>[ ] Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase_en/#related-documents","title":"Related Documents","text":"<ul> <li>UseCase Definition: <code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model: <code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios: <code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase_en/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>+2 SP\uff1a\u8907\u96dc\u7684\u8cc7\u6599\u5408\u4f75Logic(\u6b77\u53f2\u8a0a\u606f\u8207 WebSocket \u8a0a\u606f\u5408\u4f75)</li> <li>+1 SP\uff1a\u8907\u96dc\u7684\u53bb\u91cdLogic</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-047_LeaveChatroomUseCase/","title":"TDD-047: LeaveChatroomUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-047_LeaveChatroomUseCase/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-047 Jira Key FOOTBALL-9195 \u6a19\u984c \u5be6\u4f5c LeaveChatroomUseCase \u985e\u578b UseCase \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature LiveChat \u4f9d\u8cf4 Ticket TDD-031 Story Point 5 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a2 \u5929\u6700\u56b4\u53b2\uff1a1 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-15 (\u9031\u4e00)"},{"location":"12_Tickets/05_usecase/TDD-047_LeaveChatroomUseCase/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c LeaveChatroomUseCase\u3002 / Implement LeaveChatroomUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-047_LeaveChatroomUseCase/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5be6\u4f5c <code>LeaveChatroomUseCase</code> struct / Implement <code>LeaveChatroomUseCase</code> struct</li> <li>\u5b9a\u7fa9 Input/Output Model / Define Input/Output Model</li> <li>\u6574\u5408 <code>LiveChatRepository</code> \u547c\u53eb / Integrate <code>LiveChatRepository</code> call</li> <li>\u5be6\u4f5c\u6e05\u9664\u5feb\u53d6\u8a0a\u606f\u7684\u908f\u8f2f / Implement clear cached messages logic</li> <li>\u5be6\u4f5c\u9ed1\u540d\u55ae\u6aa2\u67e5\u8207\u6e05\u7406\u908f\u8f2f\uff084 \u5c0f\u6642\u81ea\u52d5\u6e05\u7406\uff09 / Implement blacklist check and cleanup logic (auto cleanup after 4 hours)</li> <li>\u5be6\u4f5c Error Handling / Implement Error Handling</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/LiveChat/UseCases/LeaveChatroomUseCase.swift</code> / File structure: <code>Sources/LiveChat/UseCases/LeaveChatroomUseCase.swift</code></li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-047_LeaveChatroomUseCase/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/05_usecase/TDD-047_LeaveChatroomUseCase/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import Foundation\n\npublic struct LeaveChatroomUseCase {\n    private let repository: LiveChatRepository\n\n    public init(repository: LiveChatRepository) {\n        self.repository = repository\n    }\n\n    public struct Input: Equatable, Sendable {\n        public let chatroomId: String\n\n        public init(chatroomId: String) {\n            self.chatroomId = chatroomId\n        }\n    }\n\n    public struct Output: Equatable, Sendable {\n        public init() {}\n    }\n\n    public func execute(input: Input) async throws -&gt; Output {\n        // 1. \u53d6\u6d88\u8a02\u95b1 WebSocket\n        try await repository.unsubscribeWebSocket()\n\n        // 2. \u96e2\u958b\u804a\u5929\u5ba4\n        try await repository.leaveChatroom(chatroomId: input.chatroomId)\n\n        // 3. \u6e05\u9664\u5feb\u53d6\u8a0a\u606f\n        repository.clearCachedMessages(chatroomId: input.chatroomId)\n\n        // 4. \u6aa2\u67e5\u4e26\u6e05\u7406\u9ed1\u540d\u55ae\uff084 \u5c0f\u6642\u81ea\u52d5\u6e05\u7406\uff09\n        try await repository.checkAndCleanBlacklist()\n\n        return Output()\n    }\n}\n</code></pre>"},{"location":"12_Tickets/05_usecase/TDD-047_LeaveChatroomUseCase/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>UseCase \u4f7f\u7528 <code>struct</code>\uff0c\u63d0\u4f9b <code>execute(input:)</code> \u65b9\u6cd5 / UseCase uses <code>struct</code>, provides <code>execute(input:)</code> method</li> <li>Input/Output \u4f7f\u7528 nested <code>struct</code>\uff0c\u5be6\u4f5c <code>Equatable</code>\u3001<code>Sendable</code> / Input/Output use nested <code>struct</code>, implement <code>Equatable</code>, <code>Sendable</code></li> <li>\u4f7f\u7528 <code>LiveChat.XXX</code> \u547d\u540d\u7a7a\u9593 / Use <code>LiveChat.XXX</code> namespace</li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-047_LeaveChatroomUseCase/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>LeaveChatroomUseCase</code> \u5be6\u4f5c\u5b8c\u6210 / <code>LeaveChatroomUseCase</code> implementation complete</li> <li>[ ] Input/Output Model \u5b9a\u7fa9\u5b8c\u6210 / Input/Output Model definition complete</li> <li>[ ] \u6e05\u9664\u5feb\u53d6\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / Clear cache logic implementation complete</li> <li>[ ] \u9ed1\u540d\u55ae\u6e05\u7406\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / Blacklist cleanup logic implementation complete</li> <li>[ ] UseCase \u5546\u696d\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / UseCase business logic implementation complete</li> <li>[ ] \u6240\u6709 Test Scenarios \u901a\u904e\uff08Basic / Branch\uff09 / All Test Scenarios passed (Basic / Branch)</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 90% / Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test \u901a\u904e / Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-047_LeaveChatroomUseCase/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>UseCase \u5b9a\u7fa9\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model\uff1a<code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios\uff1a<code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-047_LeaveChatroomUseCase_en/","title":"TDD-047: LeaveChatroomUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-047_LeaveChatroomUseCase_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-047 | | Jira Key | FOOTBALL-9195 |  | |  | Implement LeaveChatroomUseCase |  | |  | Type | UseCase |  | |  | P0 |  | |  | LiveChat |  | |  | TDD-031 |  | |  | Story Point | 5 |  | |  | Standard\uff1a2 daysMost Stringent\uff1a1 days |  |</p>"},{"location":"12_Tickets/05_usecase/TDD-047_LeaveChatroomUseCase_en/#description","title":"Description","text":"<p>Implement LeaveChatroomUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-047_LeaveChatroomUseCase_en/#requirements","title":"Requirements","text":"<ol> <li>Implement UseCase Business Logic</li> <li>Integrate LiveChatRepository Call</li> <li>Implement Input/Output Model Validation</li> <li>Implement Error Handling</li> <li>Implement\u6e05\u9664\u5feb\u53d6\u8a0a\u606f\u7684Logic</li> <li>Implement\u9ed1\u540d\u55ae\u6aa2\u67e5\u8207\u6e05\u7406Logic(4 \u5c0f\u6642\u81ea\u52d5\u6e05\u7406)</li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-047_LeaveChatroomUseCase_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] UseCase Business Logic Implementation Complete</li> <li>[ ] \u6e05\u9664\u5feb\u53d6LogicImplementation Complete</li> <li>[ ] \u9ed1\u540d\u55ae\u6e05\u7406LogicImplementation Complete</li> <li>[ ] All branches tested</li> <li>[ ] Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-047_LeaveChatroomUseCase_en/#related-documents","title":"Related Documents","text":"<ul> <li>UseCase Definition: <code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model: <code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios: <code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-048_BlockUserUseCase/","title":"TDD-048: BlockUserUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-048_BlockUserUseCase/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-048 Jira Key FOOTBALL-9196 \u6a19\u984c \u5be6\u4f5c BlockUserUseCase \u985e\u578b UseCase \u512a\u5148\u7d1a P1 \u6240\u5c6c Feature LiveChat \u4f9d\u8cf4 Ticket TDD-031 Story Point 3 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a1 \u5929\u6700\u56b4\u53b2\uff1a1 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-15 (\u9031\u4e00)"},{"location":"12_Tickets/05_usecase/TDD-048_BlockUserUseCase/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c BlockUserUseCase\u3002 / Implement BlockUserUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-048_BlockUserUseCase/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5be6\u4f5c <code>BlockUserUseCase</code> struct / Implement <code>BlockUserUseCase</code> struct</li> <li>\u5b9a\u7fa9 Input/Output Model / Define Input/Output Model</li> <li>\u6574\u5408 <code>LiveChatRepository</code> \u547c\u53eb / Integrate <code>LiveChatRepository</code> call</li> <li>\u5be6\u4f5c\u5c07\u7528\u6236\u52a0\u5165\u9ed1\u540d\u55ae DB \u7684\u908f\u8f2f / Implement add user to blacklist DB logic</li> <li>\u5be6\u4f5c WebSocket \u91cd\u9023\u5f8c\u540c\u6b65 blocked user \u6e05\u55ae\u7684\u908f\u8f2f / Implement WebSocket reconnect sync blocked user list logic</li> <li>\u5be6\u4f5c Error Handling / Implement Error Handling</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/LiveChat/UseCases/BlockUserUseCase.swift</code> / File structure: <code>Sources/LiveChat/UseCases/BlockUserUseCase.swift</code></li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-048_BlockUserUseCase/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/05_usecase/TDD-048_BlockUserUseCase/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import Foundation\n\npublic struct BlockUserUseCase {\n    private let repository: LiveChatRepository\n\n    public init(repository: LiveChatRepository) {\n        self.repository = repository\n    }\n\n    public struct Input: Equatable, Sendable {\n        public let userId: String\n        public let eventId: String\n        public let timestamp: Date\n\n        public init(userId: String, eventId: String, timestamp: Date) {\n            self.userId = userId\n            self.eventId = eventId\n            self.timestamp = timestamp\n        }\n    }\n\n    public struct Output: Equatable, Sendable {\n        public init() {}\n    }\n\n    public func execute(input: Input) async throws -&gt; Output {\n        // 1. \u5c07\u7528\u6236\u52a0\u5165\u9ed1\u540d\u55ae DB\n        try await repository.addToBlacklist(\n            userId: input.userId,\n            eventId: input.eventId,\n            timestamp: input.timestamp\n        )\n\n        // 2. WebSocket \u91cd\u9023\u5f8c\u540c\u6b65 blocked user \u6e05\u55ae\n        // (\u6b64\u908f\u8f2f\u5728 Repository \u5c64\u8655\u7406)\n\n        return Output()\n    }\n}\n</code></pre>"},{"location":"12_Tickets/05_usecase/TDD-048_BlockUserUseCase/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>UseCase \u4f7f\u7528 <code>struct</code>\uff0c\u63d0\u4f9b <code>execute(input:)</code> \u65b9\u6cd5 / UseCase uses <code>struct</code>, provides <code>execute(input:)</code> method</li> <li>Input/Output \u4f7f\u7528 nested <code>struct</code>\uff0c\u5be6\u4f5c <code>Equatable</code>\u3001<code>Sendable</code> / Input/Output use nested <code>struct</code>, implement <code>Equatable</code>, <code>Sendable</code></li> <li>\u4f7f\u7528 <code>LiveChat.XXX</code> \u547d\u540d\u7a7a\u9593 / Use <code>LiveChat.XXX</code> namespace</li> <li>\u4f7f\u7528 <code>public</code> \u4fee\u98fe\u7b26 / Use <code>public</code> modifier</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-048_BlockUserUseCase/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>BlockUserUseCase</code> \u5be6\u4f5c\u5b8c\u6210 / <code>BlockUserUseCase</code> implementation complete</li> <li>[ ] Input/Output Model \u5b9a\u7fa9\u5b8c\u6210 / Input/Output Model definition complete</li> <li>[ ] \u9ed1\u540d\u55ae\u7ba1\u7406\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / Blacklist management logic implementation complete</li> <li>[ ] UseCase \u5546\u696d\u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210 / UseCase business logic implementation complete</li> <li>[ ] \u6240\u6709 Test Scenarios \u901a\u904e\uff08Basic / Branch\uff09 / All Test Scenarios passed (Basic / Branch)</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 90% / Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test \u901a\u904e / Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-048_BlockUserUseCase/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>UseCase \u5b9a\u7fa9\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model\uff1a<code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios\uff1a<code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-048_BlockUserUseCase_en/","title":"TDD-048: BlockUserUseCase","text":""},{"location":"12_Tickets/05_usecase/TDD-048_BlockUserUseCase_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-048 | | Jira Key | FOOTBALL-9196 |  | |  | Implement BlockUserUseCase |  | |  | Type | UseCase |  | |  | P1 |  | |  | LiveChat |  | |  | TDD-031 |  | |  | Story Point | 3 |  | |  | Standard\uff1a1 daysMost Stringent\uff1a1 days |  |</p>"},{"location":"12_Tickets/05_usecase/TDD-048_BlockUserUseCase_en/#description","title":"Description","text":"<p>Implement BlockUserUseCase\u3002</p>"},{"location":"12_Tickets/05_usecase/TDD-048_BlockUserUseCase_en/#requirements","title":"Requirements","text":"<ol> <li>Implement UseCase Business Logic</li> <li>Integrate LiveChatRepository Call</li> <li>Implement Input/Output Model Validation</li> <li>Implement Error Handling</li> <li>Implement\u5c07\u7528\u6236\u52a0\u5165\u9ed1\u540d\u55ae DB \u7684Logic</li> <li>Implement WebSocket \u91cd\u9023\u5f8c\u540c\u6b65 blocked user \u6e05\u55ae\u7684Logic</li> </ol>"},{"location":"12_Tickets/05_usecase/TDD-048_BlockUserUseCase_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] UseCase Business Logic Implementation Complete</li> <li>[ ] \u9ed1\u540d\u55ae\u7ba1\u7406LogicImplementation Complete</li> <li>[ ] All branches tested</li> <li>[ ] Unit Test Coverage \u2265 90%</li> <li>[ ] Integration Test Passed</li> </ul>"},{"location":"12_Tickets/05_usecase/TDD-048_BlockUserUseCase_en/#related-documents","title":"Related Documents","text":"<ul> <li>UseCase Definition: <code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> <li>Input/Output Model: <code>output/LiveChat&amp;PrematchComment/07_UseCase Input &amp; Output Model/01_usecase_input_output.md</code></li> <li>Test Scenarios: <code>output/LiveChat&amp;PrematchComment/10_Test Scenarios/01_test_scenarios.md</code></li> </ul>"},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature/","title":"TDD-050: PrematchCommentFeature","text":""},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-050 Jira Key FOOTBALL-9198 \u6a19\u984c \u5be6\u4f5c PrematchCommentFeature\uff08TCA Reducer\uff09 \u985e\u578b Feature \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature PrematchComment \u4f9d\u8cf4 Ticket TDD-040, TDD-041, TDD-042, TDD-043, TDD-044 Story Point 8 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a3 \u5929\u6700\u56b4\u53b2\uff1a2 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-16 (\u9031\u4e8c)"},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c PrematchCommentFeature\uff08TCA Reducer\uff09\u3002 / Implement PrematchCommentFeature(TCA Reducer)\u3002</p>"},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5b9a\u7fa9 <code>PrematchCommentFeature</code>\uff08\u4f7f\u7528 TCA <code>@Reducer</code>\uff09 / Define <code>PrematchCommentFeature</code> (using TCA <code>@Reducer</code>)</li> <li>\u5b9a\u7fa9 <code>State</code>\uff08\u4f7f\u7528 <code>@ObservableState</code>\uff09 / Define <code>State</code> (using <code>@ObservableState</code>)</li> <li>\u5b9a\u7fa9 <code>Action</code>\uff08\u4f7f\u7528 <code>@CasePathable</code> enum\uff09 / Define <code>Action</code> (using <code>@CasePathable</code> enum)</li> <li>\u5be6\u4f5c Reducer \u908f\u8f2f\uff08\u4f7f\u7528 <code>Reduce</code>\uff09 / Implement Reducer Logic (using <code>Reduce</code>)</li> <li>\u6574\u5408\u6240\u6709 UseCase \u547c\u53eb / Integrate all UseCase calls</li> <li>\u5be6\u4f5c State \u66f4\u65b0\u908f\u8f2f / Implement State update logic</li> <li>\u5be6\u4f5c Event Status \u901a\u77e5\u8655\u7406 / Implement Event Status notification handling</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/PrematchComment/Features/PrematchComment/PrematchCommentFeature.swift</code> / File structure: <code>Sources/PrematchComment/Features/PrematchComment/PrematchCommentFeature.swift</code></li> </ol>"},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature/#file-structure","title":"\u6a94\u6848\u7d50\u69cb / File Structure","text":"<pre><code>Sources/PrematchComment/Features/PrematchComment/\n  \u2514\u2500\u2500 PrematchCommentFeature.swift\n</code></pre>"},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import ComposableArchitecture\nimport Foundation\n\nextension PrematchComment {\n    @Reducer\n    struct PrematchCommentFeature {\n        @Dependency(\\.prematchCommentRepository) var prematchCommentRepository\n        @Dependency(\\.reloadCommentListUseCase) var reloadCommentListUseCase\n        @Dependency(\\.publishCommentUseCase) var publishCommentUseCase\n        @Dependency(\\.toggleLikeUseCase) var toggleLikeUseCase\n        @Dependency(\\.loadRepliesUseCase) var loadRepliesUseCase\n        @Dependency(\\.navigateToProfileUseCase) var navigateToProfileUseCase\n\n        var body: some ReducerOf&lt;Self&gt; {\n            Reduce { state, action in\n                switch action {\n                case .loadCommentList:\n                    return loadCommentList(state: &amp;state)\n\n                case .publishComment(let content):\n                    return publishComment(content: content, state: &amp;state)\n\n                case .toggleLike(let commentId):\n                    return toggleLike(commentId: commentId, state: &amp;state)\n\n                case .loadReplies(let commentId):\n                    return loadReplies(commentId: commentId, state: &amp;state)\n\n                case .navigateToProfile(let userId):\n                    return navigateToProfile(userId: userId)\n\n                // MARK: - Sub-feature Actions\n                case .commentList, .commentMeta:\n                    return .none\n                }\n            }\n        }\n\n        private func loadCommentList(state: inout State) -&gt; Effect&lt;Action&gt; {\n            state.isLoading = true\n            return .run { [refId = state.refId, mode = state.sortMode] send in\n                do {\n                    let (comments, pagingInfo) = try await reloadCommentListUseCase.execute(\n                        refId: refId,\n                        mode: mode\n                    )\n                    await send(.commentList(.loaded(comments, pagingInfo)))\n                } catch {\n                    await send(.commentList(.loadFailed(error.localizedDescription)))\n                }\n            }\n        }\n\n        // \u5176\u4ed6\u65b9\u6cd5...\n    }\n}\n\nextension PrematchComment.PrematchCommentFeature {\n    @ObservableState\n    struct State: Equatable {\n        var refId: String\n        var sortMode: PrematchComment.SortMode\n        var isLoading = false\n        var errorMessage: String?\n\n        var commentMeta: CommentMetaFeature.State\n        var commentList: CommentListFeature.State\n    }\n\n    @CasePathable\n    enum Action: Equatable {\n        case loadCommentList\n        case publishComment(String)\n        case toggleLike(String)\n        case loadReplies(String)\n        case navigateToProfile(String)\n\n        // MARK: - Sub-feature Actions\n        case commentMeta(CommentMetaFeature.Action)\n        case commentList(CommentListFeature.Action)\n    }\n}\n</code></pre>"},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>Feature \u4f7f\u7528 <code>@Reducer</code> macro\uff0c\u653e\u5728 <code>PrematchComment</code> namespace extension \u5167 / Feature uses <code>@Reducer</code> macro, placed within <code>PrematchComment</code> namespace extension</li> <li>State \u4f7f\u7528 <code>@ObservableState</code> struct / State uses <code>@ObservableState</code> struct</li> <li>Action \u4f7f\u7528 <code>@CasePathable</code> enum / Action uses <code>@CasePathable</code> enum</li> <li>\u4f7f\u7528 <code>@Dependency</code> \u6ce8\u5165\u4f9d\u8cf4 / Use <code>@Dependency</code> to inject dependencies</li> <li>\u4f7f\u7528 <code>Reduce</code> \u5be6\u4f5c reducer \u908f\u8f2f / Use <code>Reduce</code> to implement reducer logic</li> <li>\u4f7f\u7528 <code>Effect</code> \u8655\u7406\u7570\u6b65\u64cd\u4f5c / Use <code>Effect</code> to handle async operations</li> <li>\u4f7f\u7528 MARK \u8a3b\u89e3\u7d44\u7e54\u4ee3\u78bc / Use MARK comments to organize code</li> </ul>"},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>PrematchCommentFeature</code> \u5b9a\u7fa9\u5b8c\u6210\uff0c\u4f7f\u7528 <code>@Reducer</code> / <code>PrematchCommentFeature</code> definition complete, using <code>@Reducer</code></li> <li>[ ] <code>State</code> \u5b9a\u7fa9\u5b8c\u6210\uff0c\u4f7f\u7528 <code>@ObservableState</code> / <code>State</code> definition complete, using <code>@ObservableState</code></li> <li>[ ] <code>Action</code> \u5b9a\u7fa9\u5b8c\u6210\uff0c\u4f7f\u7528 <code>@CasePathable</code> / <code>Action</code> definition complete, using <code>@CasePathable</code></li> <li>[ ] Reducer \u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210\uff0c\u4f7f\u7528 <code>Reduce</code> / Reducer logic implementation complete, using <code>Reduce</code></li> <li>[ ] \u6240\u6709 Action \u2192 UseCase \u6620\u5c04\u5b8c\u6210 / All Action \u2192 UseCase mapping complete</li> <li>[ ] \u4f7f\u7528 <code>@Dependency</code> \u6ce8\u5165\u4f9d\u8cf4 / Use <code>@Dependency</code> to inject dependencies</li> <li>[ ] Event Status \u901a\u77e5\u8655\u7406\u5be6\u4f5c\u5b8c\u6210 / Event Status notification handling implementation complete</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 80% / Unit Test Coverage \u2265 80%</li> </ul>"},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>Feature State &amp; Action\uff1a<code>output/LiveChat&amp;PrematchComment/06_Feature State &amp; Action (TCA)/01_feature_state_action.md</code></li> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> </ul>"},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e / \u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>\u57fa\u790e\u4f30\u6642\uff1a\u4e2d\u7b49 Feature = 3 SP</li> <li>+2 SP\uff1a\u9700\u8981\u8655\u7406\u8907\u96dc\u7684\u72c0\u614b\u540c\u6b65\uff08Event Status \u901a\u77e5\uff09 / - +2 SP\uff1a\u9700\u8981\u8655\u7406\u8907\u96dc\u7684State\u540c\u6b65(Event Status \u901a\u77e5)</li> <li>+2 SP\uff1a\u9700\u8981\u8655\u7406\u591a\u7a2e UI \u72c0\u614b\uff08Loading\u3001Error\u3001Success\uff09 / - +2 SP\uff1a\u9700\u8981\u8655\u7406\u591a\u7a2e UI State(Loading, Error, Success)</li> <li>+1 SP\uff1a\u6574\u5408\u591a\u500b UseCase\uff085 \u500b\uff09 / - +1 SP\uff1a\u6574\u5408\u591a\u500b UseCase(5 \u500b)</li> </ul>"},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature_en/","title":"TDD-050: PrematchCommentFeature","text":""},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-050 | | Jira Key | FOOTBALL-9198 |  | |  | Implement PrematchCommentFeature\uff08TCA Reducer\uff09 |  | |  | Type | Feature |  | |  | P0 |  | |  | PrematchComment |  | |  | TDD-040, TDD-041, TDD-042, TDD-043, TDD-044 |  | |  | Story Point | 8 |  | |  | Standard\uff1a3 daysMost Stringent\uff1a2 days |  |</p>"},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature_en/#description","title":"Description","text":"<p>Implement PrematchCommentFeature(TCA Reducer)\u3002</p>"},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature_en/#requirements","title":"Requirements","text":"<ol> <li>Define State Structure</li> <li>Define Action \u5217\u8209</li> <li>Implement Reducer Logic</li> <li>Integrateall UseCase Call</li> <li>Implement State UpdateLogic</li> <li>Implement Event Status \u901a\u77e5Handling</li> </ol>"},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] State and Action Definition Complete</li> <li>[ ] Reducer LogicImplementation Complete</li> <li>[ ] all Action \u2192 UseCase \u6620\u5c04Complete</li> <li>[ ] Event Status \u901a\u77e5HandlingImplementation Complete</li> <li>[ ] Unit Test Coverage \u2265 80%</li> </ul>"},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature_en/#related-documents","title":"Related Documents","text":"<ul> <li>Feature State &amp; Action\uff1a<code>output/LiveChat&amp;PrematchComment/06_Feature State &amp; Action (TCA)/01_feature_state_action.md</code></li> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> </ul>"},{"location":"12_Tickets/06_feature/TDD-050_PrematchCommentFeature_en/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>+2 SP\uff1a\u9700\u8981\u8655\u7406\u8907\u96dc\u7684State\u540c\u6b65(Event Status \u901a\u77e5)</li> <li>+2 SP\uff1a\u9700\u8981\u8655\u7406\u591a\u7a2e UI State(Loading, Error, Success)</li> <li>+1 SP\uff1a\u6574\u5408\u591a\u500b UseCase(5 \u500b)</li> </ul>"},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature/","title":"TDD-051: LiveChatFeature","text":""},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-051 Jira Key FOOTBALL-9199 \u6a19\u984c \u5be6\u4f5c LiveChatFeature\uff08TCA Reducer\uff09 \u985e\u578b Feature \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature LiveChat \u4f9d\u8cf4 Ticket TDD-045, TDD-046, TDD-047, TDD-048, TDD-044 Story Point 13 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a5 \u5929\u6700\u56b4\u53b2\uff1a4 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-16 (\u9031\u4e8c)"},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c LiveChatFeature\uff08TCA Reducer\uff09\u3002 / Implement LiveChatFeature(TCA Reducer)\u3002</p>"},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5b9a\u7fa9 <code>LiveChatFeature</code>\uff08\u4f7f\u7528 TCA <code>@Reducer</code>\uff09 / Define <code>LiveChatFeature</code> (using TCA <code>@Reducer</code>)</li> <li>\u5b9a\u7fa9 <code>State</code>\uff08\u4f7f\u7528 <code>@ObservableState</code>\uff09 / Define <code>State</code> (using <code>@ObservableState</code>)</li> <li>\u5b9a\u7fa9 <code>Action</code>\uff08\u4f7f\u7528 <code>@CasePathable</code> enum\uff09 / Define <code>Action</code> (using <code>@CasePathable</code> enum)</li> <li>\u5be6\u4f5c Reducer \u908f\u8f2f\uff08\u4f7f\u7528 <code>Reduce</code>\uff09 / Implement Reducer Logic (using <code>Reduce</code>)</li> <li>\u6574\u5408\u6240\u6709 UseCase \u547c\u53eb / Integrate all UseCase calls</li> <li>\u5be6\u4f5c WebSocket \u9023\u7dda\u72c0\u614b\u7ba1\u7406 / Implement WebSocket connection state management</li> <li>\u5be6\u4f5c WebSocket \u8a0a\u606f\u8655\u7406 / Implement WebSocket message handling</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/LiveChat/Features/LiveChat/LiveChatFeature.swift</code> / File structure: <code>Sources/LiveChat/Features/LiveChat/LiveChatFeature.swift</code></li> </ol>"},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature/#file-structure","title":"\u6a94\u6848\u7d50\u69cb / File Structure","text":"<pre><code>Sources/LiveChat/Features/LiveChat/\n  \u2514\u2500\u2500 LiveChatFeature.swift\n</code></pre>"},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import ComposableArchitecture\nimport Foundation\n\nextension LiveChat {\n    @Reducer\n    struct LiveChatFeature {\n        @Dependency(\\.liveChatRepository) var liveChatRepository\n        @Dependency(\\.sendChatMessageUseCase) var sendChatMessageUseCase\n        @Dependency(\\.joinChatroomUseCase) var joinChatroomUseCase\n        @Dependency(\\.leaveChatroomUseCase) var leaveChatroomUseCase\n        @Dependency(\\.blockUserUseCase) var blockUserUseCase\n        @Dependency(\\.navigateToProfileUseCase) var navigateToProfileUseCase\n\n        var body: some ReducerOf&lt;Self&gt; {\n            Reduce { state, action in\n                switch action {\n                case .joinChatroom:\n                    return joinChatroom(state: &amp;state)\n\n                case .sendMessage(let content):\n                    return sendMessage(content: content, state: &amp;state)\n\n                case .leaveChatroom:\n                    return leaveChatroom(state: &amp;state)\n\n                case .blockUser(let userId):\n                    return blockUser(userId: userId, state: &amp;state)\n\n                case .webSocketConnected:\n                    state.webSocketStatus = .connected\n                    return .none\n\n                case .webSocketDisconnected:\n                    state.webSocketStatus = .disconnected\n                    return .none\n\n                case .webSocketMessageReceived(let message):\n                    return handleWebSocketMessage(message: message, state: &amp;state)\n\n                // MARK: - Sub-feature Actions\n                case .messageList, .chatroomInfo:\n                    return .none\n                }\n            }\n        }\n\n        private func joinChatroom(state: inout State) -&gt; Effect&lt;Action&gt; {\n            state.isLoading = true\n            return .run { [refId = state.refId] send in\n                do {\n                    let chatroomInfo = try await joinChatroomUseCase.execute(\n                        input: .init(refId: refId)\n                    )\n                    await send(.chatroomInfo(.loaded(chatroomInfo)))\n                } catch {\n                    await send(.chatroomInfo(.loadFailed(error.localizedDescription)))\n                }\n            }\n        }\n\n        // \u5176\u4ed6\u65b9\u6cd5...\n    }\n}\n\nextension LiveChat.LiveChatFeature {\n    @ObservableState\n    struct State: Equatable {\n        var refId: String\n        var isLoading = false\n        var errorMessage: String?\n        var webSocketStatus: WebSocketStatus = .disconnected\n\n        enum WebSocketStatus: Equatable {\n            case disconnected\n            case connecting\n            case connected\n        }\n\n        var chatroomInfo: ChatroomInfoFeature.State\n        var messageList: MessageListFeature.State\n    }\n\n    @CasePathable\n    enum Action: Equatable {\n        case joinChatroom\n        case sendMessage(String)\n        case leaveChatroom\n        case blockUser(String)\n        case navigateToProfile(String)\n\n        // MARK: - WebSocket Actions\n        case webSocketConnected\n        case webSocketDisconnected\n        case webSocketMessageReceived(LiveChat.Message)\n\n        // MARK: - Sub-feature Actions\n        case chatroomInfo(ChatroomInfoFeature.Action)\n        case messageList(MessageListFeature.Action)\n    }\n}\n</code></pre>"},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>Feature \u4f7f\u7528 <code>@Reducer</code> macro\uff0c\u653e\u5728 <code>LiveChat</code> namespace extension \u5167 / Feature uses <code>@Reducer</code> macro, placed within <code>LiveChat</code> namespace extension</li> <li>State \u4f7f\u7528 <code>@ObservableState</code> struct / State uses <code>@ObservableState</code> struct</li> <li>Action \u4f7f\u7528 <code>@CasePathable</code> enum / Action uses <code>@CasePathable</code> enum</li> <li>\u4f7f\u7528 <code>@Dependency</code> \u6ce8\u5165\u4f9d\u8cf4 / Use <code>@Dependency</code> to inject dependencies</li> <li>\u4f7f\u7528 <code>Reduce</code> \u5be6\u4f5c reducer \u908f\u8f2f / Use <code>Reduce</code> to implement reducer logic</li> <li>\u4f7f\u7528 <code>Effect</code> \u8655\u7406\u7570\u6b65\u64cd\u4f5c / Use <code>Effect</code> to handle async operations</li> </ul>"},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>LiveChatFeature</code> \u5b9a\u7fa9\u5b8c\u6210\uff0c\u4f7f\u7528 <code>@Reducer</code> / <code>LiveChatFeature</code> definition complete, using <code>@Reducer</code></li> <li>[ ] <code>State</code> \u5b9a\u7fa9\u5b8c\u6210\uff0c\u4f7f\u7528 <code>@ObservableState</code> / <code>State</code> definition complete, using <code>@ObservableState</code></li> <li>[ ] <code>Action</code> \u5b9a\u7fa9\u5b8c\u6210\uff0c\u4f7f\u7528 <code>@CasePathable</code> / <code>Action</code> definition complete, using <code>@CasePathable</code></li> <li>[ ] Reducer \u908f\u8f2f\u5be6\u4f5c\u5b8c\u6210\uff0c\u4f7f\u7528 <code>Reduce</code> / Reducer logic implementation complete, using <code>Reduce</code></li> <li>[ ] \u6240\u6709 Action \u2192 UseCase \u6620\u5c04\u5b8c\u6210 / All Action \u2192 UseCase mapping complete</li> <li>[ ] WebSocket \u9023\u7dda\u72c0\u614b\u7ba1\u7406\u5be6\u4f5c\u5b8c\u6210 / WebSocket connection state management implementation complete</li> <li>[ ] WebSocket \u8a0a\u606f\u8655\u7406\u5be6\u4f5c\u5b8c\u6210 / WebSocket message handling implementation complete</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] Unit Test \u8986\u84cb\u7387 \u2265 80% / Unit Test Coverage \u2265 80%</li> </ul>"},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>Feature State &amp; Action\uff1a<code>output/LiveChat&amp;PrematchComment/06_Feature State &amp; Action (TCA)/01_feature_state_action.md</code></li> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> </ul>"},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e / \u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>\u57fa\u790e\u4f30\u6642\uff1a\u8907\u96dc Feature = 8 SP</li> <li>+2 SP\uff1a\u9700\u8981\u8655\u7406\u8907\u96dc\u7684\u72c0\u614b\u540c\u6b65\uff08WebSocket \u9023\u7dda\u72c0\u614b\u3001\u8a0a\u606f\u540c\u6b65\uff09 / - +2 SP\uff1a\u9700\u8981\u8655\u7406\u8907\u96dc\u7684State\u540c\u6b65(WebSocket \u9023\u7ddaState, \u8a0a\u606f\u540c\u6b65)</li> <li>+2 SP\uff1a\u9700\u8981\u8655\u7406\u591a\u7a2e UI \u72c0\u614b\uff08Loading\u3001Error\u3001Success\u3001WebSocket \u72c0\u614b\uff09 / - +2 SP\uff1a\u9700\u8981\u8655\u7406\u591a\u7a2e UI State(Loading, Error, Success, WebSocket State)</li> <li>+1 SP\uff1a\u6574\u5408\u591a\u500b UseCase\uff085 \u500b\uff09 / - +1 SP\uff1a\u6574\u5408\u591a\u500b UseCase(5 \u500b)</li> </ul>"},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature_en/","title":"TDD-051: LiveChatFeature","text":""},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-051 | | Jira Key | FOOTBALL-9199 |  | |  | Implement LiveChatFeature\uff08TCA Reducer\uff09 |  | |  | Type | Feature |  | |  | P0 |  | |  | LiveChat |  | |  | TDD-045, TDD-046, TDD-047, TDD-048, TDD-044 |  | |  | Story Point | 13 |  | |  | Standard\uff1a5 daysMost Stringent\uff1a4 days |  |</p>"},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature_en/#description","title":"Description","text":"<p>Implement LiveChatFeature(TCA Reducer)\u3002</p>"},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature_en/#requirements","title":"Requirements","text":"<ol> <li>Define State Structure</li> <li>Define Action \u5217\u8209</li> <li>Implement Reducer Logic</li> <li>Integrateall UseCase Call</li> <li>Implement State UpdateLogic</li> <li>Implement WebSocket \u9023\u7ddaState\u7ba1\u7406</li> <li>Implement WebSocket \u8a0a\u606fHandling</li> </ol>"},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] State and Action Definition Complete</li> <li>[ ] Reducer LogicImplementation Complete</li> <li>[ ] all Action \u2192 UseCase \u6620\u5c04Complete</li> <li>[ ] WebSocket \u9023\u7ddaState\u7ba1\u7406Implementation Complete</li> <li>[ ] WebSocket \u8a0a\u606fHandlingImplementation Complete</li> <li>[ ] Unit Test Coverage \u2265 80%</li> </ul>"},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature_en/#related-documents","title":"Related Documents","text":"<ul> <li>Feature State &amp; Action\uff1a<code>output/LiveChat&amp;PrematchComment/06_Feature State &amp; Action (TCA)/01_feature_state_action.md</code></li> <li>Module Responsibility\uff1a<code>output/LiveChat&amp;PrematchComment/03_Module Responsibility/01_module_responsibility.md</code></li> </ul>"},{"location":"12_Tickets/06_feature/TDD-051_LiveChatFeature_en/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>+2 SP\uff1a\u9700\u8981\u8655\u7406\u8907\u96dc\u7684State\u540c\u6b65(WebSocket \u9023\u7ddaState, \u8a0a\u606f\u540c\u6b65)</li> <li>+2 SP\uff1a\u9700\u8981\u8655\u7406\u591a\u7a2e UI State(Loading, Error, Success, WebSocket State)</li> <li>+1 SP\uff1a\u6574\u5408\u591a\u500b UseCase(5 \u500b)</li> </ul>"},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView/","title":"TDD-060: PrematchCommentView","text":""},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-060 Jira Key FOOTBALL-9201 \u6a19\u984c \u5be6\u4f5c PrematchCommentView \u985e\u578b View \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature PrematchComment \u4f9d\u8cf4 Ticket TDD-050 Story Point 13 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a5 \u5929\u6700\u56b4\u53b2\uff1a4 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-17 (\u9031\u4e09)"},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c PrematchCommentView\u3002 / Implement PrematchCommentView\u3002</p>"},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5be6\u4f5c <code>PrematchCommentView</code>\uff08SwiftUI\uff09 / Implement <code>PrematchCommentView</code> (SwiftUI)</li> <li>\u6574\u5408 <code>PrematchCommentFeature</code>\uff08\u4f7f\u7528 TCA <code>Store</code>\uff09 / Integrate <code>PrematchCommentFeature</code> (using TCA <code>Store</code>)</li> <li>\u5be6\u4f5c UI \u72c0\u614b\u7d81\u5b9a\uff08\u4f7f\u7528 <code>@Bindable</code>\uff09 / Implement UI state binding (using <code>@Bindable</code>)</li> <li>\u5be6\u4f5c\u4f7f\u7528\u8005\u4e92\u52d5\u8655\u7406 / Implement user interaction handling</li> <li>\u5be6\u4f5c Loading/Error \u72c0\u614b\u986f\u793a / Implement Loading/Error state display</li> <li>\u5be6\u4f5c\u7559\u8a00\u5217\u8868\u986f\u793a\uff08\u652f\u63f4 top/newest \u5207\u63db\uff09 / Implement comment list display (support top/newest switching)</li> <li>\u5be6\u4f5c\u56de\u8986\u5217\u8868\u986f\u793a\uff08\u652f\u63f4\u5c55\u958b/\u6536\u8d77\uff09 / Implement reply list display (support expand/collapse)</li> <li>\u5be6\u4f5c\u5206\u9801\u8f09\u5165\u66f4\u591a / Implement pagination load more</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/PrematchComment/Views/PrematchComment/PrematchCommentView.swift</code> / File structure: <code>Sources/PrematchComment/Views/PrematchComment/PrematchCommentView.swift</code></li> </ol>"},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView/#file-structure","title":"\u6a94\u6848\u7d50\u69cb / File Structure","text":"<pre><code>Sources/PrematchComment/Views/PrematchComment/\n  \u251c\u2500\u2500 PrematchCommentView.swift\n  \u251c\u2500\u2500 PrematchCommentView+ViewBuilders.swift  # View builders\n  \u2514\u2500\u2500 PrematchCommentContentView.swift        # Content view\n</code></pre>"},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import ComposableArchitecture\nimport SwiftUI\n\npublic struct PrematchCommentView: View {\n    @Bindable var store: StoreOf&lt;PrematchComment.PrematchCommentFeature&gt;\n\n    public init(store: StoreOf&lt;PrematchComment.PrematchCommentFeature&gt;) {\n        self.store = store\n    }\n\n    public var body: some View {\n        VStack {\n            if store.isLoading {\n                ProgressView()\n            } else if let errorMessage = store.errorMessage {\n                ErrorView(message: errorMessage)\n            } else {\n                CommentListView(store: store)\n            }\n        }\n        .onAppear {\n            store.send(.loadCommentList)\n        }\n    }\n}\n\n// MARK: - View Builders\n\nextension PrematchCommentView {\n    @ViewBuilder\n    private func CommentListView(store: StoreOf&lt;PrematchComment.PrematchCommentFeature&gt;) -&gt; some View {\n        VStack {\n            SortModePicker(store: store)\n            CommentList(store: store)\n        }\n    }\n\n    @ViewBuilder\n    private func SortModePicker(store: StoreOf&lt;PrematchComment.PrematchCommentFeature&gt;) -&gt; some View {\n        Picker(\"Sort Mode\", selection: Binding(\n            get: { store.sortMode },\n            set: { store.send(.setSortMode($0)) }\n        )) {\n            Text(\"Top\").tag(PrematchComment.SortMode.top)\n            Text(\"Newest\").tag(PrematchComment.SortMode.newest)\n        }\n        .pickerStyle(.segmented)\n    }\n}\n</code></pre>"},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>View \u4f7f\u7528 <code>struct</code>\uff0c\u5be6\u4f5c <code>View</code> protocol / View uses <code>struct</code>, implements <code>View</code> protocol</li> <li>\u4f7f\u7528 <code>@Bindable</code> \u7d81\u5b9a Store / Use <code>@Bindable</code> to bind Store</li> <li>\u4f7f\u7528 <code>StoreOf&lt;Feature&gt;</code> \u985e\u578b / Use <code>StoreOf&lt;Feature&gt;</code> type</li> <li>\u4f7f\u7528 <code>@ViewBuilder</code> \u7d44\u7e54 View \u7d50\u69cb / Use <code>@ViewBuilder</code> to organize View structure</li> <li>\u4f7f\u7528 extension \u5206\u96e2 View builders / Use extension to separate View builders</li> <li>\u4f7f\u7528 MARK \u8a3b\u89e3\u7d44\u7e54\u4ee3\u78bc / Use MARK comments to organize code</li> </ul>"},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>PrematchCommentView</code> \u5be6\u4f5c\u5b8c\u6210 / <code>PrematchCommentView</code> implementation complete</li> <li>[ ] Feature \u6574\u5408\u5b8c\u6210\uff0c\u4f7f\u7528 TCA <code>Store</code> / Feature integration complete, using TCA <code>Store</code></li> <li>[ ] UI \u72c0\u614b\u7d81\u5b9a\u5be6\u4f5c\u5b8c\u6210\uff0c\u4f7f\u7528 <code>@Bindable</code> / UI state binding implementation complete, using <code>@Bindable</code></li> <li>[ ] \u6240\u6709\u4f7f\u7528\u8005\u4e92\u52d5\u6d41\u7a0b\u6e2c\u8a66\u901a\u904e / All user interaction flow tests passed</li> <li>[ ] Loading/Error \u72c0\u614b\u986f\u793a\u6b63\u78ba / Loading/Error state display correct</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] UI Test \u8986\u84cb\u7387 \u2265 70% / UI Test Coverage \u2265 70%</li> </ul>"},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>Module Sequence Diagram\uff1a<code>output/LiveChat&amp;PrematchComment/05. Module Sequence Diagram\uff08\u6a21\u7d44\u5e8f\u5217\u5716\uff09/PrematchComment/Module Sequence Diagrams/</code> / - Module Sequence Diagram\uff1a<code>output/LiveChat&amp;PrematchComment/05. Module Sequence Diagram(\u6a21\u7d44\u5e8f\u5217\u5716)/PrematchComment/Module Sequence Diagrams/</code></li> </ul>"},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e / \u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>\u57fa\u790e\u4f30\u6642\uff1a\u8907\u96dc View = 13 SP</li> <li>+2 SP\uff1a\u8907\u96dc\u7684\u5217\u8868 UI\uff08\u7559\u8a00\u5217\u8868\u3001\u56de\u8986\u5217\u8868\uff09 / - +2 SP\uff1a\u8907\u96dc\u7684\u5217\u8868 UI(\u7559\u8a00\u5217\u8868, \u56de\u8986\u5217\u8868)</li> <li>+2 SP\uff1a\u9700\u8981\u8655\u7406\u591a\u7a2e Loading/Error \u72c0\u614b / - +2 SP\uff1a\u9700\u8981\u8655\u7406\u591a\u7a2e Loading/Error State</li> </ul>"},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView_en/","title":"TDD-060: PrematchCommentView","text":""},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-060 | | Jira Key | FOOTBALL-9201 |  | |  | Implement PrematchCommentView |  | |  | Type | View |  | |  | P0 |  | |  | PrematchComment |  | |  | TDD-050 |  | |  | Story Point | 13 |  | |  | Standard\uff1a5 daysMost Stringent\uff1a4 days |  |</p>"},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView_en/#description","title":"Description","text":"<p>Implement PrematchCommentView\u3002</p>"},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView_en/#requirements","title":"Requirements","text":"<ol> <li>Implement UI Components</li> <li>Integrate PrematchCommentFeature(TCA)</li> <li>Implement UI StateBinding</li> <li>Implement\u4f7f\u7528\u8005InteractionHandling</li> <li>Implement Loading/Error StateDisplay</li> <li>Implement\u7559\u8a00\u5217\u8868Display(Support top/newest \u5207\u63db)</li> <li>Implement\u56de\u8986\u5217\u8868Display(Support\u5c55\u958b/\u6536\u8d77)</li> <li>ImplementPaginationLoading\u66f4\u591a</li> </ol>"},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] UI ComponentsImplementation Complete</li> <li>[ ] Feature IntegrateComplete</li> <li>[ ] all\u4f7f\u7528\u8005Interaction\u6d41\u7a0bTestPassed</li> <li>[ ] Loading/Error StateDisplaycorrect</li> <li>[ ] UI Test Coverage \u2265 70%</li> </ul>"},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView_en/#related-documents","title":"Related Documents","text":"<ul> <li>Module Sequence Diagram\uff1a<code>output/LiveChat&amp;PrematchComment/05. Module Sequence Diagram(\u6a21\u7d44\u5e8f\u5217\u5716)/PrematchComment/Module Sequence Diagrams/</code></li> </ul>"},{"location":"12_Tickets/07_view/TDD-060_PrematchCommentView_en/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>+2 SP\uff1a\u8907\u96dc\u7684\u5217\u8868 UI(\u7559\u8a00\u5217\u8868, \u56de\u8986\u5217\u8868)</li> <li>+2 SP\uff1a\u9700\u8981\u8655\u7406\u591a\u7a2e Loading/Error State</li> </ul>"},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView/","title":"TDD-061: LiveDetailView","text":""},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView/#ticket-ticket-information","title":"Ticket \u8cc7\u8a0a / Ticket Information","text":"\u6b04\u4f4d \u503c Ticket ID TDD-061 Jira Key FOOTBALL-9202 \u6a19\u984c \u5be6\u4f5c LiveDetailView \u985e\u578b View \u512a\u5148\u7d1a P0 \u6240\u5c6c Feature LiveChat \u4f9d\u8cf4 Ticket TDD-051 Story Point 13 \u4f30\u6642\uff08Senior iOS Engineer + AI \u8f14\u52a9\uff09 \u6a19\u6e96\uff1a5 \u5929\u6700\u56b4\u53b2\uff1a4 \u5929 \u958b\u767c\u65e5\u671f / Development Date 2025-12-19 (\u9031\u4e94)"},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView/#description","title":"\u63cf\u8ff0 / Description","text":"<p>\u5be6\u4f5c LiveDetailView\u3002 / Implement LiveDetailView\u3002</p>"},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView/#requirements","title":"\u9700\u6c42 / Requirements","text":"<ol> <li>\u5be6\u4f5c <code>LiveDetailView</code>\uff08SwiftUI\uff09 / Implement <code>LiveDetailView</code> (SwiftUI)</li> <li>\u6574\u5408 <code>LiveChatFeature</code>\uff08\u4f7f\u7528 TCA <code>Store</code>\uff09 / Integrate <code>LiveChatFeature</code> (using TCA <code>Store</code>)</li> <li>\u5be6\u4f5c UI \u72c0\u614b\u7d81\u5b9a\uff08\u4f7f\u7528 <code>@Bindable</code>\uff09 / Implement UI state binding (using <code>@Bindable</code>)</li> <li>\u5be6\u4f5c\u4f7f\u7528\u8005\u4e92\u52d5\u8655\u7406 / Implement user interaction handling</li> <li>\u5be6\u4f5c Loading/Error \u72c0\u614b\u986f\u793a / Implement Loading/Error state display</li> <li>\u5be6\u4f5c\u804a\u5929\u5ba4\u8a0a\u606f\u5217\u8868\u986f\u793a / Implement chatroom message list display</li> <li>\u5be6\u4f5c\u5373\u6642\u8a0a\u606f\u63a5\u6536\u548c\u986f\u793a\uff08WebSocket\uff09 / Implement real-time message receive and display (WebSocket)</li> <li>\u5be6\u4f5c\u6b77\u53f2\u8a0a\u606f\u8f09\u5165\uff08\u6efe\u52d5\u5230\u9802\u90e8\uff09 / Implement historical message loading (scroll to top)</li> <li>\u5be6\u4f5c\u7528\u6236\u64cd\u4f5c\u9078\u55ae\uff08\u5c01\u9396\u3001\u8df3\u8f49\u500b\u4eba\u4e3b\u9801\uff09 / Implement user action menu (block, navigate to profile)</li> <li>\u6a94\u6848\u7d50\u69cb\uff1a<code>Sources/LiveChat/Views/LiveChat/LiveDetailView.swift</code> / File structure: <code>Sources/LiveChat/Views/LiveChat/LiveDetailView.swift</code></li> </ol>"},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView/#implementation-guidelines","title":"\u5be6\u4f5c\u898f\u7bc4 / Implementation Guidelines","text":""},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView/#file-structure","title":"\u6a94\u6848\u7d50\u69cb / File Structure","text":"<pre><code>Sources/LiveChat/Views/LiveChat/\n  \u251c\u2500\u2500 LiveDetailView.swift\n  \u251c\u2500\u2500 LiveDetailView+ViewBuilders.swift  # View builders\n  \u2514\u2500\u2500 MessageListView.swift             # Message list view\n</code></pre>"},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView/#code-example","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b / Code Example","text":"<pre><code>import ComposableArchitecture\nimport SwiftUI\n\npublic struct LiveDetailView: View {\n    @Bindable var store: StoreOf&lt;LiveChat.LiveChatFeature&gt;\n\n    public init(store: StoreOf&lt;LiveChat.LiveChatFeature&gt;) {\n        self.store = store\n    }\n\n    public var body: some View {\n        VStack {\n            if store.isLoading {\n                ProgressView()\n            } else if let errorMessage = store.errorMessage {\n                ErrorView(message: errorMessage)\n            } else {\n                MessageListView(store: store)\n            }\n        }\n        .onAppear {\n            store.send(.joinChatroom)\n        }\n        .onChange(of: store.webSocketStatus) { oldValue, newValue in\n            if newValue == .connected {\n                store.send(.subscribeWebSocket)\n            }\n        }\n    }\n}\n\n// MARK: - View Builders\n\nextension LiveDetailView {\n    @ViewBuilder\n    private func MessageListView(store: StoreOf&lt;LiveChat.LiveChatFeature&gt;) -&gt; some View {\n        ScrollViewReader { proxy in\n            List(store.messageList.messages) { message in\n                MessageRow(message: message)\n                    .onTapGesture {\n                        store.send(.showUserActionMenu(message.authorId))\n                    }\n            }\n            .onChange(of: store.messageList.messages.count) { oldValue, newValue in\n                if let lastMessage = store.messageList.messages.last {\n                    withAnimation {\n                        proxy.scrollTo(lastMessage.id, anchor: .bottom)\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView/#naming-conventions","title":"\u547d\u540d\u898f\u7bc4 / Naming Conventions","text":"<ul> <li>View \u4f7f\u7528 <code>struct</code>\uff0c\u5be6\u4f5c <code>View</code> protocol / View uses <code>struct</code>, implements <code>View</code> protocol</li> <li>\u4f7f\u7528 <code>@Bindable</code> \u7d81\u5b9a Store / Use <code>@Bindable</code> to bind Store</li> <li>\u4f7f\u7528 <code>StoreOf&lt;Feature&gt;</code> \u985e\u578b / Use <code>StoreOf&lt;Feature&gt;</code> type</li> <li>\u4f7f\u7528 <code>@ViewBuilder</code> \u7d44\u7e54 View \u7d50\u69cb / Use <code>@ViewBuilder</code> to organize View structure</li> <li>\u4f7f\u7528 extension \u5206\u96e2 View builders / Use extension to separate View builders</li> </ul>"},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView/#acceptance-criteria","title":"\u9a57\u6536\u689d\u4ef6 / Acceptance Criteria","text":"<ul> <li>[ ] <code>LiveDetailView</code> \u5be6\u4f5c\u5b8c\u6210 / <code>LiveDetailView</code> implementation complete</li> <li>[ ] Feature \u6574\u5408\u5b8c\u6210\uff0c\u4f7f\u7528 TCA <code>Store</code> / Feature integration complete, using TCA <code>Store</code></li> <li>[ ] UI \u72c0\u614b\u7d81\u5b9a\u5be6\u4f5c\u5b8c\u6210\uff0c\u4f7f\u7528 <code>@Bindable</code> / UI state binding implementation complete, using <code>@Bindable</code></li> <li>[ ] \u6240\u6709\u4f7f\u7528\u8005\u4e92\u52d5\u6d41\u7a0b\u6e2c\u8a66\u901a\u904e / All user interaction flow tests passed</li> <li>[ ] WebSocket \u8a0a\u606f\u5373\u6642\u986f\u793a\u6b63\u78ba / WebSocket message real-time display correct</li> <li>[ ] Loading/Error \u72c0\u614b\u986f\u793a\u6b63\u78ba / Loading/Error state display correct</li> <li>[ ] \u6a94\u6848\u7d50\u69cb\u7b26\u5408\u53c3\u8003\u4ee3\u78bc\u98a8\u683c / File structure matches reference code style</li> <li>[ ] UI Test \u8986\u84cb\u7387 \u2265 70% / UI Test Coverage \u2265 70%</li> </ul>"},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView/#related-documents","title":"\u76f8\u95dc\u6587\u4ef6 / Related Documents","text":"<ul> <li>Module Sequence Diagram\uff1a<code>output/LiveChat&amp;PrematchComment/05. Module Sequence Diagram\uff08\u6a21\u7d44\u5e8f\u5217\u5716\uff09/LiveChat/Module Sequence Diagrams/</code> / - Module Sequence Diagram\uff1a<code>output/LiveChat&amp;PrematchComment/05. Module Sequence Diagram(\u6a21\u7d44\u5e8f\u5217\u5716)/LiveChat/Module Sequence Diagrams/</code></li> </ul>"},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e / \u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>\u57fa\u790e\u4f30\u6642\uff1a\u8907\u96dc View = 13 SP</li> <li>+2 SP\uff1a\u8907\u96dc\u7684\u5217\u8868 UI\uff08\u804a\u5929\u8a0a\u606f\u5217\u8868\uff09 / - +2 SP\uff1a\u8907\u96dc\u7684\u5217\u8868 UI(\u804a\u5929\u8a0a\u606f\u5217\u8868)</li> <li>+2 SP\uff1a\u9700\u8981\u8655\u7406\u591a\u7a2e Loading/Error \u72c0\u614b / - +2 SP\uff1a\u9700\u8981\u8655\u7406\u591a\u7a2e Loading/Error State</li> <li>+1 SP\uff1aWebSocket \u5373\u6642\u8a0a\u606f\u8655\u7406</li> </ul>"},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView_en/","title":"TDD-061: LiveDetailView","text":""},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView_en/#ticket-information","title":"Ticket Information","text":"<p>|------|-----| |  | Ticket ID | TDD-061 | | Jira Key | FOOTBALL-9202 |  | |  | Implement LiveDetailView |  | |  | Type | View |  | |  | P0 |  | |  | LiveChat |  | |  | TDD-051 |  | |  | Story Point | 13 |  | |  | Standard\uff1a5 daysMost Stringent\uff1a4 days |  |</p>"},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView_en/#description","title":"Description","text":"<p>Implement LiveDetailView\u3002</p>"},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView_en/#requirements","title":"Requirements","text":"<ol> <li>Implement UI Components</li> <li>Integrate LiveChatFeature(TCA)</li> <li>Implement UI StateBinding</li> <li>Implement\u4f7f\u7528\u8005InteractionHandling</li> <li>Implement Loading/Error StateDisplay</li> <li>Implement\u804a\u5929\u5ba4\u8a0a\u606f\u5217\u8868Display</li> <li>Implement\u5373\u6642\u8a0a\u606f\u63a5\u6536andDisplay</li> <li>Implement\u6b77\u53f2\u8a0a\u606fLoading(\u6efe\u52d5\u5230\u9802\u90e8)</li> <li>Implement\u7528\u6236\u64cd\u4f5c\u9078\u55ae(\u5c01\u9396, \u8df3\u8f49\u500b\u4eba\u4e3b\u9801)</li> </ol>"},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView_en/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] UI ComponentsImplementation Complete</li> <li>[ ] Feature IntegrateComplete</li> <li>[ ] all\u4f7f\u7528\u8005Interaction\u6d41\u7a0bTestPassed</li> <li>[ ] WebSocket \u8a0a\u606f\u5373\u6642Displaycorrect</li> <li>[ ] Loading/Error StateDisplaycorrect</li> <li>[ ] UI Test Coverage \u2265 70%</li> </ul>"},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView_en/#related-documents","title":"Related Documents","text":"<ul> <li>Module Sequence Diagram\uff1a<code>output/LiveChat&amp;PrematchComment/05. Module Sequence Diagram(\u6a21\u7d44\u5e8f\u5217\u5716)/LiveChat/Module Sequence Diagrams/</code></li> </ul>"},{"location":"12_Tickets/07_view/TDD-061_LiveDetailView_en/#_1","title":"\u8abf\u6574\u56e0\u5b50\u8aaa\u660e","text":"<ul> <li>+2 SP\uff1a\u8907\u96dc\u7684\u5217\u8868 UI(\u804a\u5929\u8a0a\u606f\u5217\u8868)</li> <li>+2 SP\uff1a\u9700\u8981\u8655\u7406\u591a\u7a2e Loading/Error State</li> </ul>"},{"location":"13_Implementation_Status/","title":"\u5be6\u4f5c\u72c0\u614b\u8ffd\u8e64","text":"<p>\u672c\u76ee\u9304\u7528\u65bc\u8ffd\u8e64 TDD Ticket \u7684\u5be6\u4f5c\u72c0\u614b\uff0c\u78ba\u4fdd TDD \u6587\u4ef6\u8207\u5be6\u969b codebase \u4fdd\u6301\u540c\u6b65\u3002</p>"},{"location":"13_Implementation_Status/#_2","title":"\u6587\u4ef6\u8aaa\u660e","text":"<ul> <li><code>implementation_status.md</code>\uff1a\u4e3b\u8981\u7684\u5be6\u4f5c\u72c0\u614b\u8ffd\u8e64\u8868\uff0c\u8a18\u9304\u6bcf\u500b Ticket \u7684\u5be6\u4f5c\u9032\u5ea6</li> </ul>"},{"location":"13_Implementation_Status/#_3","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<ol> <li>\u958b\u59cb\u5be6\u4f5c\u524d\uff1a\u5728 <code>implementation_status.md</code> \u4e2d\u6a19\u8a18 Ticket \u72c0\u614b\u70ba \"\ud83d\udea7 In Progress\"</li> <li>\u5be6\u4f5c\u5b8c\u6210\u5f8c\uff1a\u66f4\u65b0\u72c0\u614b\u70ba \"\u2705 Done\"\uff0c\u4e26\u8a18\u9304\u5be6\u4f5c\u6a94\u6848\u8def\u5f91\u548c\u65e5\u671f</li> <li>\u5b9a\u671f\u6aa2\u67e5\uff1a\u4f7f\u7528 Cursor \u5354\u52a9\u6aa2\u67e5\u5be6\u4f5c\u8207 TDD \u7684\u4e00\u81f4\u6027</li> </ol>"},{"location":"13_Implementation_Status/#_4","title":"\u72c0\u614b\u8aaa\u660e","text":"<ul> <li>\u23f3 Pending\uff1a\u5c1a\u672a\u958b\u59cb</li> <li>\ud83d\udea7 In Progress\uff1a\u9032\u884c\u4e2d</li> <li>\u2705 Done\uff1a\u5df2\u5b8c\u6210</li> <li>\u26a0\ufe0f Blocked\uff1a\u88ab\u963b\u585e</li> <li>\ud83d\udd0d Review\uff1a\u5f85 Code Review</li> </ul>"},{"location":"13_Implementation_Status/#cursor","title":"\u8207 Cursor \u5354\u4f5c","text":"<p>\u6bcf\u5929\u7d50\u675f\u6642\uff0c\u53ef\u4ee5\u9019\u6a23\u8207 Cursor \u4e92\u52d5\uff1a</p> <pre><code>\u8acb\u6aa2\u67e5\u4eca\u5929\u7684\u5be6\u4f5c\u9032\u5ea6\uff1a\n1. \u66f4\u65b0 implementation_status.md\n2. \u6aa2\u67e5\u5be6\u4f5c\u6a94\u6848\u662f\u5426\u5b58\u5728\n3. \u6aa2\u67e5\u5be6\u4f5c\u662f\u5426\u7b26\u5408 TDD \u898f\u7bc4\n4. \u751f\u6210\u8b8a\u66f4\u8a18\u9304\n</code></pre>"},{"location":"13_Implementation_Status/implementation_status/","title":"\u5be6\u4f5c\u72c0\u614b\u8ffd\u8e64","text":""},{"location":"13_Implementation_Status/implementation_status/#_2","title":"\u7e3d\u89bd","text":"<ul> <li>\u958b\u59cb\u65e5\u671f: 2025-01-XX</li> <li>\u6700\u5f8c\u66f4\u65b0: 2025-01-XX</li> <li>\u5b8c\u6210\u5ea6: 0/26 tickets (0%)</li> <li>\u9032\u884c\u4e2d: 0 tickets</li> <li>\u5f85\u958b\u59cb: 26 tickets</li> </ul>"},{"location":"13_Implementation_Status/implementation_status/#ticket","title":"Ticket \u5be6\u4f5c\u72c0\u614b","text":"Ticket ID \u6a19\u984c \u72c0\u614b \u5be6\u4f5c\u65e5\u671f \u5be6\u4f5c\u6a94\u6848 \u5099\u8a3b TDD-001 Comment Entity \u23f3 Pending - - - TDD-002 CommentMeta Entity \u23f3 Pending - - - TDD-003 UserInfo Entity \u23f3 Pending - - - TDD-004 Message Entity \u23f3 Pending - - - TDD-005 ChatroomInfo Entity \u23f3 Pending - - - TDD-006 Value Objects \u23f3 Pending - - - TDD-010 PrematchCommentAPI \u23f3 Pending - - - TDD-011 ChatAPI \u23f3 Pending - - - TDD-020 PrematchCommentClient \u23f3 Pending - - - TDD-021 LiveChatClient \u23f3 Pending - - - TDD-022 ChatWebSocketClient \u23f3 Pending - - - TDD-030 PrematchCommentRepository \u23f3 Pending - - - TDD-031 LiveChatRepository \u23f3 Pending - - - TDD-040 ReloadCommentListUseCase \u23f3 Pending - - - TDD-041 PublishCommentUseCase \u23f3 Pending - - - TDD-042 ToggleLikeUseCase \u23f3 Pending - - - TDD-043 LoadRepliesUseCase \u23f3 Pending - - - TDD-044 NavigateToProfileUseCase \u23f3 Pending - - - TDD-045 SendChatMessageUseCase \u23f3 Pending - - - TDD-046 JoinChatroomUseCase \u23f3 Pending - - - TDD-047 LeaveChatroomUseCase \u23f3 Pending - - - TDD-048 BlockUserUseCase \u23f3 Pending - - - TDD-050 PrematchCommentFeature \u23f3 Pending - - - TDD-051 LiveChatFeature \u23f3 Pending - - - TDD-060 PrematchCommentView \u23f3 Pending - - - TDD-061 LiveDetailView \u23f3 Pending - - -"},{"location":"13_Implementation_Status/implementation_status/#_3","title":"\u72c0\u614b\u7d71\u8a08","text":""},{"location":"13_Implementation_Status/implementation_status/#_4","title":"\u6309\u5c64\u7d1a\u7d71\u8a08","text":"\u5c64\u7d1a \u7e3d\u6578 \u5df2\u5b8c\u6210 \u9032\u884c\u4e2d \u5f85\u958b\u59cb Domain Model 6 0 0 6 API 2 0 0 2 Client 3 0 0 3 Repository 2 0 0 2 UseCase 9 0 0 9 Feature 2 0 0 2 View 2 0 0 2 \u7e3d\u8a08 26 0 0 26"},{"location":"13_Implementation_Status/implementation_status/#feature","title":"\u6309 Feature \u7d71\u8a08","text":"Feature \u7e3d\u6578 \u5df2\u5b8c\u6210 \u9032\u884c\u4e2d \u5f85\u958b\u59cb PrematchComment 14 0 0 14 LiveChat 12 0 0 12 \u7e3d\u8a08 26 0 0 26"},{"location":"13_Implementation_Status/implementation_status/#_5","title":"\u66f4\u65b0\u8a18\u9304","text":"\u65e5\u671f \u66f4\u65b0\u5167\u5bb9 \u66f4\u65b0\u4eba 2025-01-XX \u521d\u59cb\u5316\u5be6\u4f5c\u72c0\u614b\u8ffd\u8e64\u8868 -"},{"location":"14_Changelog/","title":"\u8b8a\u66f4\u65e5\u8a8c","text":"<p>\u672c\u76ee\u9304\u7528\u65bc\u8a18\u9304\u6bcf\u65e5\u7684 code change \u548c\u65b0\u589e\u5167\u5bb9\uff0c\u78ba\u4fdd\u958b\u767c\u904e\u7a0b\u7684\u8b8a\u66f4\u90fd\u6709\u8a18\u9304\u3002</p>"},{"location":"14_Changelog/#_2","title":"\u6587\u4ef6\u8aaa\u660e","text":"<ul> <li><code>CHANGELOG.md</code>\uff1a\u4e3b\u8981\u7684\u8b8a\u66f4\u65e5\u8a8c\uff0c\u6309\u65e5\u671f\u8a18\u9304\u6240\u6709\u8b8a\u66f4</li> </ul>"},{"location":"14_Changelog/#_3","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<ol> <li>\u6bcf\u6b21 commit \u5f8c\uff1a\u8a18\u9304\u76f8\u95dc\u7684\u8b8a\u66f4</li> <li>\u6bcf\u5929\u7d50\u675f\u524d\uff1a\u4f7f\u7528 Cursor \u5354\u52a9\u751f\u6210\u7576\u5929\u7684\u8b8a\u66f4\u8a18\u9304</li> <li>\u5b9a\u671f\u56de\u9867\uff1a\u6aa2\u67e5\u8b8a\u66f4\u662f\u5426\u7b26\u5408 TDD \u898f\u5283</li> </ol>"},{"location":"14_Changelog/#_4","title":"\u8b8a\u66f4\u985e\u578b","text":"<ul> <li>\u2705 \u5b8c\u6210\uff1a\u65b0\u529f\u80fd\u6216 Ticket \u5b8c\u6210</li> <li>\ud83d\udea7 \u9032\u884c\u4e2d\uff1a\u6b63\u5728\u9032\u884c\u7684\u529f\u80fd</li> <li>\ud83d\udc1b Bug \u4fee\u5fa9\uff1a\u4fee\u5fa9\u7684\u554f\u984c</li> <li>\u267b\ufe0f \u91cd\u69cb\uff1a\u7a0b\u5f0f\u78bc\u91cd\u69cb</li> <li>\ud83d\udcdd \u6587\u4ef6\u66f4\u65b0\uff1aTDD \u6216\u6587\u4ef6\u66f4\u65b0</li> <li>\u26a0\ufe0f \u554f\u984c\u767c\u73fe\uff1a\u767c\u73fe\u7684\u554f\u984c\u6216\u98a8\u96aa</li> </ul>"},{"location":"14_Changelog/#cursor","title":"\u8207 Cursor \u5354\u4f5c","text":"<p>\u6bcf\u5929\u7d50\u675f\u6642\uff0c\u53ef\u4ee5\u9019\u6a23\u8207 Cursor \u4e92\u52d5\uff1a</p> <pre><code>\u6839\u64da\u4eca\u5929\u7684 git commits\uff0c\u5e6b\u6211\u751f\u6210\u4eca\u5929\u7684\u8b8a\u66f4\u8a18\u9304\uff1a\n1. \u5217\u51fa\u6240\u6709\u4fee\u6539\u7684\u6a94\u6848\n2. \u5c0d\u61c9\u5230\u76f8\u95dc\u7684 TDD ticket\n3. \u751f\u6210 CHANGELOG.md \u7684\u683c\u5f0f\n4. \u66f4\u65b0 implementation_status.md\n</code></pre>"},{"location":"14_Changelog/CHANGELOG/","title":"\u8b8a\u66f4\u65e5\u8a8c","text":"<p>\u672c\u6587\u4ef6\u8a18\u9304\u6240\u6709\u8207 MatchChat (LiveChat &amp; PrematchComment) feature \u76f8\u95dc\u7684\u8b8a\u66f4\u3002</p>"},{"location":"14_Changelog/CHANGELOG/#_2","title":"\u683c\u5f0f\u8aaa\u660e","text":"<p>\u6bcf\u500b\u8b8a\u66f4\u8a18\u9304\u5305\u542b\uff1a - \u65e5\u671f\uff1a\u8b8a\u66f4\u65e5\u671f - \u985e\u578b\uff1a\u8b8a\u66f4\u985e\u578b\uff08\u5b8c\u6210/\u9032\u884c\u4e2d/Bug \u4fee\u5fa9/\u91cd\u69cb/\u6587\u4ef6\u66f4\u65b0/\u554f\u984c\u767c\u73fe\uff09 - Ticket ID\uff1a\u76f8\u95dc\u7684 TDD Ticket - \u63cf\u8ff0\uff1a\u8b8a\u66f4\u7684\u8a73\u7d30\u63cf\u8ff0 - \u6a94\u6848\uff1a\u76f8\u95dc\u7684\u5be6\u4f5c\u6a94\u6848 - \u9023\u7d50\uff1aGit commit \u9023\u7d50\uff08\u5982\u679c\u6709\u7684\u8a71\uff09</p>"},{"location":"14_Changelog/CHANGELOG/#2025-01-xx","title":"2025-01-XX","text":""},{"location":"14_Changelog/CHANGELOG/#_3","title":"\ud83d\udcdd \u521d\u59cb\u5316","text":"<ul> <li>\u5efa\u7acb\u8b8a\u66f4\u65e5\u8a8c\u6587\u4ef6</li> <li>\u5efa\u7acb\u5be6\u4f5c\u72c0\u614b\u8ffd\u8e64\u6587\u4ef6</li> <li>\u5efa\u7acb\u5de5\u4f5c\u65e5\u8a8c\u6a21\u677f</li> </ul>"},{"location":"14_Changelog/CHANGELOG/#_4","title":"\u7bc4\u4f8b\u683c\u5f0f","text":""},{"location":"14_Changelog/CHANGELOG/#2025-01-xx_1","title":"2025-01-XX","text":""},{"location":"14_Changelog/CHANGELOG/#_5","title":"\u2705 \u5b8c\u6210","text":"<ul> <li>[TDD-001] \u5be6\u4f5c Comment Entity</li> <li>\u6a94\u6848: <code>MatchChat/Sources/Domain/Entities/Comment.swift</code></li> <li>\u8b8a\u66f4: \u65b0\u589e Comment entity\uff0c\u5305\u542b id, content, authorId, createdAt \u7b49\u6b04\u4f4d</li> <li>\u6e2c\u8a66: \u2705 \u901a\u904e\u6240\u6709\u55ae\u5143\u6e2c\u8a66</li> <li>\u9023\u7d50: Commit</li> </ul>"},{"location":"14_Changelog/CHANGELOG/#_6","title":"\ud83d\udea7 \u9032\u884c\u4e2d","text":"<ul> <li>[TDD-002] \u5be6\u4f5c CommentMeta Entity</li> <li>\u9032\u5ea6: 50%</li> <li>\u5f85\u5b8c\u6210: \u5be6\u4f5c Value Objects \u76f8\u95dc\u908f\u8f2f</li> <li>\u9810\u8a08\u5b8c\u6210: \u660e\u5929</li> </ul>"},{"location":"14_Changelog/CHANGELOG/#bug","title":"\ud83d\udc1b Bug \u4fee\u5fa9","text":"<ul> <li>\u4fee\u5fa9 Comment Entity \u7684 Equatable \u5be6\u4f5c\u554f\u984c</li> <li>\u554f\u984c: Equatable conformance \u6709\u8aa4</li> <li>\u89e3\u6c7a\u65b9\u6848: \u4f7f\u7528 @Equatable macro</li> <li>\u6a94\u6848: <code>MatchChat/Sources/Domain/Entities/Comment.swift</code></li> </ul>"},{"location":"14_Changelog/CHANGELOG/#_7","title":"\u267b\ufe0f \u91cd\u69cb","text":"<ul> <li>\u91cd\u69cb Domain Model \u7684\u547d\u540d\u7a7a\u9593\u7d50\u69cb</li> <li>\u8b8a\u66f4: \u7d71\u4e00\u4f7f\u7528 MatchChat namespace</li> <li>\u5f71\u97ff\u6a94\u6848: \u6240\u6709 Domain Model \u6a94\u6848</li> </ul>"},{"location":"14_Changelog/CHANGELOG/#_8","title":"\ud83d\udcdd \u6587\u4ef6\u66f4\u65b0","text":"<ul> <li>\u66f4\u65b0 TDD-001 \u7684\u5be6\u4f5c\u72c0\u614b</li> <li>\u66f4\u65b0 implementation_status.md</li> </ul>"},{"location":"14_Changelog/CHANGELOG/#_9","title":"\u26a0\ufe0f \u554f\u984c\u767c\u73fe","text":"<ul> <li>\u767c\u73fe API \u898f\u683c\u8207 TDD \u6709\u5dee\u7570</li> <li>\u554f\u984c: API \u56de\u50b3\u7684\u6b04\u4f4d\u540d\u7a31\u8207 TDD \u5b9a\u7fa9\u4e0d\u540c</li> <li>\u5f71\u97ff: \u9700\u8981\u8abf\u6574 DTO mapping</li> <li>\u8a18\u9304: \u5df2\u8a18\u9304\u5728 <code>11_Risks &amp; Questions/01_risks_questions.md</code></li> </ul>"},{"location":"14_Changelog/CHANGELOG/#_10","title":"\u7d71\u8a08","text":""},{"location":"14_Changelog/CHANGELOG/#_11","title":"\u7e3d\u8b8a\u66f4\u6578","text":"<ul> <li>\u5b8c\u6210: 0</li> <li>\u9032\u884c\u4e2d: 0</li> <li>Bug \u4fee\u5fa9: 0</li> <li>\u91cd\u69cb: 0</li> <li>\u6587\u4ef6\u66f4\u65b0: 1</li> <li>\u554f\u984c\u767c\u73fe: 0</li> </ul>"},{"location":"15_Daily_Logs/","title":"\u5de5\u4f5c\u65e5\u8a8c","text":"<p>\u672c\u76ee\u9304\u7528\u65bc\u8a18\u9304\u6bcf\u65e5\u7684\u958b\u767c\u5de5\u4f5c\uff0c\u5305\u542b\u8a08\u5283\u3001\u5b8c\u6210\u9805\u76ee\u3001\u9047\u5230\u7684\u554f\u984c\u7b49\u3002</p>"},{"location":"15_Daily_Logs/#_2","title":"\u6587\u4ef6\u8aaa\u660e","text":"<ul> <li>\u6bcf\u65e5\u4e00\u500b\u6587\u4ef6\uff0c\u547d\u540d\u683c\u5f0f\uff1a<code>YYYY-MM-DD.md</code></li> <li>\u4f8b\u5982\uff1a<code>2025-01-15.md</code></li> </ul>"},{"location":"15_Daily_Logs/#_3","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<ol> <li>\u6bcf\u5929\u958b\u59cb\u6642\uff1a\u5efa\u7acb\u7576\u5929\u7684\u5de5\u4f5c\u65e5\u8a8c\u6587\u4ef6\uff0c\u5217\u51fa\u4eca\u65e5\u8a08\u5283</li> <li>\u5be6\u4f5c\u904e\u7a0b\u4e2d\uff1a\u96a8\u6642\u8a18\u9304\u9032\u5ea6\u3001\u554f\u984c\u3001\u5b78\u7fd2\u5fc3\u5f97</li> <li>\u6bcf\u5929\u7d50\u675f\u6642\uff1a\u5b8c\u6210\u7576\u5929\u7684\u5de5\u4f5c\u65e5\u8a8c\uff0c\u4e26\u751f\u6210\u660e\u5929\u7684\u8a08\u5283</li> </ol>"},{"location":"15_Daily_Logs/#cursor","title":"\u8207 Cursor \u5354\u4f5c","text":""},{"location":"15_Daily_Logs/#_4","title":"\u6bcf\u5929\u958b\u59cb\u6642","text":"<pre><code>\u4eca\u5929\u8981\u5be6\u4f5c TDD-001 \u548c TDD-002\uff0c\u8acb\uff1a\n1. \u8b80\u53d6\u76f8\u95dc\u7684 TDD \u6587\u4ef6\n2. \u6aa2\u67e5\u73fe\u6709\u7684 codebase \u7d50\u69cb\n3. \u63d0\u4f9b\u5be6\u4f5c\u5efa\u8b70\u548c\u6ce8\u610f\u4e8b\u9805\n4. \u751f\u6210\u5de5\u4f5c\u65e5\u8a8c\u6a21\u677f\n</code></pre>"},{"location":"15_Daily_Logs/#_5","title":"\u6bcf\u5929\u7d50\u675f\u6642","text":"<pre><code>\u8acb\u5e6b\u6211\uff1a\n1. \u6839\u64da\u4eca\u5929\u7684\u5be6\u4f5c\u66f4\u65b0\u5de5\u4f5c\u65e5\u8a8c\n2. \u66f4\u65b0 implementation_status.md\n3. \u66f4\u65b0 CHANGELOG.md\n4. \u6aa2\u67e5 TDD \u8207\u5be6\u4f5c\u7684\u4e00\u81f4\u6027\n5. \u751f\u6210\u660e\u5929\u7684\u8a08\u5283\u5efa\u8b70\n</code></pre>"},{"location":"15_Daily_Logs/#_6","title":"\u5de5\u4f5c\u65e5\u8a8c\u6a21\u677f","text":"<p>\u6bcf\u500b\u5de5\u4f5c\u65e5\u8a8c\u6587\u4ef6\u61c9\u5305\u542b\u4ee5\u4e0b\u90e8\u5206\uff1a</p> <ol> <li>\ud83d\udccb \u4eca\u65e5\u8a08\u5283\uff1a\u5217\u51fa\u4eca\u5929\u8981\u5b8c\u6210\u7684\u5de5\u4f5c</li> <li>\u2705 \u5b8c\u6210\u9805\u76ee\uff1a\u8a18\u9304\u5b8c\u6210\u7684\u5de5\u4f5c</li> <li>\ud83d\udea7 \u9032\u884c\u4e2d\u9805\u76ee\uff1a\u8a18\u9304\u9032\u884c\u4e2d\u7684\u5de5\u4f5c</li> <li>\ud83d\udc1b \u9047\u5230\u7684\u554f\u984c\uff1a\u8a18\u9304\u9047\u5230\u7684\u554f\u984c\u548c\u89e3\u6c7a\u65b9\u6848</li> <li>\ud83d\udca1 \u5b78\u7fd2\u8207\u53cd\u601d\uff1a\u8a18\u9304\u5b78\u7fd2\u5fc3\u5f97\u548c\u53cd\u601d</li> <li>\ud83d\udcca \u6642\u9593\u7d71\u8a08\uff1a\u8a18\u9304\u6642\u9593\u5206\u914d</li> <li>\ud83d\udd04 \u660e\u65e5\u8a08\u5283\uff1a\u5217\u51fa\u660e\u5929\u7684\u5de5\u4f5c\u8a08\u5283</li> </ol>"},{"location":"15_Daily_Logs/TEMPLATE/","title":"\u5de5\u4f5c\u65e5\u8a8c - YYYY-MM-DD","text":""},{"location":"15_Daily_Logs/TEMPLATE/#_1","title":"\ud83d\udccb \u4eca\u65e5\u8a08\u5283","text":"<ul> <li>[ ] Ticket ID: \u6a19\u984c</li> <li>[ ] Ticket ID: \u6a19\u984c</li> </ul>"},{"location":"15_Daily_Logs/TEMPLATE/#_2","title":"\u2705 \u5b8c\u6210\u9805\u76ee","text":"<ul> <li>[x] Ticket ID: \u6a19\u984c</li> <li>\u6642\u9593: X \u5c0f\u6642</li> <li>\u6a94\u6848: <code>\u8def\u5f91/\u6a94\u6848\u540d.swift</code></li> <li>\u6e2c\u8a66: \u2705 \u901a\u904e / \u274c \u5931\u6557</li> <li>\u5099\u8a3b: \u4efb\u4f55\u984d\u5916\u7684\u8aaa\u660e</li> </ul>"},{"location":"15_Daily_Logs/TEMPLATE/#_3","title":"\ud83d\udea7 \u9032\u884c\u4e2d\u9805\u76ee","text":"<ul> <li>Ticket ID: \u6a19\u984c</li> <li>\u9032\u5ea6: X%</li> <li>\u9810\u8a08\u5b8c\u6210: \u65e5\u671f\u6216\u6642\u9593</li> <li>\u7576\u524d\u72c0\u614b: \u63cf\u8ff0\u7576\u524d\u72c0\u614b</li> </ul>"},{"location":"15_Daily_Logs/TEMPLATE/#_4","title":"\ud83d\udc1b \u9047\u5230\u7684\u554f\u984c","text":"<ol> <li>\u554f\u984c\u63cf\u8ff0</li> <li>\u539f\u56e0: \u554f\u984c\u7684\u6839\u672c\u539f\u56e0</li> <li>\u89e3\u6c7a\u65b9\u6848: \u5982\u4f55\u89e3\u6c7a\u7684</li> <li>\u6642\u9593: \u82b1\u8cbb\u7684\u6642\u9593</li> <li>\u6a94\u6848: \u76f8\u95dc\u7684\u6a94\u6848</li> </ol>"},{"location":"15_Daily_Logs/TEMPLATE/#cursor","title":"\ud83e\udd16 \u8207 Cursor \u7684\u5c0d\u8a71\u7d71\u6574","text":""},{"location":"15_Daily_Logs/TEMPLATE/#_5","title":"\u91cd\u8981\u5c0d\u8a71\u6458\u8981","text":"<p>\uff08\u6574\u7406\u4eca\u5929\u8207 Cursor \u7684\u91cd\u8981\u5c0d\u8a71\uff0c\u5305\u62ec\uff1a\uff09 - \u5be6\u4f5c\u6c7a\u7b56: \u8207 Cursor \u8a0e\u8ad6\u5f8c\u505a\u51fa\u7684\u91cd\u8981\u6c7a\u7b56 - \u554f\u984c\u89e3\u6c7a: Cursor \u5354\u52a9\u89e3\u6c7a\u7684\u554f\u984c - \u5b78\u7fd2\u77e5\u8b58: \u5f9e\u5c0d\u8a71\u4e2d\u5b78\u5230\u7684\u65b0\u77e5\u8b58 - \u6539\u9032\u5efa\u8b70: Cursor \u63d0\u4f9b\u7684\u6539\u9032\u5efa\u8b70</p>"},{"location":"15_Daily_Logs/TEMPLATE/#_6","title":"\u5c0d\u8a71\u8a18\u9304","text":"<p>\uff08\u53ef\u4ee5\u8cbc\u4e0a\u91cd\u8981\u7684\u5c0d\u8a71\u5167\u5bb9\u6216\u622a\u5716\uff09</p>"},{"location":"15_Daily_Logs/TEMPLATE/#1","title":"\u5c0d\u8a71 1: [\u4e3b\u984c]","text":"<ul> <li>\u6642\u9593: </li> <li>\u5167\u5bb9: </li> <li>\u7d50\u679c: </li> </ul>"},{"location":"15_Daily_Logs/TEMPLATE/#2","title":"\u5c0d\u8a71 2: [\u4e3b\u984c]","text":"<ul> <li>\u6642\u9593: </li> <li>\u5167\u5bb9: </li> <li>\u7d50\u679c: </li> </ul>"},{"location":"15_Daily_Logs/TEMPLATE/#_7","title":"\ud83d\udca1 \u5b78\u7fd2\u8207\u53cd\u601d","text":"<ul> <li>\u767c\u73fe\u6216\u5b78\u7fd2\u5230\u7684\u65b0\u77e5\u8b58</li> <li>\u53ef\u4ee5\u6539\u9032\u7684\u5730\u65b9</li> <li>\u4e0b\u6b21\u53ef\u4ee5\u505a\u5f97\u66f4\u597d\u7684\u5730\u65b9</li> <li>\u8207 Cursor \u5354\u4f5c\u7684\u6539\u9032\u7a7a\u9593</li> </ul>"},{"location":"15_Daily_Logs/TEMPLATE/#_8","title":"\ud83d\udcca \u6642\u9593\u7d71\u8a08","text":"<ul> <li>\u958b\u767c\u6642\u9593: X \u5c0f\u6642</li> <li>\u6e2c\u8a66\u6642\u9593: X \u5c0f\u6642</li> <li>\u6587\u4ef6\u66f4\u65b0: X \u5c0f\u6642</li> <li>\u554f\u984c\u89e3\u6c7a: X \u5c0f\u6642</li> <li>\u8207 Cursor \u5354\u4f5c\u6642\u9593: X \u5c0f\u6642</li> <li>\u6703\u8b70/\u8a0e\u8ad6: X \u5c0f\u6642</li> <li>\u7e3d\u8a08: X \u5c0f\u6642</li> </ul>"},{"location":"15_Daily_Logs/TEMPLATE/#_9","title":"\ud83d\udd04 \u660e\u65e5\u8a08\u5283","text":"<ul> <li>[ ] Ticket ID: \u6a19\u984c</li> <li>[ ] Ticket ID: \u6a19\u984c</li> </ul>"},{"location":"15_Daily_Logs/TEMPLATE/#_10","title":"\ud83d\udcdd \u5176\u4ed6\u5099\u8a3b","text":"<p>\u4efb\u4f55\u5176\u4ed6\u9700\u8981\u8a18\u9304\u7684\u5167\u5bb9</p>"},{"location":"16_Cursor_Workflow/","title":"Cursor \u5de5\u4f5c\u6d41\u7a0b","text":"<p>\u672c\u76ee\u9304\u5305\u542b\u8207 Cursor AI \u5354\u4f5c\u7684\u5b8c\u6574\u5de5\u4f5c\u6d41\u7a0b\uff0c\u5e6b\u52a9\u4f60\u66f4\u6709\u6548\u7387\u5730\u9032\u884c\u958b\u767c\u3002</p>"},{"location":"16_Cursor_Workflow/#_1","title":"\u5de5\u4f5c\u6d41\u7a0b\u6982\u8ff0","text":""},{"location":"16_Cursor_Workflow/#1","title":"1. \u6bcf\u5929\u958b\u59cb\u6642","text":"<ul> <li>\u6839\u64da\u4eca\u5929\u7684\u65e5\u671f\uff0c\u81ea\u52d5\u627e\u51fa\u5c0d\u61c9\u7684 Jira parent tickets \u548c child tickets</li> <li>\u751f\u6210\u7576\u5929\u7684\u5de5\u4f5c\u8a08\u5283</li> <li>\u5efa\u7acb\u5de5\u4f5c\u65e5\u8a8c</li> </ul>"},{"location":"16_Cursor_Workflow/#2","title":"2. \u5be6\u4f5c\u904e\u7a0b\u4e2d","text":"<ul> <li>\u8207 Cursor \u5354\u4f5c\u5be6\u4f5c\u529f\u80fd</li> <li>\u8a18\u9304\u91cd\u8981\u7684\u5c0d\u8a71\u548c\u6c7a\u7b56</li> </ul>"},{"location":"16_Cursor_Workflow/#3","title":"3. \u6bcf\u5929\u7d50\u675f\u6642","text":"<ul> <li>\u7d71\u6574\u8207 Cursor \u7684\u5c0d\u8a71</li> <li>\u66f4\u65b0\u5be6\u4f5c\u72c0\u614b</li> <li>\u66f4\u65b0\u8b8a\u66f4\u65e5\u8a8c</li> <li>\u751f\u6210\u660e\u5929\u7684\u5de5\u4f5c\u8a08\u5283</li> </ul>"},{"location":"16_Cursor_Workflow/#_2","title":"\u4f7f\u7528\u65b9\u5f0f","text":""},{"location":"16_Cursor_Workflow/#_3","title":"\u751f\u6210\u7576\u5929\u5de5\u4f5c\u8a08\u5283","text":"<pre><code># \u751f\u6210\u4eca\u5929\u7684\u5de5\u4f5c\u8a08\u5283\n./scripts/generate_daily_plan.sh\n\n# \u751f\u6210\u6307\u5b9a\u65e5\u671f\u7684\u5de5\u4f5c\u8a08\u5283\n./scripts/generate_daily_plan.sh 2025-12-01\n</code></pre>"},{"location":"16_Cursor_Workflow/#_4","title":"\u7d71\u6574\u7576\u5929\u5de5\u4f5c","text":"<pre><code># \u7d71\u6574\u4eca\u5929\u7684\u5de5\u4f5c\uff08\u5305\u542b\u8207 Cursor \u7684\u5c0d\u8a71\uff09\n./scripts/summarize_daily_work.sh\n</code></pre>"},{"location":"16_Cursor_Workflow/#_5","title":"\u6587\u4ef6\u7d50\u69cb","text":"<ul> <li><code>README.md</code> - \u672c\u6587\u4ef6</li> <li><code>daily_plan_template.md</code> - \u6bcf\u65e5\u5de5\u4f5c\u8a08\u5283\u6a21\u677f</li> <li><code>cursor_conversation_template.md</code> - Cursor \u5c0d\u8a71\u8a18\u9304\u6a21\u677f</li> </ul>"},{"location":"16_Cursor_Workflow/QUICK_START/","title":"Cursor \u5de5\u4f5c\u6d41\u7a0b\u5feb\u901f\u958b\u59cb","text":""},{"location":"16_Cursor_Workflow/QUICK_START/#_1","title":"\ud83d\ude80 \u5feb\u901f\u958b\u59cb","text":""},{"location":"16_Cursor_Workflow/QUICK_START/#3","title":"\u6bcf\u5929\u958b\u59cb\u6642\uff083 \u500b\u6b65\u9a5f\uff09","text":"<ol> <li> <p>\u751f\u6210\u5de5\u4f5c\u8a08\u5283 <pre><code>./scripts/generate_daily_plan.sh\n</code></pre></p> </li> <li> <p>\u5efa\u7acb\u5de5\u4f5c\u65e5\u8a8c <pre><code>./scripts/create_daily_log.sh\n</code></pre></p> </li> <li> <p>\u8207 Cursor \u958b\u59cb\u5354\u4f5c <pre><code>\u6839\u64da\u4eca\u5929\u7684\u5de5\u4f5c\u8a08\u5283\uff0816_Cursor_Workflow/daily_plans/YYYY-MM-DD.md\uff09\uff0c\n\u8acb\u5354\u52a9\u6211\uff1a\n1. \u8b80\u53d6\u76f8\u95dc\u7684 TDD \u6587\u4ef6\n2. \u6aa2\u67e5\u73fe\u6709\u7684 codebase \u7d50\u69cb\n3. \u63d0\u4f9b\u5be6\u4f5c\u5efa\u8b70\u548c\u6ce8\u610f\u4e8b\u9805\n4. \u6aa2\u67e5\u4f9d\u8cf4\u95dc\u4fc2\u662f\u5426\u6eff\u8db3\n</code></pre></p> </li> </ol>"},{"location":"16_Cursor_Workflow/QUICK_START/#2","title":"\u6bcf\u5929\u7d50\u675f\u6642\uff082 \u500b\u6b65\u9a5f\uff09","text":"<ol> <li> <p>\u7d71\u6574\u7576\u5929\u5de5\u4f5c <pre><code>./scripts/summarize_daily_work.sh\n</code></pre></p> </li> <li> <p>\u8207 Cursor \u7d71\u6574\u5c0d\u8a71 <pre><code>\u8acb\u5e6b\u6211\u7d71\u6574\u4eca\u5929\u7684\u5de5\u4f5c\uff1a\n1. \u6839\u64da\u4eca\u5929\u7684 git commits \u751f\u6210\u8b8a\u66f4\u8a18\u9304\n2. \u66f4\u65b0 implementation_status.md\n3. \u66f4\u65b0 CHANGELOG.md\n4. \u6aa2\u67e5\u5be6\u4f5c\u8207 TDD \u7684\u4e00\u81f4\u6027\n5. \u7d71\u6574\u4eca\u5929\u8207\u4f60\u7684\u5c0d\u8a71\uff0c\u63d0\u53d6\u91cd\u8981\u6c7a\u7b56\u548c\u5b78\u7fd2\u8981\u9ede\n6. \u751f\u6210\u660e\u5929\u7684\u8a08\u5283\u5efa\u8b70\n</code></pre></p> </li> </ol>"},{"location":"16_Cursor_Workflow/QUICK_START/#_2","title":"\ud83d\udcc1 \u751f\u6210\u7684\u6587\u4ef6","text":""},{"location":"16_Cursor_Workflow/QUICK_START/#_3","title":"\u6bcf\u5929\u958b\u59cb\u6642\u751f\u6210","text":"<ul> <li><code>16_Cursor_Workflow/daily_plans/YYYY-MM-DD.md</code> - \u7576\u5929\u5de5\u4f5c\u8a08\u5283</li> <li><code>15_Daily_Logs/YYYY-MM-DD.md</code> - \u7576\u5929\u5de5\u4f5c\u65e5\u8a8c</li> </ul>"},{"location":"16_Cursor_Workflow/QUICK_START/#_4","title":"\u6bcf\u5929\u7d50\u675f\u6642\u751f\u6210","text":"<ul> <li><code>16_Cursor_Workflow/daily_summaries/YYYY-MM-DD.md</code> - \u7576\u5929\u5de5\u4f5c\u7d71\u6574</li> </ul>"},{"location":"16_Cursor_Workflow/QUICK_START/#_5","title":"\ud83d\udcdd \u9700\u8981\u624b\u52d5\u586b\u5beb\u7684\u5167\u5bb9","text":""},{"location":"16_Cursor_Workflow/QUICK_START/#_6","title":"\u5de5\u4f5c\u65e5\u8a8c\u4e2d","text":"<ul> <li>\u2705 \u5b8c\u6210\u9805\u76ee</li> <li>\ud83d\udea7 \u9032\u884c\u4e2d\u9805\u76ee</li> <li>\ud83d\udc1b \u9047\u5230\u7684\u554f\u984c</li> <li>\ud83e\udd16 \u8207 Cursor \u7684\u5c0d\u8a71\u7d71\u6574\uff08\u91cd\u8981\uff01\uff09</li> <li>\ud83d\udca1 \u5b78\u7fd2\u8207\u53cd\u601d</li> <li>\ud83d\udcca \u6642\u9593\u7d71\u8a08</li> </ul>"},{"location":"16_Cursor_Workflow/QUICK_START/#_7","title":"\u5de5\u4f5c\u7d71\u6574\u4e2d","text":"<ul> <li>\u2705 \u5b8c\u6210\u9805\u76ee\uff08\u5f9e\u5de5\u4f5c\u65e5\u8a8c\u4e2d\u63d0\u53d6\uff09</li> <li>\ud83e\udd16 \u8207 Cursor \u7684\u5c0d\u8a71\u7d71\u6574\uff08\u91cd\u8981\uff01\uff09</li> <li>\ud83d\udcca \u5de5\u4f5c\u7d71\u8a08</li> <li>\ud83d\udca1 \u53cd\u601d\u8207\u5b78\u7fd2</li> </ul>"},{"location":"16_Cursor_Workflow/QUICK_START/#_8","title":"\ud83d\udca1 \u63d0\u793a","text":"<ul> <li>\u5de5\u4f5c\u8a08\u5283\u6703\u81ea\u52d5\u6839\u64da\u65e5\u671f\u627e\u51fa\u5c0d\u61c9\u7684 Jira tickets</li> <li>\u5de5\u4f5c\u65e5\u8a8c\u6a21\u677f\u5df2\u5305\u542b\u300c\u8207 Cursor \u7684\u5c0d\u8a71\u7d71\u6574\u300d\u90e8\u5206</li> <li>\u8a18\u5f97\u6bcf\u5929\u7d50\u675f\u6642\u7d71\u6574\u8207 Cursor \u7684\u5c0d\u8a71\uff0c\u9019\u5c0d\u5f8c\u7e8c\u958b\u767c\u5f88\u6709\u5e6b\u52a9</li> </ul>"},{"location":"16_Cursor_Workflow/QUICK_START/#_9","title":"\ud83d\udcda \u8a73\u7d30\u6587\u4ef6","text":"<ul> <li>\u5b8c\u6574\u5de5\u4f5c\u6d41\u7a0b\u6307\u5357</li> <li>Cursor \u5c0d\u8a71\u8a18\u9304\u6a21\u677f</li> </ul>"},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/","title":"Cursor \u5de5\u4f5c\u6d41\u7a0b\u5b8c\u6574\u6307\u5357","text":"<p>\u672c\u6307\u5357\u8aaa\u660e\u5982\u4f55\u8207 Cursor AI \u5354\u4f5c\uff0c\u9032\u884c MatchChat feature \u7684\u958b\u767c\u3002</p>"},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#_1","title":"\ud83d\udcc5 \u6bcf\u5929\u958b\u59cb\u6642\u7684\u5de5\u4f5c\u6d41\u7a0b","text":""},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#1","title":"1. \u751f\u6210\u7576\u5929\u5de5\u4f5c\u8a08\u5283","text":"<pre><code># \u751f\u6210\u4eca\u5929\u7684\u5de5\u4f5c\u8a08\u5283\n./scripts/generate_daily_plan.sh\n\n# \u6216\u6307\u5b9a\u65e5\u671f\n./scripts/generate_daily_plan.sh 2025-12-01\n</code></pre> <p>\u9019\u500b\u8173\u672c\u6703\uff1a - \u6839\u64da\u4eca\u5929\u7684\u65e5\u671f\uff0c\u5f9e <code>ticket_timeline.md</code> \u627e\u51fa\u5c0d\u61c9\u7684 tickets - \u5f9e\u8cc7\u6599\u5eab\u53d6\u5f97 Jira \u8cc7\u8a0a\uff08\u9023\u7d50\u3001\u4f30\u6642\u3001\u72c0\u614b\uff09 - \u8b58\u5225 parent tickets \u548c child tickets - \u751f\u6210\u5305\u542b\u4ee5\u4e0b\u5167\u5bb9\u7684\u5de5\u4f5c\u8a08\u5283\uff1a   - \u4eca\u65e5\u76ee\u6a19\uff08Parent Tickets \u548c Child Tickets\uff09   - \u8207 Cursor \u7684\u5354\u4f5c\u8a08\u5283   - \u5de5\u4f5c\u8a18\u9304\u6a21\u677f</p>"},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#2","title":"2. \u5efa\u7acb\u5de5\u4f5c\u65e5\u8a8c","text":"<pre><code># \u5efa\u7acb\u4eca\u5929\u7684\u5de5\u4f5c\u65e5\u8a8c\n./scripts/create_daily_log.sh\n</code></pre>"},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#3-cursor","title":"3. \u8207 Cursor \u958b\u59cb\u5354\u4f5c","text":"<p>\u6253\u958b\u751f\u6210\u7684\u5de5\u4f5c\u8a08\u5283\u6587\u4ef6\uff0c\u7136\u5f8c\u5c0d Cursor \u8aaa\uff1a</p> <pre><code>\u6839\u64da\u4eca\u5929\u7684\u5de5\u4f5c\u8a08\u5283\uff0816_Cursor_Workflow/daily_plans/YYYY-MM-DD.md\uff09\uff0c\n\u8acb\u5354\u52a9\u6211\uff1a\n1. \u8b80\u53d6\u76f8\u95dc\u7684 TDD \u6587\u4ef6\n2. \u6aa2\u67e5\u73fe\u6709\u7684 codebase \u7d50\u69cb\n3. \u63d0\u4f9b\u5be6\u4f5c\u5efa\u8b70\u548c\u6ce8\u610f\u4e8b\u9805\n4. \u6aa2\u67e5\u4f9d\u8cf4\u95dc\u4fc2\u662f\u5426\u6eff\u8db3\n</code></pre>"},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#_2","title":"\ud83d\udd28 \u5be6\u4f5c\u904e\u7a0b\u4e2d\u7684\u5de5\u4f5c\u6d41\u7a0b","text":""},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#cursor_1","title":"\u8207 Cursor \u5354\u4f5c\u5be6\u4f5c","text":"<ol> <li> <p>\u958b\u59cb\u5be6\u4f5c\u524d\uff1a    <pre><code>\u6211\u8981\u958b\u59cb\u5be6\u4f5c TDD-001\uff0c\u8acb\uff1a\n1. \u8b80\u53d6 TDD-001 \u7684\u6587\u4ef6\n2. \u6aa2\u67e5\u73fe\u6709\u7684 codebase \u7d50\u69cb\n3. \u63d0\u4f9b\u5be6\u4f5c\u5efa\u8b70\n</code></pre></p> </li> <li> <p>\u5be6\u4f5c\u904e\u7a0b\u4e2d\uff1a</p> </li> <li>\u96a8\u6642\u8207 Cursor \u8a0e\u8ad6\u5be6\u4f5c\u7d30\u7bc0</li> <li>\u9047\u5230\u554f\u984c\u6642\u7acb\u5373\u8a62\u554f Cursor</li> <li> <p>\u8a18\u9304\u91cd\u8981\u7684\u5c0d\u8a71\u548c\u6c7a\u7b56</p> </li> <li> <p>\u5be6\u4f5c\u5b8c\u6210\u5f8c\uff1a    <pre><code>\u6211\u5df2\u7d93\u5b8c\u6210 TDD-001 \u7684\u5be6\u4f5c\uff0c\u8acb\uff1a\n1. \u6aa2\u67e5\u5be6\u4f5c\u662f\u5426\u7b26\u5408 TDD \u898f\u7bc4\n2. \u6aa2\u67e5\u662f\u5426\u6709\u907a\u6f0f\u7684\u529f\u80fd\n3. \u63d0\u4f9b\u6539\u9032\u5efa\u8b70\n</code></pre></p> </li> </ol>"},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#_3","title":"\u8a18\u9304\u91cd\u8981\u5c0d\u8a71","text":"<p>\u4f7f\u7528 <code>cursor_conversation_template.md</code> \u8a18\u9304\u91cd\u8981\u7684\u5c0d\u8a71\uff0c\u5305\u62ec\uff1a - \u5be6\u4f5c\u6c7a\u7b56 - \u554f\u984c\u89e3\u6c7a\u904e\u7a0b - \u5b78\u7fd2\u5230\u7684\u77e5\u8b58 - \u6539\u9032\u5efa\u8b70</p>"},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#_4","title":"\ud83d\udcdd \u6bcf\u5929\u7d50\u675f\u6642\u7684\u5de5\u4f5c\u6d41\u7a0b","text":""},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#1_1","title":"1. \u7d71\u6574\u7576\u5929\u5de5\u4f5c","text":"<pre><code># \u7d71\u6574\u4eca\u5929\u7684\u5de5\u4f5c\n./scripts/summarize_daily_work.sh\n</code></pre> <p>\u9019\u500b\u8173\u672c\u6703\uff1a - \u8b80\u53d6\u7576\u5929\u7684\u5de5\u4f5c\u8a08\u5283 - \u8b80\u53d6\u7576\u5929\u7684\u5de5\u4f5c\u65e5\u8a8c - \u751f\u6210\u5de5\u4f5c\u7d71\u6574\u6587\u4ef6\uff0c\u5305\u542b\uff1a   - \u4eca\u65e5\u8a08\u5283\u56de\u9867   - \u5b8c\u6210\u9805\u76ee   - \u8207 Cursor \u7684\u5c0d\u8a71\u7d71\u6574   - \u5de5\u4f5c\u7d71\u8a08   - \u53cd\u601d\u8207\u5b78\u7fd2   - \u660e\u65e5\u8a08\u5283\u5efa\u8b70</p>"},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#2_1","title":"2. \u66f4\u65b0\u5de5\u4f5c\u65e5\u8a8c","text":"<p>\u5728\u624b\u52d5\u586b\u5beb\u5de5\u4f5c\u65e5\u8a8c\u6642\uff0c\u8a18\u5f97\uff1a - \u8a18\u9304\u8207 Cursor \u7684\u91cd\u8981\u5c0d\u8a71 - \u8a18\u9304\u5be6\u4f5c\u6c7a\u7b56 - \u8a18\u9304\u5b78\u7fd2\u8981\u9ede</p>"},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#3-cursor_1","title":"3. \u8207 Cursor \u7d71\u6574\u5c0d\u8a71","text":"<p>\u6253\u958b\u751f\u6210\u7684\u5de5\u4f5c\u7d71\u6574\u6587\u4ef6\uff0c\u7136\u5f8c\u5c0d Cursor \u8aaa\uff1a</p> <pre><code>\u8acb\u5e6b\u6211\u7d71\u6574\u4eca\u5929\u7684\u5de5\u4f5c\uff1a\n1. \u6839\u64da\u4eca\u5929\u7684 git commits \u751f\u6210\u8b8a\u66f4\u8a18\u9304\n2. \u66f4\u65b0 implementation_status.md\n3. \u66f4\u65b0 CHANGELOG.md\n4. \u6aa2\u67e5\u5be6\u4f5c\u8207 TDD \u7684\u4e00\u81f4\u6027\n5. \u7d71\u6574\u4eca\u5929\u8207\u4f60\u7684\u5c0d\u8a71\uff0c\u63d0\u53d6\u91cd\u8981\u6c7a\u7b56\u548c\u5b78\u7fd2\u8981\u9ede\n6. \u751f\u6210\u660e\u5929\u7684\u8a08\u5283\u5efa\u8b70\n</code></pre>"},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#4","title":"4. \u66f4\u65b0\u76f8\u95dc\u6587\u4ef6","text":"<ul> <li>\u66f4\u65b0 <code>13_Implementation_Status/implementation_status.md</code></li> <li>\u66f4\u65b0 <code>14_Changelog/CHANGELOG.md</code></li> <li>\u66f4\u65b0\u5de5\u4f5c\u65e5\u8a8c\u4e2d\u7684\u300c\u8207 Cursor \u7684\u5c0d\u8a71\u7d71\u6574\u300d\u90e8\u5206</li> </ul>"},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#_5","title":"\ud83d\udcc2 \u6587\u4ef6\u7d50\u69cb","text":"<pre><code>TDDs/LiveChat&amp;PrematchComment/\n\u251c\u2500\u2500 13_Implementation_Status/      # \u5be6\u4f5c\u72c0\u614b\u8ffd\u8e64\n\u251c\u2500\u2500 14_Changelog/                  # \u8b8a\u66f4\u65e5\u8a8c\n\u251c\u2500\u2500 15_Daily_Logs/                 # \u5de5\u4f5c\u65e5\u8a8c\n\u2502   \u251c\u2500\u2500 TEMPLATE.md                # \u5de5\u4f5c\u65e5\u8a8c\u6a21\u677f\uff08\u5df2\u66f4\u65b0\uff0c\u5305\u542b Cursor \u5c0d\u8a71\u7d71\u6574\uff09\n\u2502   \u2514\u2500\u2500 YYYY-MM-DD.md              # \u6bcf\u65e5\u5de5\u4f5c\u65e5\u8a8c\n\u251c\u2500\u2500 16_Cursor_Workflow/            # Cursor \u5de5\u4f5c\u6d41\u7a0b\n\u2502   \u251c\u2500\u2500 README.md                   # \u5de5\u4f5c\u6d41\u7a0b\u8aaa\u660e\n\u2502   \u251c\u2500\u2500 WORKFLOW_GUIDE.md           # \u672c\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 cursor_conversation_template.md  # Cursor \u5c0d\u8a71\u8a18\u9304\u6a21\u677f\n\u2502   \u251c\u2500\u2500 daily_plans/                # \u6bcf\u65e5\u5de5\u4f5c\u8a08\u5283\n\u2502   \u2502   \u2514\u2500\u2500 YYYY-MM-DD.md\n\u2502   \u2514\u2500\u2500 daily_summaries/            # \u6bcf\u65e5\u5de5\u4f5c\u7d71\u6574\n\u2502       \u2514\u2500\u2500 YYYY-MM-DD.md\n\u2514\u2500\u2500 scripts/\n    \u251c\u2500\u2500 create_daily_log.sh         # \u5efa\u7acb\u5de5\u4f5c\u65e5\u8a8c\n    \u251c\u2500\u2500 generate_daily_plan.sh      # \u751f\u6210\u5de5\u4f5c\u8a08\u5283\n    \u2514\u2500\u2500 summarize_daily_work.sh     # \u7d71\u6574\u7576\u5929\u5de5\u4f5c\n</code></pre>"},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#_6","title":"\ud83c\udfaf \u6700\u4f73\u5be6\u8e10","text":""},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#1_2","title":"1. \u6bcf\u5929\u958b\u59cb\u6642","text":"<ul> <li>\u2705 \u57f7\u884c <code>generate_daily_plan.sh</code> \u751f\u6210\u5de5\u4f5c\u8a08\u5283</li> <li>\u2705 \u57f7\u884c <code>create_daily_log.sh</code> \u5efa\u7acb\u5de5\u4f5c\u65e5\u8a8c</li> <li>\u2705 \u8207 Cursor \u8a0e\u8ad6\u7576\u5929\u7684\u5de5\u4f5c\u8a08\u5283</li> </ul>"},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#2_2","title":"2. \u5be6\u4f5c\u904e\u7a0b\u4e2d","text":"<ul> <li>\u2705 \u96a8\u6642\u8207 Cursor \u8a0e\u8ad6\u5be6\u4f5c\u7d30\u7bc0</li> <li>\u2705 \u8a18\u9304\u91cd\u8981\u7684\u5c0d\u8a71\u548c\u6c7a\u7b56</li> <li>\u2705 \u9047\u5230\u554f\u984c\u7acb\u5373\u8a62\u554f Cursor</li> </ul>"},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#3","title":"3. \u6bcf\u5929\u7d50\u675f\u6642","text":"<ul> <li>\u2705 \u57f7\u884c <code>summarize_daily_work.sh</code> \u7d71\u6574\u5de5\u4f5c</li> <li>\u2705 \u8207 Cursor \u7d71\u6574\u5c0d\u8a71</li> <li>\u2705 \u66f4\u65b0\u76f8\u95dc\u6587\u4ef6\uff08implementation_status.md, CHANGELOG.md\uff09</li> <li>\u2705 \u586b\u5beb\u5de5\u4f5c\u65e5\u8a8c\u4e2d\u7684\u300c\u8207 Cursor \u7684\u5c0d\u8a71\u7d71\u6574\u300d\u90e8\u5206</li> </ul>"},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#cursor_2","title":"\ud83d\udca1 \u8207 Cursor \u5354\u4f5c\u7684\u63d0\u793a","text":""},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#_7","title":"\u6709\u6548\u7684\u63d0\u793a\u8a5e\u7bc4\u4f8b","text":"<ol> <li> <p>\u958b\u59cb\u5be6\u4f5c\u524d\uff1a    <pre><code>\u6839\u64da TDD-001 \u7684\u6587\u4ef6\uff0c\u8acb\uff1a\n1. \u8b80\u53d6\u76f8\u95dc\u7684 TDD \u6587\u4ef6\n2. \u6aa2\u67e5\u73fe\u6709\u7684 codebase \u7d50\u69cb\n3. \u63d0\u4f9b\u5be6\u4f5c\u5efa\u8b70\u548c\u6ce8\u610f\u4e8b\u9805\n</code></pre></p> </li> <li> <p>\u5be6\u4f5c\u904e\u7a0b\u4e2d\uff1a    <pre><code>\u6211\u6b63\u5728\u5be6\u4f5c Comment Entity\uff0c\u8acb\uff1a\n1. \u6aa2\u67e5\u6211\u7684\u5be6\u4f5c\u662f\u5426\u7b26\u5408 TDD \u898f\u7bc4\n2. \u6aa2\u67e5\u662f\u5426\u6709\u907a\u6f0f\u7684\u529f\u80fd\n3. \u63d0\u4f9b\u6539\u9032\u5efa\u8b70\n</code></pre></p> </li> <li> <p>\u9047\u5230\u554f\u984c\u6642\uff1a    <pre><code>\u6211\u9047\u5230\u4e86\u4e00\u500b\u554f\u984c\uff1a[\u63cf\u8ff0\u554f\u984c]\n\u8acb\u5354\u52a9\u6211\uff1a\n1. \u5206\u6790\u554f\u984c\u7684\u6839\u672c\u539f\u56e0\n2. \u63d0\u4f9b\u89e3\u6c7a\u65b9\u6848\n3. \u6aa2\u67e5\u662f\u5426\u6709\u5176\u4ed6\u76f8\u95dc\u554f\u984c\n</code></pre></p> </li> <li> <p>\u6bcf\u5929\u7d50\u675f\u6642\uff1a    <pre><code>\u8acb\u5e6b\u6211\u7d71\u6574\u4eca\u5929\u7684\u5de5\u4f5c\uff1a\n1. \u6839\u64da\u4eca\u5929\u7684 git commits \u751f\u6210\u8b8a\u66f4\u8a18\u9304\n2. \u66f4\u65b0 implementation_status.md\n3. \u7d71\u6574\u4eca\u5929\u8207\u4f60\u7684\u5c0d\u8a71\uff0c\u63d0\u53d6\u91cd\u8981\u6c7a\u7b56\u548c\u5b78\u7fd2\u8981\u9ede\n</code></pre></p> </li> </ol>"},{"location":"16_Cursor_Workflow/WORKFLOW_GUIDE/#_8","title":"\ud83d\udd04 \u81ea\u52d5\u5316\u5efa\u8b70","text":"<p>\u53ef\u4ee5\u5efa\u7acb\u4e00\u500b alias \u4f86\u5feb\u901f\u57f7\u884c\u9019\u4e9b\u8173\u672c\uff1a</p> <pre><code># \u5728 ~/.zshrc \u6216 ~/.bashrc \u4e2d\u52a0\u5165\nalias daily-start=\"cd /path/to/TDDs/LiveChat\\&amp;PrematchComment &amp;&amp; ./scripts/generate_daily_plan.sh &amp;&amp; ./scripts/create_daily_log.sh\"\nalias daily-end=\"cd /path/to/TDDs/LiveChat\\&amp;PrematchComment &amp;&amp; ./scripts/summarize_daily_work.sh\"\n</code></pre> <p>\u7136\u5f8c\u6bcf\u5929\u958b\u59cb\u6642\u57f7\u884c <code>daily-start</code>\uff0c\u7d50\u675f\u6642\u57f7\u884c <code>daily-end</code>\u3002</p>"},{"location":"16_Cursor_Workflow/cursor_conversation_template/","title":"Cursor \u5c0d\u8a71\u8a18\u9304\u6a21\u677f","text":"<p>\u4f7f\u7528\u6b64\u6a21\u677f\u8a18\u9304\u8207 Cursor \u7684\u91cd\u8981\u5c0d\u8a71\u3002</p>"},{"location":"16_Cursor_Workflow/cursor_conversation_template/#_1","title":"\u5c0d\u8a71\u8cc7\u8a0a","text":"<ul> <li>\u65e5\u671f: YYYY-MM-DD</li> <li>\u6642\u9593: HH:MM</li> <li>\u4e3b\u984c: [\u5c0d\u8a71\u4e3b\u984c]</li> <li>\u76f8\u95dc Ticket: TDD-XXX</li> </ul>"},{"location":"16_Cursor_Workflow/cursor_conversation_template/#_2","title":"\u5c0d\u8a71\u5167\u5bb9","text":""},{"location":"16_Cursor_Workflow/cursor_conversation_template/#_3","title":"\u554f\u984c/\u9700\u6c42","text":"<p>\uff08\u63cf\u8ff0\u4f60\u5411 Cursor \u63d0\u51fa\u7684\u554f\u984c\u6216\u9700\u6c42\uff09</p>"},{"location":"16_Cursor_Workflow/cursor_conversation_template/#cursor_1","title":"Cursor \u7684\u56de\u61c9","text":"<p>\uff08\u8a18\u9304 Cursor \u7684\u56de\u61c9\u548c\u5efa\u8b70\uff09</p>"},{"location":"16_Cursor_Workflow/cursor_conversation_template/#_4","title":"\u6c7a\u7b56/\u7d50\u679c","text":"<p>\uff08\u8a18\u9304\u6700\u7d42\u7684\u6c7a\u7b56\u6216\u5be6\u4f5c\u7d50\u679c\uff09</p>"},{"location":"16_Cursor_Workflow/cursor_conversation_template/#_5","title":"\u5b78\u7fd2\u8981\u9ede","text":"<p>\uff08\u5f9e\u9019\u6b21\u5c0d\u8a71\u4e2d\u5b78\u5230\u7684\u91cd\u8981\u77e5\u8b58\uff09</p>"},{"location":"16_Cursor_Workflow/cursor_conversation_template/#_6","title":"\u76f8\u95dc\u6a94\u6848","text":"<ul> <li><code>\u8def\u5f91/\u6a94\u6848\u540d.swift</code></li> <li><code>\u8def\u5f91/\u6a94\u6848\u540d.swift</code></li> </ul>"},{"location":"16_Cursor_Workflow/cursor_conversation_template/#_7","title":"\u4f7f\u7528\u7bc4\u4f8b","text":""},{"location":"16_Cursor_Workflow/cursor_conversation_template/#_8","title":"\u5c0d\u8a71\u8cc7\u8a0a","text":"<ul> <li>\u65e5\u671f: 2025-11-28</li> <li>\u6642\u9593: 14:30</li> <li>\u4e3b\u984c: \u5982\u4f55\u5be6\u4f5c Comment Entity \u7684 Equatable</li> <li>\u76f8\u95dc Ticket: TDD-001</li> </ul>"},{"location":"16_Cursor_Workflow/cursor_conversation_template/#_9","title":"\u5c0d\u8a71\u5167\u5bb9","text":""},{"location":"16_Cursor_Workflow/cursor_conversation_template/#_10","title":"\u554f\u984c/\u9700\u6c42","text":"<p>\u6211\u9700\u8981\u5be6\u4f5c Comment Entity\uff0c\u4f46\u5c0d\u65bc\u5982\u4f55\u8655\u7406 Equatable \u6709\u7591\u554f\u3002Comment \u5305\u542b\u591a\u500b\u6b04\u4f4d\uff0c\u5305\u62ec\u53ef\u9078\u7684 createdAt\u3002</p>"},{"location":"16_Cursor_Workflow/cursor_conversation_template/#cursor_2","title":"Cursor \u7684\u56de\u61c9","text":"<p>\u5efa\u8b70\u4f7f\u7528 <code>@Equatable</code> macro\uff0c\u9019\u6a23\u53ef\u4ee5\u81ea\u52d5\u751f\u6210 Equatable conformance\u3002\u5c0d\u65bc\u53ef\u9078\u6b04\u4f4d\uff0cSwift \u6703\u81ea\u52d5\u8655\u7406\u3002</p> <pre><code>@Equatable\nstruct Comment {\n    let id: String\n    let content: String\n    let authorId: String\n    let createdAt: Date?\n}\n</code></pre>"},{"location":"16_Cursor_Workflow/cursor_conversation_template/#_11","title":"\u6c7a\u7b56/\u7d50\u679c","text":"<p>\u63a1\u7528 Cursor \u7684\u5efa\u8b70\uff0c\u4f7f\u7528 <code>@Equatable</code> macro\u3002\u5be6\u4f5c\u5b8c\u6210\uff0c\u6e2c\u8a66\u901a\u904e\u3002</p>"},{"location":"16_Cursor_Workflow/cursor_conversation_template/#_12","title":"\u5b78\u7fd2\u8981\u9ede","text":"<ul> <li><code>@Equatable</code> macro \u53ef\u4ee5\u7c21\u5316 Equatable \u7684\u5be6\u4f5c</li> <li>\u5c0d\u65bc\u53ef\u9078\u6b04\u4f4d\uff0cEquatable \u6703\u81ea\u52d5\u8655\u7406 nil \u7684\u60c5\u6cc1</li> </ul>"},{"location":"16_Cursor_Workflow/cursor_conversation_template/#_13","title":"\u76f8\u95dc\u6a94\u6848","text":"<ul> <li><code>MatchChat/Sources/Domain/Entities/Comment.swift</code></li> </ul>"},{"location":"16_Cursor_Workflow/daily_plans/2025-11-28/","title":"\u5de5\u4f5c\u8a08\u5283 - 2025-11-28","text":"<p>\u751f\u6210\u6642\u9593: 2025-11-28 16:00:56</p>"},{"location":"16_Cursor_Workflow/daily_plans/2025-11-28/#_1","title":"\ud83d\udccb \u4eca\u65e5\u76ee\u6a19","text":""},{"location":"16_Cursor_Workflow/daily_plans/2025-11-28/#parent-tickets","title":"Parent Tickets\uff08\u4e3b\u8981\u5de5\u4f5c\u9805\u76ee\uff09","text":"<ul> <li>[ ] TDD-001: FOOTBALL-9171</li> <li>Jira: FOOTBALL-9171</li> <li>\u4f30\u6642: 2h 24m</li> <li>\u72c0\u614b: \u9032\u884c\u4e2d</li> <li> <p>\u6642\u9593\u7bc4\u570d: 2025-11-27 ~ 2025-11-28</p> </li> <li> <p>[ ] TDD-002: FOOTBALL-9172</p> </li> <li>Jira: FOOTBALL-9172</li> <li>\u4f30\u6642: 2h 24m</li> <li>\u72c0\u614b: \u9032\u884c\u4e2d</li> <li> <p>\u6642\u9593\u7bc4\u570d: 2025-11-27 ~ 2025-11-28</p> </li> <li> <p>[ ] TDD-003: FOOTBALL-9173</p> </li> <li>Jira: FOOTBALL-9173</li> <li>\u4f30\u6642: 2h 24m</li> <li>\u72c0\u614b: \u9032\u884c\u4e2d</li> <li> <p>\u6642\u9593\u7bc4\u570d: 2025-11-27 ~ 2025-11-28</p> </li> <li> <p>[ ] TDD-004: FOOTBALL-9174</p> </li> <li>Jira: FOOTBALL-9174</li> <li>\u4f30\u6642: 2h 24m</li> <li>\u72c0\u614b: \u9032\u884c\u4e2d</li> <li> <p>\u6642\u9593\u7bc4\u570d: 2025-11-28 ~ 2025-12-01</p> </li> <li> <p>[ ] TDD-005: FOOTBALL-9175</p> </li> <li>Jira: FOOTBALL-9175</li> <li>\u4f30\u6642: 2h 24m</li> <li>\u72c0\u614b: \u9032\u884c\u4e2d</li> <li> <p>\u6642\u9593\u7bc4\u570d: 2025-11-28 ~ 2025-12-01</p> </li> <li> <p>[ ] TDD-006: FOOTBALL-9176</p> </li> <li>Jira: FOOTBALL-9176</li> <li>\u4f30\u6642: 1d</li> <li>\u72c0\u614b: \u9032\u884c\u4e2d</li> <li>\u6642\u9593\u7bc4\u570d: 2025-11-28 ~ 2025-12-01</li> </ul>"},{"location":"16_Cursor_Workflow/daily_plans/2025-11-28/#cursor","title":"\ud83e\udd16 \u8207 Cursor \u7684\u5354\u4f5c\u8a08\u5283","text":""},{"location":"16_Cursor_Workflow/daily_plans/2025-11-28/#_2","title":"\u958b\u59cb\u5be6\u4f5c\u524d","text":"<p>\u8acb Cursor \u5354\u52a9\uff1a 1. \u8b80\u53d6\u76f8\u95dc\u7684 TDD \u6587\u4ef6 2. \u6aa2\u67e5\u73fe\u6709\u7684 codebase \u7d50\u69cb 3. \u63d0\u4f9b\u5be6\u4f5c\u5efa\u8b70\u548c\u6ce8\u610f\u4e8b\u9805 4. \u6aa2\u67e5\u4f9d\u8cf4\u95dc\u4fc2\u662f\u5426\u6eff\u8db3</p>"},{"location":"16_Cursor_Workflow/daily_plans/2025-11-28/#_3","title":"\u5be6\u4f5c\u904e\u7a0b\u4e2d","text":"<ul> <li>\u96a8\u6642\u8207 Cursor \u8a0e\u8ad6\u5be6\u4f5c\u7d30\u7bc0</li> <li>\u8a18\u9304\u91cd\u8981\u7684\u6c7a\u7b56\u548c\u5c0d\u8a71</li> <li>\u9047\u5230\u554f\u984c\u6642\u8acb Cursor \u5354\u52a9\u89e3\u6c7a</li> </ul>"},{"location":"16_Cursor_Workflow/daily_plans/2025-11-28/#_4","title":"\u5be6\u4f5c\u5b8c\u6210\u5f8c","text":"<p>\u8acb Cursor \u5354\u52a9\uff1a 1. \u6aa2\u67e5\u5be6\u4f5c\u662f\u5426\u7b26\u5408 TDD \u898f\u7bc4 2. \u6aa2\u67e5\u662f\u5426\u6709\u907a\u6f0f\u7684\u529f\u80fd 3. \u63d0\u4f9b\u6539\u9032\u5efa\u8b70 4. \u66f4\u65b0\u76f8\u95dc\u6587\u4ef6</p>"},{"location":"16_Cursor_Workflow/daily_plans/2025-11-28/#_5","title":"\ud83d\udcdd \u5de5\u4f5c\u8a18\u9304","text":""},{"location":"16_Cursor_Workflow/daily_plans/2025-11-28/#cursor_1","title":"\u8207 Cursor \u7684\u91cd\u8981\u5c0d\u8a71","text":"<p>\uff08\u5728\u6b64\u8a18\u9304\u8207 Cursor \u7684\u91cd\u8981\u5c0d\u8a71\u548c\u6c7a\u7b56\uff09</p>"},{"location":"16_Cursor_Workflow/daily_plans/2025-11-28/#_6","title":"\u5be6\u4f5c\u9032\u5ea6","text":"<p>\uff08\u5728\u6b64\u8a18\u9304\u5be6\u4f5c\u9032\u5ea6\uff09</p>"},{"location":"16_Cursor_Workflow/daily_plans/2025-11-28/#_7","title":"\u9047\u5230\u7684\u554f\u984c","text":"<p>\uff08\u5728\u6b64\u8a18\u9304\u9047\u5230\u7684\u554f\u984c\u548c\u89e3\u6c7a\u65b9\u6848\uff09</p>"},{"location":"17_Cursor_Commands/","title":"Cursor \u5de5\u4f5c\u6d41\u547d\u4ee4","text":"<p>\u672c\u76ee\u9304\u5305\u542b MatchChat feature \u958b\u767c\u7684\u5e38\u7528 Cursor \u547d\u4ee4\u3002</p>"},{"location":"17_Cursor_Commands/#_1","title":"\ud83d\udccb \u547d\u4ee4\u5217\u8868","text":""},{"location":"17_Cursor_Commands/#_2","title":"\u6bcf\u5929\u958b\u59cb\u6642","text":"<ol> <li>daily-start - \u958b\u59cb\u4eca\u5929\u7684\u5de5\u4f5c</li> <li>\u751f\u6210\u5de5\u4f5c\u8a08\u5283</li> <li>\u5efa\u7acb\u5de5\u4f5c\u65e5\u8a8c</li> <li> <p>\u63d0\u4f9b\u5be6\u4f5c\u5efa\u8b70</p> </li> <li> <p>generate-daily-plan - \u751f\u6210\u4eca\u5929\u7684\u5de5\u4f5c\u8a08\u5283</p> </li> <li>\u6839\u64da\u65e5\u671f\u627e\u51fa\u5c0d\u61c9\u7684 Jira tickets</li> <li> <p>\u751f\u6210\u5de5\u4f5c\u8a08\u5283\u6587\u4ef6</p> </li> <li> <p>create-daily-log - \u5efa\u7acb\u4eca\u5929\u7684\u5de5\u4f5c\u65e5\u8a8c</p> </li> <li>\u4f7f\u7528\u9810\u8a2d\u6a21\u677f\u5efa\u7acb\u5de5\u4f5c\u65e5\u8a8c</li> </ol>"},{"location":"17_Cursor_Commands/#_3","title":"\u6bcf\u5929\u7d50\u675f\u6642","text":"<ol> <li>daily-end - \u7d50\u675f\u4eca\u5929\u7684\u5de5\u4f5c</li> <li>\u7d71\u6574\u7576\u5929\u5de5\u4f5c</li> <li>\u66f4\u65b0\u5be6\u4f5c\u72c0\u614b</li> <li>\u66f4\u65b0\u8b8a\u66f4\u65e5\u8a8c</li> <li> <p>\u7d71\u6574\u5c0d\u8a71</p> </li> <li> <p>summarize-daily-work - \u7d71\u6574\u7576\u5929\u5de5\u4f5c</p> </li> <li>\u751f\u6210\u5de5\u4f5c\u7d71\u6574\u6587\u4ef6</li> </ol>"},{"location":"17_Cursor_Commands/#_4","title":"\u90e8\u7f72\u8207\u767c\u5e03","text":"<ol> <li>deploy-tdd-to-mkdocs - \u90e8\u7f72 TDD \u5230 MkDocs</li> <li>\u5efa\u7f6e MkDocs \u6587\u6a94</li> <li>\u90e8\u7f72\u5230 GitHub Pages (gh-pages branch)</li> <li>\u986f\u793a\u90e8\u7f72\u72c0\u614b\u548c\u7db2\u7ad9 URL</li> <li> <p>\u5305\u542b\u5c0d\u8a71\u7d71\u6574\u6a21\u677f</p> </li> <li> <p>review-cursor-conversations - \u7d71\u6574\u5c0d\u8a71</p> </li> <li>\u63d0\u53d6\u91cd\u8981\u6c7a\u7b56</li> <li>\u63d0\u53d6\u5b78\u7fd2\u8981\u9ede</li> <li>\u751f\u6210\u5c0d\u8a71\u6458\u8981</li> </ol>"},{"location":"17_Cursor_Commands/#_5","title":"\u5be6\u4f5c\u904e\u7a0b\u4e2d","text":"<ol> <li>update-implementation-status - \u66f4\u65b0\u5be6\u4f5c\u72c0\u614b</li> <li>\u6aa2\u67e5\u5be6\u4f5c\u9032\u5ea6</li> <li>\u66f4\u65b0\u72c0\u614b\u8ffd\u8e64\u8868</li> <li> <p>\u6aa2\u67e5 TDD \u4e00\u81f4\u6027</p> </li> <li> <p>update-changelog - \u66f4\u65b0\u8b8a\u66f4\u65e5\u8a8c</p> </li> <li>\u6839\u64da git commits \u751f\u6210\u8b8a\u66f4\u8a18\u9304</li> <li> <p>\u66f4\u65b0 CHANGELOG.md</p> </li> <li> <p>check-tdd-consistency - \u6aa2\u67e5 TDD \u4e00\u81f4\u6027</p> </li> <li>\u6aa2\u67e5\u5be6\u4f5c\u6a94\u6848\u662f\u5426\u5b58\u5728</li> <li>\u6aa2\u67e5\u662f\u5426\u7b26\u5408 TDD \u898f\u7bc4</li> <li>\u63d0\u4f9b\u6539\u9032\u5efa\u8b70</li> </ol>"},{"location":"17_Cursor_Commands/#_6","title":"\ud83d\ude80 \u5feb\u901f\u4f7f\u7528","text":""},{"location":"17_Cursor_Commands/#_7","title":"\u6bcf\u5929\u958b\u59cb\u6642","text":"<p>\u5728 Cursor \u4e2d\u8aaa\uff1a\u300c\u958b\u59cb\u4eca\u5929\u7684\u5de5\u4f5c\u300d\u6216\u57f7\u884c <code>daily-start</code> \u547d\u4ee4</p>"},{"location":"17_Cursor_Commands/#_8","title":"\u6bcf\u5929\u7d50\u675f\u6642","text":"<p>\u5728 Cursor \u4e2d\u8aaa\uff1a\u300c\u7d50\u675f\u4eca\u5929\u7684\u5de5\u4f5c\u300d\u6216\u57f7\u884c <code>daily-end</code> \u547d\u4ee4</p>"},{"location":"17_Cursor_Commands/#_9","title":"\u5be6\u4f5c\u904e\u7a0b\u4e2d","text":"<ul> <li>\u300c\u66f4\u65b0\u5be6\u4f5c\u72c0\u614b\u300d- \u66f4\u65b0\u72c0\u614b\u8ffd\u8e64</li> <li>\u300c\u66f4\u65b0\u8b8a\u66f4\u65e5\u8a8c\u300d- \u66f4\u65b0\u8b8a\u66f4\u8a18\u9304</li> <li>\u300c\u6aa2\u67e5 TDD \u4e00\u81f4\u6027\u300d- \u6aa2\u67e5\u5be6\u4f5c\u8207 TDD \u7684\u4e00\u81f4\u6027</li> </ul>"},{"location":"17_Cursor_Commands/#_10","title":"\ud83d\udcc1 \u76f8\u95dc\u6587\u4ef6","text":""},{"location":"17_Cursor_Commands/#_11","title":"\u672c\u76ee\u9304\u6587\u4ef6","text":"<ul> <li>\u5de5\u4f5c\u6d41\u7a0b\u6307\u5357: <code>WORKFLOW_GUIDE.md</code> - \u5b8c\u6574\u6d41\u7a0b\u5716\u548c\u4f7f\u7528\u6642\u6a5f\u8aaa\u660e</li> <li>\u5feb\u901f\u53c3\u8003: <code>QUICK_REFERENCE.md</code> - \u547d\u4ee4\u5feb\u901f\u53c3\u8003\u8868</li> </ul>"},{"location":"17_Cursor_Commands/#tdd","title":"TDD \u76ee\u9304\u6587\u4ef6","text":"<ul> <li>\u5de5\u4f5c\u6d41\u7a0b\u6307\u5357: <code>/Users/reedhsin/Documents/codebase/fcom-iOS/TDDs/LiveChat&amp;PrematchComment/16_Cursor_Workflow/WORKFLOW_GUIDE.md</code></li> <li>\u5feb\u901f\u958b\u59cb: <code>/Users/reedhsin/Documents/codebase/fcom-iOS/TDDs/LiveChat&amp;PrematchComment/16_Cursor_Workflow/QUICK_START.md</code></li> </ul>"},{"location":"17_Cursor_Commands/QUICK_REFERENCE/","title":"Cursor Commands \u5feb\u901f\u53c3\u8003","text":""},{"location":"17_Cursor_Commands/QUICK_REFERENCE/#_1","title":"\ud83d\ude80 \u4e00\u9375\u547d\u4ee4","text":""},{"location":"17_Cursor_Commands/QUICK_REFERENCE/#_2","title":"\u6bcf\u5929\u958b\u59cb","text":"<p><pre><code>@daily-start\n</code></pre> \u81ea\u52d5\u57f7\u884c\uff1a\u751f\u6210\u8a08\u5283 + \u5efa\u7acb\u65e5\u8a8c</p>"},{"location":"17_Cursor_Commands/QUICK_REFERENCE/#_3","title":"\u6bcf\u5929\u7d50\u675f","text":"<p><pre><code>@daily-end\n</code></pre> \u81ea\u52d5\u57f7\u884c\uff1a\u7d71\u6574\u5de5\u4f5c + \u7d71\u6574\u5c0d\u8a71</p>"},{"location":"17_Cursor_Commands/QUICK_REFERENCE/#_4","title":"\ud83d\udccb \u5b8c\u6574\u547d\u4ee4\u5217\u8868","text":""},{"location":"17_Cursor_Commands/QUICK_REFERENCE/#_5","title":"\u65e9\u4e0a\u6d41\u7a0b","text":"<ol> <li><code>@daily-start</code> - \u958b\u59cb\u4eca\u5929\u7684\u5de5\u4f5c</li> <li><code>@generate-daily-plan</code> - \u751f\u6210\u5de5\u4f5c\u8a08\u5283</li> <li><code>@create-daily-log</code> - \u5efa\u7acb\u5de5\u4f5c\u65e5\u8a8c</li> </ol>"},{"location":"17_Cursor_Commands/QUICK_REFERENCE/#_6","title":"\u5be6\u4f5c\u6d41\u7a0b","text":"<ol> <li><code>@update-implementation-status</code> - \u66f4\u65b0\u5be6\u4f5c\u72c0\u614b</li> <li><code>@update-changelog</code> - \u66f4\u65b0\u8b8a\u66f4\u65e5\u8a8c</li> <li><code>@check-tdd-consistency</code> - \u6aa2\u67e5 TDD \u4e00\u81f4\u6027</li> <li><code>@deploy-tdd-to-mkdocs</code> - \u90e8\u7f72\u5230 MkDocs</li> </ol>"},{"location":"17_Cursor_Commands/QUICK_REFERENCE/#_7","title":"\u665a\u4e0a\u6d41\u7a0b","text":"<ol> <li><code>@review-cursor-conversations</code> - \u7d71\u6574\u5c0d\u8a71</li> <li><code>@summarize-daily-work</code> - \u7d71\u6574\u7576\u5929\u5de5\u4f5c</li> <li><code>@daily-end</code> - \u7d50\u675f\u4eca\u5929\u7684\u5de5\u4f5c</li> </ol>"},{"location":"17_Cursor_Commands/QUICK_REFERENCE/#_8","title":"\u23f0 \u4f7f\u7528\u6642\u6a5f","text":"<pre><code>09:00 \u2500\u2500&gt; @daily-start\n         \u251c\u2500&gt; @generate-daily-plan\n         \u2514\u2500&gt; @create-daily-log\n\n09:30-17:00 \u2500\u2500&gt; \u5be6\u4f5c\u5faa\u74b0\n         \u251c\u2500&gt; @update-implementation-status (\u5b8c\u6210 ticket)\n         \u251c\u2500&gt; @update-changelog (\u6709\u8b8a\u66f4)\n         \u251c\u2500&gt; @check-tdd-consistency (\u5b8c\u6210\u529f\u80fd)\n         \u2514\u2500&gt; @deploy-tdd-to-mkdocs (\u9700\u8981\u767c\u5e03)\n\n17:30 \u2500\u2500&gt; @daily-end\n         \u251c\u2500&gt; @review-cursor-conversations\n         \u2514\u2500&gt; @summarize-daily-work\n</code></pre>"},{"location":"17_Cursor_Commands/QUICK_REFERENCE/#_9","title":"\ud83d\udcca \u6d41\u7a0b\u5716","text":"<pre><code>\u958b\u59cb \u2192 daily-start \u2192 \u5be6\u4f5c\u5faa\u74b0 \u2192 daily-end \u2192 \u7d50\u675f\n         \u2193              \u2193            \u2193\n     \u751f\u6210\u8a08\u5283      \u66f4\u65b0\u72c0\u614b      \u7d71\u6574\u5de5\u4f5c\n     \u5efa\u7acb\u65e5\u8a8c      \u8a18\u9304\u8b8a\u66f4      \u7d71\u6574\u5c0d\u8a71\n                 \u6aa2\u67e5\u4e00\u81f4\u6027\n                 \u90e8\u7f72\u6587\u6a94\n</code></pre>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/","title":"Cursor Commands \u5de5\u4f5c\u6d41\u7a0b\u5716\u8207\u4f7f\u7528\u6642\u6a5f","text":""},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#_1","title":"\ud83d\udcca \u5b8c\u6574\u5de5\u4f5c\u6d41\u7a0b\u5716","text":"<pre><code>graph TD\n    Start([\u958b\u59cb\u65b0\u7684\u4e00\u5929]) --&gt; DailyStart[daily-start&lt;br/&gt;\u958b\u59cb\u4eca\u5929\u7684\u5de5\u4f5c]\n\n    DailyStart --&gt; GeneratePlan[generate-daily-plan&lt;br/&gt;\u751f\u6210\u5de5\u4f5c\u8a08\u5283]\n    GeneratePlan --&gt; CreateLog[create-daily-log&lt;br/&gt;\u5efa\u7acb\u5de5\u4f5c\u65e5\u8a8c]\n\n    CreateLog --&gt; WorkLoop{\u5be6\u4f5c\u5faa\u74b0}\n\n    WorkLoop --&gt;|\u5be6\u4f5c\u904e\u7a0b\u4e2d| UpdateStatus[update-implementation-status&lt;br/&gt;\u66f4\u65b0\u5be6\u4f5c\u72c0\u614b]\n    WorkLoop --&gt;|\u6709\u4ee3\u78bc\u8b8a\u66f4| UpdateChangelog[update-changelog&lt;br/&gt;\u66f4\u65b0\u8b8a\u66f4\u65e5\u8a8c]\n    WorkLoop --&gt;|\u6aa2\u67e5\u4e00\u81f4\u6027| CheckConsistency[check-tdd-consistency&lt;br/&gt;\u6aa2\u67e5 TDD \u4e00\u81f4\u6027]\n    WorkLoop --&gt;|\u9700\u8981\u767c\u5e03| DeployMkDocs[deploy-tdd-to-mkdocs&lt;br/&gt;\u90e8\u7f72\u5230 MkDocs]\n\n    UpdateStatus --&gt; WorkLoop\n    UpdateChangelog --&gt; WorkLoop\n    CheckConsistency --&gt; WorkLoop\n    DeployMkDocs --&gt; WorkLoop\n\n    WorkLoop --&gt;|\u4e00\u5929\u7d50\u675f| ReviewConversations[review-cursor-conversations&lt;br/&gt;\u7d71\u6574\u5c0d\u8a71]\n    ReviewConversations --&gt; SummarizeWork[summarize-daily-work&lt;br/&gt;\u7d71\u6574\u7576\u5929\u5de5\u4f5c]\n    SummarizeWork --&gt; DailyEnd[daily-end&lt;br/&gt;\u7d50\u675f\u4eca\u5929\u7684\u5de5\u4f5c]\n\n    DailyEnd --&gt; End([\u7d50\u675f])\n\n    style Start fill:#e1f5ff\n    style End fill:#ffe1f5\n    style DailyStart fill:#fff4e1\n    style DailyEnd fill:#fff4e1\n    style GeneratePlan fill:#e8f5e9\n    style CreateLog fill:#e8f5e9\n    style WorkLoop fill:#f3e5f5\n    style UpdateStatus fill:#e3f2fd\n    style UpdateChangelog fill:#e3f2fd\n    style CheckConsistency fill:#e3f2fd\n    style DeployMkDocs fill:#e3f2fd\n    style ReviewConversations fill:#fff9c4\n    style SummarizeWork fill:#fff9c4</code></pre>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#_2","title":"\ud83d\udd50 \u4f7f\u7528\u6642\u6a5f\u8a73\u7d30\u8aaa\u660e","text":""},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#morning-routine","title":"\ud83c\udf05 \u6bcf\u5929\u958b\u59cb\u6642\uff08Morning Routine\uff09","text":""},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#1-daily-start-","title":"1. daily-start - \u958b\u59cb\u4eca\u5929\u7684\u5de5\u4f5c","text":"<p>\u4f7f\u7528\u6642\u6a5f: \u6bcf\u5929\u958b\u59cb\u5de5\u4f5c\u6642\u7684\u7b2c\u4e00\u500b\u547d\u4ee4</p> <p>\u529f\u80fd: - \u81ea\u52d5\u57f7\u884c <code>generate-daily-plan</code> \u548c <code>create-daily-log</code> - \u63d0\u4f9b\u7576\u5929\u7684\u5be6\u4f5c\u5efa\u8b70 - \u6aa2\u67e5\u4f9d\u8cf4\u95dc\u4fc2</p> <p>\u89f8\u767c\u65b9\u5f0f: <pre><code>\u5728 Cursor \u4e2d\u8aaa\uff1a\u300c\u958b\u59cb\u4eca\u5929\u7684\u5de5\u4f5c\u300d\u6216\u300c@daily-start\u300d\n</code></pre></p>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#2-generate-daily-plan-","title":"2. generate-daily-plan - \u751f\u6210\u4eca\u5929\u7684\u5de5\u4f5c\u8a08\u5283","text":"<p>\u4f7f\u7528\u6642\u6a5f:  - \u6bcf\u5929\u958b\u59cb\u5de5\u4f5c\u6642 - \u9700\u8981\u67e5\u770b\u7576\u5929\u8a08\u5283\u6642 - \u8a08\u5283\u8b8a\u66f4\u9700\u8981\u91cd\u65b0\u751f\u6210\u6642</p> <p>\u529f\u80fd: - \u6839\u64da\u4eca\u5929\u7684\u65e5\u671f\u627e\u51fa\u5c0d\u61c9\u7684 Jira tickets - \u8b58\u5225 parent tickets \u548c child tickets - \u751f\u6210\u5305\u542b Jira \u9023\u7d50\u3001\u4f30\u6642\u3001\u72c0\u614b\u7684\u5de5\u4f5c\u8a08\u5283</p> <p>\u89f8\u767c\u65b9\u5f0f: <pre><code>\u5728 Cursor \u4e2d\u8aaa\uff1a\u300c\u751f\u6210\u4eca\u5929\u7684\u5de5\u4f5c\u8a08\u5283\u300d\u6216\u300c@generate-daily-plan\u300d\n</code></pre></p> <p>\u751f\u6210\u6587\u4ef6: <code>16_Cursor_Workflow/daily_plans/YYYY-MM-DD.md</code></p>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#3-create-daily-log-","title":"3. create-daily-log - \u5efa\u7acb\u4eca\u5929\u7684\u5de5\u4f5c\u65e5\u8a8c","text":"<p>\u4f7f\u7528\u6642\u6a5f: - \u6bcf\u5929\u958b\u59cb\u5de5\u4f5c\u6642 - \u9700\u8981\u8a18\u9304\u7576\u5929\u5de5\u4f5c\u6642</p> <p>\u529f\u80fd: - \u4f7f\u7528\u9810\u8a2d\u6a21\u677f\u5efa\u7acb\u5de5\u4f5c\u65e5\u8a8c - \u5305\u542b\u65e5\u671f\u3001\u8a08\u5283\u3001\u5b8c\u6210\u9805\u76ee\u7b49\u6b04\u4f4d</p> <p>\u89f8\u767c\u65b9\u5f0f: <pre><code>\u5728 Cursor \u4e2d\u8aaa\uff1a\u300c\u5efa\u7acb\u4eca\u5929\u7684\u5de5\u4f5c\u65e5\u8a8c\u300d\u6216\u300c@create-daily-log\u300d\n</code></pre></p> <p>\u751f\u6210\u6587\u4ef6: <code>15_Daily_Logs/YYYY-MM-DD.md</code></p>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#during-development","title":"\ud83d\udcbb \u5be6\u4f5c\u904e\u7a0b\u4e2d\uff08During Development\uff09","text":""},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#4-update-implementation-status-","title":"4. update-implementation-status - \u66f4\u65b0\u5be6\u4f5c\u72c0\u614b","text":"<p>\u4f7f\u7528\u6642\u6a5f: - \u5b8c\u6210\u4e00\u500b ticket \u7684\u5be6\u4f5c\u5f8c - \u9700\u8981\u8ffd\u8e64\u5be6\u4f5c\u9032\u5ea6\u6642 - \u5b9a\u671f\u6aa2\u67e5\u5be6\u4f5c\u72c0\u614b\u6642\uff08\u5efa\u8b70\u6bcf\u5929\u81f3\u5c11\u4e00\u6b21\uff09</p> <p>\u529f\u80fd: - \u6aa2\u67e5\u5be6\u4f5c\u9032\u5ea6 - \u66f4\u65b0\u72c0\u614b\u8ffd\u8e64\u8868 - \u6aa2\u67e5 TDD \u4e00\u81f4\u6027</p> <p>\u89f8\u767c\u65b9\u5f0f: <pre><code>\u5728 Cursor \u4e2d\u8aaa\uff1a\u300c\u66f4\u65b0\u5be6\u4f5c\u72c0\u614b\u300d\u6216\u300c@update-implementation-status\u300d\n</code></pre></p> <p>\u66f4\u65b0\u6587\u4ef6: <code>13_Implementation_Status/implementation_status.md</code></p>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#5-update-changelog-","title":"5. update-changelog - \u66f4\u65b0\u8b8a\u66f4\u65e5\u8a8c","text":"<p>\u4f7f\u7528\u6642\u6a5f: - \u5b8c\u6210\u4e00\u500b\u529f\u80fd\u6216\u4fee\u5fa9\u5f8c - \u6709\u4ee3\u78bc\u8b8a\u66f4\u9700\u8981\u8a18\u9304\u6642 - \u6e96\u5099 commit \u524d</p> <p>\u529f\u80fd: - \u6839\u64da git commits \u751f\u6210\u8b8a\u66f4\u8a18\u9304 - \u66f4\u65b0 CHANGELOG.md - \u5c0d\u61c9\u5230\u76f8\u95dc\u7684 TDD ticket</p> <p>\u89f8\u767c\u65b9\u5f0f: <pre><code>\u5728 Cursor \u4e2d\u8aaa\uff1a\u300c\u66f4\u65b0\u8b8a\u66f4\u65e5\u8a8c\u300d\u6216\u300c@update-changelog\u300d\n</code></pre></p> <p>\u66f4\u65b0\u6587\u4ef6: <code>14_Changelog/CHANGELOG.md</code></p>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#6-check-tdd-consistency-tdd","title":"6. check-tdd-consistency - \u6aa2\u67e5 TDD \u4e00\u81f4\u6027","text":"<p>\u4f7f\u7528\u6642\u6a5f: - \u5be6\u4f5c\u5b8c\u6210\u5f8c\u9700\u8981\u9a57\u8b49\u6642 - \u5b9a\u671f\u6aa2\u67e5\u6642\uff08\u5efa\u8b70\u6bcf\u9031\u4e00\u6b21\uff09 - \u6e96\u5099\u63d0\u4ea4 PR \u524d</p> <p>\u529f\u80fd: - \u6aa2\u67e5\u5be6\u4f5c\u6a94\u6848\u662f\u5426\u5b58\u5728 - \u6aa2\u67e5\u662f\u5426\u7b26\u5408 TDD \u898f\u7bc4 - \u63d0\u4f9b\u6539\u9032\u5efa\u8b70</p> <p>\u89f8\u767c\u65b9\u5f0f: <pre><code>\u5728 Cursor \u4e2d\u8aaa\uff1a\u300c\u6aa2\u67e5 TDD \u4e00\u81f4\u6027\u300d\u6216\u300c@check-tdd-consistency\u300d\n</code></pre></p>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#7-deploy-tdd-to-mkdocs-tdd-mkdocs","title":"7. deploy-tdd-to-mkdocs - \u90e8\u7f72 TDD \u5230 MkDocs","text":"<p>\u4f7f\u7528\u6642\u6a5f: - \u5b8c\u6210\u91cd\u8981\u7ae0\u7bc0\u7684\u66f4\u65b0\u5f8c - \u9700\u8981\u767c\u5e03\u6700\u65b0\u6587\u6a94\u6642 - \u6e96\u5099\u5206\u4eab TDD \u7d66\u5718\u968a\u6642 - \u5b9a\u671f\u767c\u5e03\u6642\uff08\u5efa\u8b70\u6bcf\u9031\u4e00\u6b21\uff09</p> <p>\u529f\u80fd: - \u5efa\u7f6e MkDocs \u6587\u6a94 - \u90e8\u7f72\u5230 GitHub Pages (gh-pages branch) - \u986f\u793a\u90e8\u7f72\u72c0\u614b\u548c\u7db2\u7ad9 URL</p> <p>\u89f8\u767c\u65b9\u5f0f: <pre><code>\u5728 Cursor \u4e2d\u8aaa\uff1a\u300c\u90e8\u7f72 TDD \u5230 MkDocs\u300d\u6216\u300c\u767c\u5e03 TDD \u6587\u6a94\u300d\u6216\u300c@deploy-tdd-to-mkdocs\u300d\n</code></pre></p> <p>\u7db2\u7ad9 URL: <code>https://hsinchunghan.github.io/LiveChatAndCommentOngoingFeature/</code></p>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#evening-routine","title":"\ud83c\udf19 \u6bcf\u5929\u7d50\u675f\u6642\uff08Evening Routine\uff09","text":""},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#8-review-cursor-conversations-","title":"8. review-cursor-conversations - \u7d71\u6574\u5c0d\u8a71","text":"<p>\u4f7f\u7528\u6642\u6a5f: - \u6bcf\u5929\u7d50\u675f\u5de5\u4f5c\u524d - \u9700\u8981\u63d0\u53d6\u91cd\u8981\u6c7a\u7b56\u6642 - \u9700\u8981\u8a18\u9304\u5b78\u7fd2\u8981\u9ede\u6642</p> <p>\u529f\u80fd: - \u63d0\u53d6\u91cd\u8981\u6c7a\u7b56 - \u63d0\u53d6\u5b78\u7fd2\u8981\u9ede - \u751f\u6210\u5c0d\u8a71\u6458\u8981</p> <p>\u89f8\u767c\u65b9\u5f0f: <pre><code>\u5728 Cursor \u4e2d\u8aaa\uff1a\u300c\u7d71\u6574\u5c0d\u8a71\u300d\u6216\u300c@review-cursor-conversations\u300d\n</code></pre></p>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#9-summarize-daily-work-","title":"9. summarize-daily-work - \u7d71\u6574\u7576\u5929\u5de5\u4f5c","text":"<p>\u4f7f\u7528\u6642\u6a5f: - \u6bcf\u5929\u7d50\u675f\u5de5\u4f5c\u6642 - \u9700\u8981\u751f\u6210\u5de5\u4f5c\u5831\u544a\u6642</p> <p>\u529f\u80fd: - \u751f\u6210\u5de5\u4f5c\u7d71\u6574\u6587\u4ef6 - \u5305\u542b\u5c0d\u8a71\u7d71\u6574\u6a21\u677f - \u66f4\u65b0\u5be6\u4f5c\u72c0\u614b\u548c\u8b8a\u66f4\u65e5\u8a8c</p> <p>\u89f8\u767c\u65b9\u5f0f: <pre><code>\u5728 Cursor \u4e2d\u8aaa\uff1a\u300c\u7d71\u6574\u7576\u5929\u5de5\u4f5c\u300d\u6216\u300c@summarize-daily-work\u300d\n</code></pre></p>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#10-daily-end-","title":"10. daily-end - \u7d50\u675f\u4eca\u5929\u7684\u5de5\u4f5c","text":"<p>\u4f7f\u7528\u6642\u6a5f: \u6bcf\u5929\u7d50\u675f\u5de5\u4f5c\u6642\u7684\u6700\u5f8c\u4e00\u500b\u547d\u4ee4</p> <p>\u529f\u80fd: - \u81ea\u52d5\u57f7\u884c <code>summarize-daily-work</code> \u548c <code>review-cursor-conversations</code> - \u66f4\u65b0\u5be6\u4f5c\u72c0\u614b - \u66f4\u65b0\u8b8a\u66f4\u65e5\u8a8c - \u7d71\u6574\u5c0d\u8a71</p> <p>\u89f8\u767c\u65b9\u5f0f: <pre><code>\u5728 Cursor \u4e2d\u8aaa\uff1a\u300c\u7d50\u675f\u4eca\u5929\u7684\u5de5\u4f5c\u300d\u6216\u300c@daily-end\u300d\n</code></pre></p>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#_3","title":"\ud83d\udcc5 \u5178\u578b\u5de5\u4f5c\u65e5\u6d41\u7a0b","text":""},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#900-am","title":"\u65e9\u4e0a\uff089:00 AM\uff09","text":"<pre><code>1. @daily-start\n   \u2514\u2500&gt; \u81ea\u52d5\u57f7\u884c generate-daily-plan \u548c create-daily-log\n   \u2514\u2500&gt; \u67e5\u770b\u4eca\u5929\u7684\u5de5\u4f5c\u8a08\u5283\n</code></pre>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#930-am-500-pm","title":"\u5be6\u4f5c\u904e\u7a0b\u4e2d\uff089:30 AM - 5:00 PM\uff09","text":"<pre><code>2. \u5be6\u4f5c\u529f\u80fd A\n   \u2514\u2500&gt; @update-implementation-status (\u5b8c\u6210\u5f8c)\n   \u2514\u2500&gt; @update-changelog (\u6709\u4ee3\u78bc\u8b8a\u66f4\u6642)\n\n3. \u5be6\u4f5c\u529f\u80fd B\n   \u2514\u2500&gt; @check-tdd-consistency (\u5be6\u4f5c\u5b8c\u6210\u5f8c)\n   \u2514\u2500&gt; @update-implementation-status\n\n4. \u5b8c\u6210\u91cd\u8981\u7ae0\u7bc0\n   \u2514\u2500&gt; @deploy-tdd-to-mkdocs (\u9700\u8981\u767c\u5e03\u6642)\n</code></pre>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#530-pm","title":"\u665a\u4e0a\uff085:30 PM\uff09","text":"<pre><code>5. @daily-end\n   \u2514\u2500&gt; \u81ea\u52d5\u57f7\u884c summarize-daily-work \u548c review-cursor-conversations\n   \u2514\u2500&gt; \u7d71\u6574\u7576\u5929\u5de5\u4f5c\n</code></pre>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#_4","title":"\ud83c\udfaf \u5feb\u901f\u53c3\u8003\u8868","text":"\u6642\u6a5f \u547d\u4ee4 \u983b\u7387 \u8aaa\u660e \u6bcf\u5929\u958b\u59cb <code>daily-start</code> \u6bcf\u5929 1 \u6b21 \u958b\u59cb\u5de5\u4f5c \u6bcf\u5929\u958b\u59cb <code>generate-daily-plan</code> \u6bcf\u5929 1 \u6b21 \u751f\u6210\u8a08\u5283 \u6bcf\u5929\u958b\u59cb <code>create-daily-log</code> \u6bcf\u5929 1 \u6b21 \u5efa\u7acb\u65e5\u8a8c \u5be6\u4f5c\u4e2d <code>update-implementation-status</code> \u5b8c\u6210 ticket \u5f8c \u66f4\u65b0\u72c0\u614b \u5be6\u4f5c\u4e2d <code>update-changelog</code> \u6709\u8b8a\u66f4\u6642 \u8a18\u9304\u8b8a\u66f4 \u5be6\u4f5c\u4e2d <code>check-tdd-consistency</code> \u5b8c\u6210\u529f\u80fd\u5f8c \u6aa2\u67e5\u4e00\u81f4\u6027 \u5be6\u4f5c\u4e2d <code>deploy-tdd-to-mkdocs</code> \u9700\u8981\u767c\u5e03\u6642 \u90e8\u7f72\u6587\u6a94 \u6bcf\u5929\u7d50\u675f <code>review-cursor-conversations</code> \u6bcf\u5929 1 \u6b21 \u7d71\u6574\u5c0d\u8a71 \u6bcf\u5929\u7d50\u675f <code>summarize-daily-work</code> \u6bcf\u5929 1 \u6b21 \u7d71\u6574\u5de5\u4f5c \u6bcf\u5929\u7d50\u675f <code>daily-end</code> \u6bcf\u5929 1 \u6b21 \u7d50\u675f\u5de5\u4f5c"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#_5","title":"\ud83d\udca1 \u6700\u4f73\u5be6\u8e10\u5efa\u8b70","text":""},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#1","title":"1. \u5efa\u7acb\u7fd2\u6163","text":"<ul> <li>\u6bcf\u5929\u65e9\u4e0a\u57f7\u884c <code>daily-start</code></li> <li>\u6bcf\u5929\u665a\u4e0a\u57f7\u884c <code>daily-end</code></li> <li>\u5f62\u6210\u56fa\u5b9a\u7684\u5de5\u4f5c\u7bc0\u594f</li> </ul>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#2","title":"2. \u53ca\u6642\u66f4\u65b0","text":"<ul> <li>\u5b8c\u6210\u529f\u80fd\u5f8c\u7acb\u5373\u66f4\u65b0\u72c0\u614b</li> <li>\u6709\u4ee3\u78bc\u8b8a\u66f4\u6642\u7acb\u5373\u8a18\u9304</li> <li>\u4e0d\u8981\u7d2f\u7a4d\u5230\u6700\u5f8c\u624d\u66f4\u65b0</li> </ul>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#3","title":"3. \u5b9a\u671f\u6aa2\u67e5","text":"<ul> <li>\u6bcf\u9031\u81f3\u5c11\u6aa2\u67e5\u4e00\u6b21 TDD \u4e00\u81f4\u6027</li> <li>\u6bcf\u9031\u81f3\u5c11\u767c\u5e03\u4e00\u6b21\u6587\u6a94</li> <li>\u4fdd\u6301\u6587\u6a94\u8207\u4ee3\u78bc\u540c\u6b65</li> </ul>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#4","title":"4. \u5584\u7528\u5c0d\u8a71\u7d71\u6574","text":"<ul> <li>\u6bcf\u5929\u7d50\u675f\u6642\u7d71\u6574\u91cd\u8981\u6c7a\u7b56</li> <li>\u8a18\u9304\u5b78\u7fd2\u8981\u9ede</li> <li>\u65b9\u4fbf\u5f8c\u7e8c\u67e5\u95b1</li> </ul>"},{"location":"17_Cursor_Commands/WORKFLOW_GUIDE/#_6","title":"\ud83d\udd17 \u76f8\u95dc\u6587\u4ef6","text":"<ul> <li>\u547d\u4ee4\u76ee\u9304: <code>~/.cursor/commands/</code></li> <li>\u5de5\u4f5c\u6d41\u7a0b\u6307\u5357: <code>/Users/reedhsin/Documents/codebase/fcom-iOS/TDDs/LiveChat&amp;PrematchComment/16_Cursor_Workflow/WORKFLOW_GUIDE.md</code></li> <li>\u5feb\u901f\u958b\u59cb: <code>/Users/reedhsin/Documents/codebase/fcom-iOS/TDDs/LiveChat&amp;PrematchComment/16_Cursor_Workflow/QUICK_START.md</code></li> </ul>"},{"location":"17_Cursor_Commands/check-tdd-consistency/","title":"Check TDD Consistency","text":"<p>\u6aa2\u67e5\u5be6\u4f5c\u8207 TDD \u6587\u4ef6\u7684\u4e00\u81f4\u6027\u3002</p>"},{"location":"17_Cursor_Commands/check-tdd-consistency/#_1","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<p>\u76f4\u63a5\u5728 Cursor \u4e2d\u57f7\u884c\u6b64\u547d\u4ee4\uff0c\u6216\u8aaa\u300c\u6aa2\u67e5 TDD \u4e00\u81f4\u6027\u300d</p>"},{"location":"17_Cursor_Commands/check-tdd-consistency/#_2","title":"\u529f\u80fd","text":"<ul> <li>\u6aa2\u67e5\u5be6\u4f5c\u6a94\u6848\u662f\u5426\u5b58\u5728</li> <li>\u6aa2\u67e5\u5be6\u4f5c\u662f\u5426\u7b26\u5408 TDD \u898f\u7bc4</li> <li>\u6aa2\u67e5\u662f\u5426\u6709\u907a\u6f0f\u7684\u529f\u80fd</li> <li>\u63d0\u4f9b\u6539\u9032\u5efa\u8b70</li> </ul>"},{"location":"17_Cursor_Commands/check-tdd-consistency/#_3","title":"\u57f7\u884c","text":"<p>\u8acb\u5354\u52a9\u6211\u6aa2\u67e5\u6307\u5b9a ticket \u7684\u5be6\u4f5c\u8207 TDD \u4e00\u81f4\u6027\uff1a</p> <ol> <li>\u8b80\u53d6 TDD ticket \u6587\u4ef6\uff08\u4f8b\u5982\uff1a<code>12_Tickets/01_domain_model/TDD-001_Comment_Entity.md</code>\uff09</li> <li>\u6aa2\u67e5\u5be6\u4f5c\u6a94\u6848\u662f\u5426\u5b58\u5728\uff08\u6839\u64da TDD \u6587\u4ef6\u4e2d\u7684\u6a94\u6848\u7d50\u69cb\uff09</li> <li>\u6aa2\u67e5\u5be6\u4f5c\u662f\u5426\u7b26\u5408 TDD \u898f\u7bc4\uff1a</li> <li>\u547d\u540d\u898f\u7bc4</li> <li>\u6a94\u6848\u7d50\u69cb</li> <li>\u529f\u80fd\u5b8c\u6574\u6027</li> <li>\u6e2c\u8a66\u8986\u84cb\u7387</li> <li>\u6aa2\u67e5\u662f\u5426\u6709\u907a\u6f0f\u7684\u529f\u80fd</li> <li>\u63d0\u4f9b\u6539\u9032\u5efa\u8b70</li> </ol>"},{"location":"17_Cursor_Commands/check-tdd-consistency/#_4","title":"\u4f7f\u7528\u7bc4\u4f8b","text":"<p>\u6aa2\u67e5 TDD-001\uff1a <pre><code>\u8acb\u6aa2\u67e5 TDD-001 \u7684\u5be6\u4f5c\u662f\u5426\u8207 TDD \u6587\u4ef6\u4e00\u81f4\n</code></pre></p> <p>\u6aa2\u67e5\u591a\u500b tickets\uff1a <pre><code>\u8acb\u6aa2\u67e5 TDD-001, TDD-002, TDD-003 \u7684\u5be6\u4f5c\u662f\u5426\u8207 TDD \u6587\u4ef6\u4e00\u81f4\n</code></pre></p>"},{"location":"17_Cursor_Commands/check-tdd-consistency/#_5","title":"\u76f8\u95dc\u6587\u4ef6","text":"<ul> <li><code>12_Tickets/</code> - TDD ticket \u6587\u4ef6</li> <li><code>13_Implementation_Status/implementation_status.md</code> - \u5be6\u4f5c\u72c0\u614b</li> </ul>"},{"location":"17_Cursor_Commands/create-daily-log/","title":"Create Daily Log","text":"<p>\u5efa\u7acb\u4eca\u5929\u7684\u5de5\u4f5c\u65e5\u8a8c\u6587\u4ef6\u3002</p>"},{"location":"17_Cursor_Commands/create-daily-log/#_1","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<p>\u76f4\u63a5\u5728 Cursor \u4e2d\u57f7\u884c\u6b64\u547d\u4ee4\uff0c\u6216\u8aaa\u300c\u5efa\u7acb\u4eca\u5929\u7684\u5de5\u4f5c\u65e5\u8a8c\u300d</p>"},{"location":"17_Cursor_Commands/create-daily-log/#_2","title":"\u529f\u80fd","text":"<ul> <li>\u6839\u64da\u4eca\u5929\u7684\u65e5\u671f\u5efa\u7acb\u5de5\u4f5c\u65e5\u8a8c\u6587\u4ef6</li> <li>\u4f7f\u7528\u9810\u8a2d\u6a21\u677f\uff0c\u5305\u542b\u8207 Cursor \u5c0d\u8a71\u7d71\u6574\u90e8\u5206</li> </ul>"},{"location":"17_Cursor_Commands/create-daily-log/#_3","title":"\u57f7\u884c","text":"<pre><code>cd /Users/reedhsin/Documents/codebase/fcom-iOS/TDDs/LiveChat\\&amp;PrematchComment &amp;&amp; ./scripts/create_daily_log.sh\n</code></pre>"},{"location":"17_Cursor_Commands/create-daily-log/#_4","title":"\u751f\u6210\u7684\u6587\u4ef6","text":"<ul> <li><code>15_Daily_Logs/YYYY-MM-DD.md</code></li> </ul>"},{"location":"17_Cursor_Commands/daily-end/","title":"Daily End","text":"<p>\u6bcf\u5929\u7d50\u675f\u6642\u57f7\u884c\u7684\u5de5\u4f5c\u6d41\u7a0b\u3002</p>"},{"location":"17_Cursor_Commands/daily-end/#_1","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<p>\u76f4\u63a5\u5728 Cursor \u4e2d\u57f7\u884c\u6b64\u547d\u4ee4\uff0c\u6216\u8aaa\u300c\u7d50\u675f\u4eca\u5929\u7684\u5de5\u4f5c\u300d</p>"},{"location":"17_Cursor_Commands/daily-end/#_2","title":"\u529f\u80fd","text":"<p>\u4e00\u6b21\u6027\u57f7\u884c\uff1a 1. \u7d71\u6574\u7576\u5929\u5de5\u4f5c 2. \u66f4\u65b0\u5be6\u4f5c\u72c0\u614b 3. \u66f4\u65b0\u8b8a\u66f4\u65e5\u8a8c 4. \u7d71\u6574\u8207 Cursor \u7684\u5c0d\u8a71</p>"},{"location":"17_Cursor_Commands/daily-end/#_3","title":"\u57f7\u884c","text":"<pre><code>cd /Users/reedhsin/Documents/codebase/fcom-iOS/TDDs/LiveChat\\&amp;PrematchComment &amp;&amp; \\\n./scripts/summarize_daily_work.sh\n</code></pre> <p>\u7136\u5f8c\u8acb\u5354\u52a9\u6211\uff1a 1. \u6839\u64da\u4eca\u5929\u7684 git commits \u751f\u6210\u8b8a\u66f4\u8a18\u9304 2. \u66f4\u65b0 <code>13_Implementation_Status/implementation_status.md</code> 3. \u66f4\u65b0 <code>14_Changelog/CHANGELOG.md</code> 4. \u6aa2\u67e5\u5be6\u4f5c\u8207 TDD \u7684\u4e00\u81f4\u6027 5. \u7d71\u6574\u4eca\u5929\u8207\u4f60\u7684\u5c0d\u8a71\uff0c\u63d0\u53d6\u91cd\u8981\u6c7a\u7b56\u548c\u5b78\u7fd2\u8981\u9ede 6. \u751f\u6210\u660e\u5929\u7684\u8a08\u5283\u5efa\u8b70</p>"},{"location":"17_Cursor_Commands/daily-end/#_4","title":"\u751f\u6210\u7684\u6587\u4ef6","text":"<ul> <li><code>16_Cursor_Workflow/daily_summaries/YYYY-MM-DD.md</code></li> <li>\u66f4\u65b0\u7684 <code>13_Implementation_Status/implementation_status.md</code></li> <li>\u66f4\u65b0\u7684 <code>14_Changelog/CHANGELOG.md</code></li> </ul>"},{"location":"17_Cursor_Commands/daily-start/","title":"Daily Start","text":"<p>\u6bcf\u5929\u958b\u59cb\u6642\u57f7\u884c\u7684\u5de5\u4f5c\u6d41\u7a0b\u3002</p>"},{"location":"17_Cursor_Commands/daily-start/#_1","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<p>\u76f4\u63a5\u5728 Cursor \u4e2d\u57f7\u884c\u6b64\u547d\u4ee4\uff0c\u6216\u8aaa\u300c\u958b\u59cb\u4eca\u5929\u7684\u5de5\u4f5c\u300d</p>"},{"location":"17_Cursor_Commands/daily-start/#_2","title":"\u529f\u80fd","text":"<p>\u4e00\u6b21\u6027\u57f7\u884c\uff1a 1. \u751f\u6210\u4eca\u5929\u7684\u5de5\u4f5c\u8a08\u5283 2. \u5efa\u7acb\u4eca\u5929\u7684\u5de5\u4f5c\u65e5\u8a8c 3. \u8b80\u53d6\u5de5\u4f5c\u8a08\u5283\u4e26\u63d0\u4f9b\u5be6\u4f5c\u5efa\u8b70</p>"},{"location":"17_Cursor_Commands/daily-start/#_3","title":"\u57f7\u884c","text":"<pre><code>cd /Users/reedhsin/Documents/codebase/fcom-iOS/TDDs/LiveChat\\&amp;PrematchComment &amp;&amp; \\\n./scripts/generate_daily_plan.sh &amp;&amp; \\\n./scripts/create_daily_log.sh\n</code></pre> <p>\u7136\u5f8c\u8acb\u5354\u52a9\u6211\uff1a 1. \u8b80\u53d6\u4eca\u5929\u7684\u5de5\u4f5c\u8a08\u5283\uff08<code>16_Cursor_Workflow/daily_plans/YYYY-MM-DD.md</code>\uff09 2. \u8b80\u53d6\u76f8\u95dc\u7684 TDD \u6587\u4ef6 3. \u6aa2\u67e5\u73fe\u6709\u7684 codebase \u7d50\u69cb 4. \u63d0\u4f9b\u5be6\u4f5c\u5efa\u8b70\u548c\u6ce8\u610f\u4e8b\u9805 5. \u6aa2\u67e5\u4f9d\u8cf4\u95dc\u4fc2\u662f\u5426\u6eff\u8db3</p>"},{"location":"17_Cursor_Commands/daily-start/#_4","title":"\u751f\u6210\u7684\u6587\u4ef6","text":"<ul> <li><code>16_Cursor_Workflow/daily_plans/YYYY-MM-DD.md</code></li> <li><code>15_Daily_Logs/YYYY-MM-DD.md</code></li> </ul>"},{"location":"17_Cursor_Commands/deploy-tdd-to-mkdocs/","title":"Deploy TDD to MkDocs","text":"<p>\u90e8\u7f72 TDD \u6587\u6a94\u5230 GitHub Pages\u3002</p>"},{"location":"17_Cursor_Commands/deploy-tdd-to-mkdocs/#_1","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<p>\u5728 Cursor \u4e2d\u8f38\u5165\uff1a<code>@deploy-tdd-to-mkdocs</code></p> <p>\u6216\u76f4\u63a5\u8aaa\uff1a\u300c\u90e8\u7f72 TDD \u5230 MkDocs\u300d\u6216\u300c\u767c\u5e03 TDD \u6587\u6a94\u300d</p>"},{"location":"17_Cursor_Commands/deploy-tdd-to-mkdocs/#_2","title":"\u529f\u80fd\u8aaa\u660e","text":"<ol> <li>\u9032\u5165 TDD \u76ee\u9304</li> <li>\u5efa\u7f6e MkDocs \u6587\u6a94</li> <li>\u90e8\u7f72\u5230 GitHub Pages (gh-pages branch)</li> <li>\u986f\u793a\u90e8\u7f72\u72c0\u614b\u548c\u7db2\u7ad9 URL</li> </ol>"},{"location":"17_Cursor_Commands/deploy-tdd-to-mkdocs/#_3","title":"\u57f7\u884c\u6b65\u9a5f","text":"<pre><code>cd /Users/reedhsin/Documents/codebase/fcom-iOS/TDDs/LiveChat\\&amp;PrematchComment\n\n# 1. \u540c\u6b65 Cursor Commands\uff08\u53ef\u9078\uff0c\u5982\u679c\u5df2\u66f4\u65b0\u547d\u4ee4\u6587\u4ef6\uff09\n./scripts/sync_cursor_commands.sh\n\n# 2. \u5efa\u7f6e\u4e26\u90e8\u7f72\u5230 GitHub Pages\npython3 -m mkdocs gh-deploy\n</code></pre>"},{"location":"17_Cursor_Commands/deploy-tdd-to-mkdocs/#_4","title":"\u9810\u671f\u8f38\u51fa","text":"<ul> <li>MkDocs \u5efa\u7f6e\u6210\u529f\u8a0a\u606f</li> <li>\u63a8\u9001\u5230 gh-pages branch \u7684\u78ba\u8a8d</li> <li>\u7db2\u7ad9 URL: <code>https://hsinchunghan.github.io/LiveChatAndCommentOngoingFeature/</code></li> </ul>"},{"location":"17_Cursor_Commands/deploy-tdd-to-mkdocs/#_5","title":"\u6ce8\u610f\u4e8b\u9805","text":"<ul> <li>\u78ba\u4fdd repository \u5df2\u8a2d\u70ba\u516c\u958b</li> <li>\u78ba\u4fdd GitHub Pages \u8a2d\u7f6e\u9078\u64c7 \"Deploy from a branch\" \u548c <code>gh-pages</code> branch</li> <li>\u90e8\u7f72\u5f8c\u9700\u8981\u7b49\u5f85 5-10 \u5206\u9418\u8b93 GitHub Pages \u5b8c\u6210\u90e8\u7f72</li> <li>\u5982\u679c\u9047\u5230\u554f\u984c\uff0c\u53ef\u4ee5\u52a0\u4e0a <code>--force</code> \u53c3\u6578\u5f37\u5236\u91cd\u65b0\u90e8\u7f72</li> </ul>"},{"location":"17_Cursor_Commands/deploy-tdd-to-mkdocs/#_6","title":"\u76f8\u95dc\u9023\u7d50","text":"<ul> <li>TDD \u76ee\u9304: <code>/Users/reedhsin/Documents/codebase/fcom-iOS/TDDs/LiveChat&amp;PrematchComment</code></li> <li>GitHub Repository: <code>https://github.com/HsinChungHan/LiveChatAndCommentOngoingFeature</code></li> <li>GitHub Pages URL: <code>https://hsinchunghan.github.io/LiveChatAndCommentOngoingFeature/</code></li> <li>GitHub Pages \u8a2d\u7f6e: <code>https://github.com/HsinChungHan/LiveChatAndCommentOngoingFeature/settings/pages</code></li> </ul>"},{"location":"17_Cursor_Commands/deploy-tdd-to-mkdocs/#_7","title":"\u6545\u969c\u6392\u9664","text":"<p>\u5982\u679c\u90e8\u7f72\u5931\u6557\uff1a 1. \u6aa2\u67e5 repository \u662f\u5426\u70ba\u516c\u958b 2. \u78ba\u8a8d GitHub Pages \u8a2d\u7f6e\u6b63\u78ba 3. \u6aa2\u67e5 gh-pages branch \u662f\u5426\u5b58\u5728 4. \u5617\u8a66\u4f7f\u7528 <code>--force</code> \u53c3\u6578\u91cd\u65b0\u90e8\u7f72</p>"},{"location":"17_Cursor_Commands/generate-daily-plan/","title":"Generate Daily Plan","text":"<p>\u6839\u64da\u4eca\u5929\u7684\u65e5\u671f\uff0c\u81ea\u52d5\u751f\u6210\u7576\u5929\u7684\u5de5\u4f5c\u8a08\u5283\uff0c\u5305\u542b\u5c0d\u61c9\u7684 Jira parent tickets \u548c child tickets\u3002</p>"},{"location":"17_Cursor_Commands/generate-daily-plan/#_1","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<p>\u76f4\u63a5\u5728 Cursor \u4e2d\u57f7\u884c\u6b64\u547d\u4ee4\uff0c\u6216\u8aaa\u300c\u751f\u6210\u4eca\u5929\u7684\u5de5\u4f5c\u8a08\u5283\u300d</p>"},{"location":"17_Cursor_Commands/generate-daily-plan/#_2","title":"\u529f\u80fd","text":"<ul> <li>\u6839\u64da\u4eca\u5929\u7684\u65e5\u671f\u627e\u51fa\u5c0d\u61c9\u7684 tickets</li> <li>\u5f9e\u8cc7\u6599\u5eab\u53d6\u5f97 Jira \u8cc7\u8a0a\uff08\u9023\u7d50\u3001\u4f30\u6642\u3001\u72c0\u614b\uff09</li> <li>\u8b58\u5225 parent tickets \u548c child tickets</li> <li>\u751f\u6210\u5305\u542b\u8207 Cursor \u5354\u4f5c\u8a08\u5283\u7684\u5de5\u4f5c\u8a08\u5283\u6587\u4ef6</li> </ul>"},{"location":"17_Cursor_Commands/generate-daily-plan/#_3","title":"\u57f7\u884c","text":"<pre><code>cd /Users/reedhsin/Documents/codebase/fcom-iOS/TDDs/LiveChat\\&amp;PrematchComment &amp;&amp; ./scripts/generate_daily_plan.sh\n</code></pre>"},{"location":"17_Cursor_Commands/generate-daily-plan/#_4","title":"\u751f\u6210\u7684\u6587\u4ef6","text":"<ul> <li><code>16_Cursor_Workflow/daily_plans/YYYY-MM-DD.md</code></li> </ul>"},{"location":"17_Cursor_Commands/review-cursor-conversations/","title":"Review Cursor Conversations","text":"<p>\u7d71\u6574\u8207 Cursor \u7684\u5c0d\u8a71\uff0c\u63d0\u53d6\u91cd\u8981\u6c7a\u7b56\u548c\u5b78\u7fd2\u8981\u9ede\u3002</p>"},{"location":"17_Cursor_Commands/review-cursor-conversations/#_1","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<p>\u76f4\u63a5\u5728 Cursor \u4e2d\u57f7\u884c\u6b64\u547d\u4ee4\uff0c\u6216\u8aaa\u300c\u7d71\u6574\u5c0d\u8a71\u300d</p>"},{"location":"17_Cursor_Commands/review-cursor-conversations/#_2","title":"\u529f\u80fd","text":"<ul> <li>\u7d71\u6574\u4eca\u5929\u8207 Cursor \u7684\u91cd\u8981\u5c0d\u8a71</li> <li>\u63d0\u53d6\u91cd\u8981\u6c7a\u7b56</li> <li>\u63d0\u53d6\u5b78\u7fd2\u8981\u9ede</li> <li>\u751f\u6210\u5c0d\u8a71\u6458\u8981</li> </ul>"},{"location":"17_Cursor_Commands/review-cursor-conversations/#_3","title":"\u57f7\u884c","text":"<p>\u8acb\u5354\u52a9\u6211\u7d71\u6574\u4eca\u5929\u8207\u4f60\u7684\u5c0d\u8a71\uff1a</p> <ol> <li>\u56de\u9867\u4eca\u5929\u7684\u91cd\u8981\u5c0d\u8a71\uff08\u5982\u679c\u6709\u7684\u8a71\uff09</li> <li>\u63d0\u53d6\u91cd\u8981\u6c7a\u7b56\uff1a</li> <li>\u5be6\u4f5c\u6c7a\u7b56</li> <li>\u67b6\u69cb\u6c7a\u7b56</li> <li>\u6280\u8853\u9078\u578b</li> <li>\u63d0\u53d6\u5b78\u7fd2\u8981\u9ede\uff1a</li> <li>\u65b0\u5b78\u5230\u7684\u77e5\u8b58</li> <li>\u6700\u4f73\u5be6\u8e10</li> <li>\u6539\u9032\u5efa\u8b70</li> <li>\u751f\u6210\u5c0d\u8a71\u6458\u8981</li> <li>\u66f4\u65b0\u5de5\u4f5c\u65e5\u8a8c\u4e2d\u7684\u300c\u8207 Cursor \u7684\u5c0d\u8a71\u7d71\u6574\u300d\u90e8\u5206</li> </ol>"},{"location":"17_Cursor_Commands/review-cursor-conversations/#_4","title":"\u8f38\u51fa\u683c\u5f0f","text":""},{"location":"17_Cursor_Commands/review-cursor-conversations/#_5","title":"\u91cd\u8981\u6c7a\u7b56","text":""},{"location":"17_Cursor_Commands/review-cursor-conversations/#_6","title":"\u5b78\u7fd2\u8981\u9ede","text":""},{"location":"17_Cursor_Commands/review-cursor-conversations/#_7","title":"\u6539\u9032\u5efa\u8b70","text":""},{"location":"17_Cursor_Commands/review-cursor-conversations/#_8","title":"\u76f8\u95dc\u6587\u4ef6","text":"<ul> <li><code>15_Daily_Logs/YYYY-MM-DD.md</code> - \u5de5\u4f5c\u65e5\u8a8c</li> <li><code>16_Cursor_Workflow/daily_summaries/YYYY-MM-DD.md</code> - \u5de5\u4f5c\u7d71\u6574</li> </ul>"},{"location":"17_Cursor_Commands/summarize-daily-work/","title":"Summarize Daily Work","text":"<p>\u7d71\u6574\u7576\u5929\u7684\u5de5\u4f5c\uff0c\u5305\u542b\u8207 Cursor \u7684\u5c0d\u8a71\u7d71\u6574\u3002</p>"},{"location":"17_Cursor_Commands/summarize-daily-work/#_1","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<p>\u76f4\u63a5\u5728 Cursor \u4e2d\u57f7\u884c\u6b64\u547d\u4ee4\uff0c\u6216\u8aaa\u300c\u7d71\u6574\u4eca\u5929\u7684\u5de5\u4f5c\u300d</p>"},{"location":"17_Cursor_Commands/summarize-daily-work/#_2","title":"\u529f\u80fd","text":"<ul> <li>\u8b80\u53d6\u7576\u5929\u7684\u5de5\u4f5c\u8a08\u5283\u548c\u5de5\u4f5c\u65e5\u8a8c</li> <li>\u751f\u6210\u5de5\u4f5c\u7d71\u6574\u6587\u4ef6</li> <li>\u5305\u542b\u8207 Cursor \u5c0d\u8a71\u7d71\u6574\u6a21\u677f</li> </ul>"},{"location":"17_Cursor_Commands/summarize-daily-work/#_3","title":"\u57f7\u884c","text":"<pre><code>cd /Users/reedhsin/Documents/codebase/fcom-iOS/TDDs/LiveChat\\&amp;PrematchComment &amp;&amp; ./scripts/summarize_daily_work.sh\n</code></pre>"},{"location":"17_Cursor_Commands/summarize-daily-work/#_4","title":"\u751f\u6210\u7684\u6587\u4ef6","text":"<ul> <li><code>16_Cursor_Workflow/daily_summaries/YYYY-MM-DD.md</code></li> </ul>"},{"location":"17_Cursor_Commands/summarize-daily-work/#_5","title":"\u5f8c\u7e8c\u6b65\u9a5f","text":"<p>\u57f7\u884c\u5f8c\uff0c\u8acb\u624b\u52d5\u586b\u5beb\uff1a 1. \u5b8c\u6210\u9805\u76ee\uff08\u5f9e\u5de5\u4f5c\u65e5\u8a8c\u4e2d\u63d0\u53d6\uff09 2. \u8207 Cursor \u7684\u5c0d\u8a71\u7d71\u6574 3. \u5de5\u4f5c\u7d71\u8a08 4. \u53cd\u601d\u8207\u5b78\u7fd2</p>"},{"location":"17_Cursor_Commands/update-changelog/","title":"Update Changelog","text":"<p>\u6839\u64da\u4eca\u5929\u7684 git commits \u66f4\u65b0\u8b8a\u66f4\u65e5\u8a8c\u3002</p>"},{"location":"17_Cursor_Commands/update-changelog/#_1","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<p>\u76f4\u63a5\u5728 Cursor \u4e2d\u57f7\u884c\u6b64\u547d\u4ee4\uff0c\u6216\u8aaa\u300c\u66f4\u65b0\u8b8a\u66f4\u65e5\u8a8c\u300d</p>"},{"location":"17_Cursor_Commands/update-changelog/#_2","title":"\u529f\u80fd","text":"<ul> <li>\u8b80\u53d6\u4eca\u5929\u7684 git commits</li> <li>\u5c0d\u61c9\u5230\u76f8\u95dc\u7684 TDD ticket</li> <li>\u751f\u6210\u8b8a\u66f4\u8a18\u9304</li> <li>\u66f4\u65b0 CHANGELOG.md</li> </ul>"},{"location":"17_Cursor_Commands/update-changelog/#_3","title":"\u57f7\u884c","text":"<p>\u8acb\u5354\u52a9\u6211\uff1a 1. \u8b80\u53d6\u4eca\u5929\u7684 git commits\uff08\u4f7f\u7528 <code>git log --since=\"today 00:00\" --oneline</code>\uff09 2. \u5206\u6790\u6bcf\u500b commit \u5c0d\u61c9\u7684 TDD ticket 3. \u751f\u6210\u8b8a\u66f4\u8a18\u9304\u683c\u5f0f 4. \u66f4\u65b0 <code>14_Changelog/CHANGELOG.md</code> 5. \u66f4\u65b0 <code>13_Implementation_Status/implementation_status.md</code>\uff08\u5982\u679c ticket \u5b8c\u6210\uff09</p>"},{"location":"17_Cursor_Commands/update-changelog/#_4","title":"\u8b8a\u66f4\u985e\u578b","text":"<ul> <li>\u2705 \u5b8c\u6210\uff1a\u65b0\u529f\u80fd\u6216 Ticket \u5b8c\u6210</li> <li>\ud83d\udea7 \u9032\u884c\u4e2d\uff1a\u6b63\u5728\u9032\u884c\u7684\u529f\u80fd</li> <li>\ud83d\udc1b Bug \u4fee\u5fa9\uff1a\u4fee\u5fa9\u7684\u554f\u984c</li> <li>\u267b\ufe0f \u91cd\u69cb\uff1a\u7a0b\u5f0f\u78bc\u91cd\u69cb</li> <li>\ud83d\udcdd \u6587\u4ef6\u66f4\u65b0\uff1aTDD \u6216\u6587\u4ef6\u66f4\u65b0</li> <li>\u26a0\ufe0f \u554f\u984c\u767c\u73fe\uff1a\u767c\u73fe\u7684\u554f\u984c\u6216\u98a8\u96aa</li> </ul>"},{"location":"17_Cursor_Commands/update-changelog/#_5","title":"\u76f8\u95dc\u6587\u4ef6","text":"<ul> <li><code>14_Changelog/CHANGELOG.md</code></li> <li><code>13_Implementation_Status/implementation_status.md</code></li> </ul>"},{"location":"17_Cursor_Commands/update-implementation-status/","title":"Update Implementation Status","text":"<p>\u66f4\u65b0\u5be6\u4f5c\u72c0\u614b\u8ffd\u8e64\u8868\uff0c\u6aa2\u67e5\u5be6\u4f5c\u8207 TDD \u7684\u4e00\u81f4\u6027\u3002</p>"},{"location":"17_Cursor_Commands/update-implementation-status/#_1","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<p>\u76f4\u63a5\u5728 Cursor \u4e2d\u57f7\u884c\u6b64\u547d\u4ee4\uff0c\u6216\u8aaa\u300c\u66f4\u65b0\u5be6\u4f5c\u72c0\u614b\u300d</p>"},{"location":"17_Cursor_Commands/update-implementation-status/#_2","title":"\u529f\u80fd","text":"<ul> <li>\u6aa2\u67e5\u4eca\u5929\u7684\u5be6\u4f5c\u9032\u5ea6</li> <li>\u66f4\u65b0 implementation_status.md</li> <li>\u6aa2\u67e5\u5be6\u4f5c\u6a94\u6848\u662f\u5426\u5b58\u5728</li> <li>\u6aa2\u67e5\u5be6\u4f5c\u662f\u5426\u7b26\u5408 TDD \u898f\u7bc4</li> </ul>"},{"location":"17_Cursor_Commands/update-implementation-status/#_3","title":"\u57f7\u884c","text":"<p>\u8acb\u5354\u52a9\u6211\uff1a 1. \u8b80\u53d6 <code>13_Implementation_Status/implementation_status.md</code> 2. \u6839\u64da\u4eca\u5929\u7684 git commits \u627e\u51fa\u76f8\u95dc\u7684 tickets 3. \u6aa2\u67e5\u5be6\u4f5c\u6a94\u6848\u662f\u5426\u5b58\u5728 4. \u66f4\u65b0\u5be6\u4f5c\u72c0\u614b\uff08\u9032\u884c\u4e2d/\u5df2\u5b8c\u6210\uff09 5. \u6aa2\u67e5\u5be6\u4f5c\u662f\u5426\u7b26\u5408 TDD \u898f\u7bc4 6. \u66f4\u65b0 implementation_status.md</p>"},{"location":"17_Cursor_Commands/update-implementation-status/#_4","title":"\u76f8\u95dc\u6587\u4ef6","text":"<ul> <li><code>13_Implementation_Status/implementation_status.md</code></li> <li><code>14_Changelog/CHANGELOG.md</code></li> </ul>"}]}