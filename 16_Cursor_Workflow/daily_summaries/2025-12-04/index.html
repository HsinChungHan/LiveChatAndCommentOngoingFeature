<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Technical Design Document for LiveChat and PrematchComment Features"><meta name=author content="TDD Team"><link href=../2025-12-03_daily_end/ rel=prev><link href=../2025-12-08/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.0"><title>å·¥ä½œç¸½çµ - 2025-12-04 - LiveChat & PrematchComment TDD</title><link rel=stylesheet href=../../../assets/stylesheets/main.618322db.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#2025-12-04 class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="LiveChat & PrematchComment TDD" class="md-header__button md-logo" aria-label="LiveChat & PrematchComment TDD" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> LiveChat & PrematchComment TDD </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> å·¥ä½œç¸½çµ - 2025-12-04 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../00_Overview/01_overview/ class=md-tabs__link> Overview </a> </li> <li class=md-tabs__item> <a href=../../../01_Integrated%20Service-Level%20Sequence%20Diagram/01_full_integration_flow/ class=md-tabs__link> Integrated Service-Level Sequence Diagram </a> </li> <li class=md-tabs__item> <a href=../../../02_Architecture/01_clean_architecture_diagram/ class=md-tabs__link> Architecture </a> </li> <li class=md-tabs__item> <a href=../../../03_Module%20Responsibility/01_module_responsibility/ class=md-tabs__link> Module Responsibility </a> </li> <li class=md-tabs__item> <a href=../../../04_Domain%20Model/01_domain_model/ class=md-tabs__link> Domain Model </a> </li> <li class=md-tabs__item> <a href=../../../05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/01_data_initialization_initialize_chatroom/ class=md-tabs__link> Module Sequence Diagram </a> </li> <li class=md-tabs__item> <a href=../../../06_Feature%20State%20%26%20Action%20%28TCA%29/01_feature_state_action/ class=md-tabs__link> Feature State & Action (TCA) </a> </li> <li class=md-tabs__item> <a href=../../../07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/ class=md-tabs__link> UseCase Input & Output Model </a> </li> <li class=md-tabs__item> <a href=../../../08_API%20Spec%20%26%20Mapping/01_api_spec/ class=md-tabs__link> API Spec & Mapping </a> </li> <li class=md-tabs__item> <a href=../../../09_Error%20Handling/01_error_handling/ class=md-tabs__link> Error Handling </a> </li> <li class=md-tabs__item> <a href=../../../10_Test%20Scenarios/01_test_scenarios/ class=md-tabs__link> Test Scenarios </a> </li> <li class=md-tabs__item> <a href=../../../11_Risks%20%26%20Questions/01_risks_questions/ class=md-tabs__link> Risks & Questions </a> </li> <li class=md-tabs__item> <a href=../../../12_Tickets/ class=md-tabs__link> Tickets </a> </li> <li class=md-tabs__item> <a href=../../../17_Cursor_Commands/ class=md-tabs__link> Cursor Commands </a> </li> <li class=md-tabs__item> <a href=../../../13_Implementation_Status/ class=md-tabs__link> Implementation Status </a> </li> <li class=md-tabs__item> <a href=../../../14_Changelog/ class=md-tabs__link> Changelog </a> </li> <li class=md-tabs__item> <a href=../../../15_Daily_Logs/ class=md-tabs__link> Daily Logs </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../ class=md-tabs__link> Cursor Workflow </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="LiveChat & PrematchComment TDD" class="md-nav__button md-logo" aria-label="LiveChat & PrematchComment TDD" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> LiveChat & PrematchComment TDD </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex=0> <span class=md-ellipsis> Overview </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Overview </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../00_Overview/01_overview/ class=md-nav__link> <span class=md-ellipsis> LiveChat &amp; PrematchComment Feature çµ„åˆæ¦‚è¿° </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Integrated Service-Level Sequence Diagram </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Integrated Service-Level Sequence Diagram </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../01_Integrated%20Service-Level%20Sequence%20Diagram/01_full_integration_flow/ class=md-nav__link> <span class=md-ellipsis> å®Œæ•´æ•´åˆæµç¨‹åºåˆ—åœ– </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Architecture </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../02_Architecture/01_clean_architecture_diagram/ class=md-nav__link> <span class=md-ellipsis> Clean Architecture æ¶æ§‹åœ– </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Module Responsibility </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Module Responsibility </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../03_Module%20Responsibility/01_module_responsibility/ class=md-nav__link> <span class=md-ellipsis> æ¨¡çµ„è·è²¬èªªæ˜ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Domain Model </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Domain Model </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../04_Domain%20Model/01_domain_model/ class=md-nav__link> <span class=md-ellipsis> Domain Model å®šç¾© </span> </a> </li> <li class=md-nav__item> <a href=../../../04_Domain%20Model/02_domain_model_uml_standard/ class=md-nav__link> <span class=md-ellipsis> Domain Model UML æ¨™æº–é—œä¿‚åœ– </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Module Sequence Diagram </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Module Sequence Diagram </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1 id=__nav_6_1_label tabindex=0> <span class=md-ellipsis> LiveChat </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> LiveChat </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/01_data_initialization_initialize_chatroom/ class=md-nav__link> <span class=md-ellipsis> åˆå§‹åŒ–èŠå¤©å®¤æµç¨‹ </span> </a> </li> <li class=md-nav__item> <a href=../../../05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/02_data_interaction_send_message/ class=md-nav__link> <span class=md-ellipsis> ç™¼é€èŠå¤©è¨Šæ¯æµç¨‹ </span> </a> </li> <li class=md-nav__item> <a href=../../../05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/03_structural_navigation_block_user/ class=md-nav__link> <span class=md-ellipsis> å°é–ç”¨æˆ¶æµç¨‹ </span> </a> </li> <li class=md-nav__item> <a href=../../../05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/LiveChat/Module%20Sequence%20Diagrams/04_structural_navigation_profile/ class=md-nav__link> <span class=md-ellipsis> è·³è½‰å€‹äººä¸»é æµç¨‹ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class=md-ellipsis> PrematchComment </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> PrematchComment </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/01_data_initialization_refresh/ class=md-nav__link> <span class=md-ellipsis> åˆå§‹åŒ–èˆ‡åˆ·æ–°ç•™è¨€åˆ—è¡¨æµç¨‹ </span> </a> </li> <li class=md-nav__item> <a href=../../../05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/02_data_interaction_publish_comment/ class=md-nav__link> <span class=md-ellipsis> ç™¼é€ç•™è¨€æµç¨‹ </span> </a> </li> <li class=md-nav__item> <a href=../../../05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/03_data_interaction_toggle_like/ class=md-nav__link> <span class=md-ellipsis> åˆ‡æ› Like ç‹€æ…‹æµç¨‹ </span> </a> </li> <li class=md-nav__item> <a href=../../../05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/04_data_interaction_load_replies/ class=md-nav__link> <span class=md-ellipsis> è¼‰å…¥å›è¦†åˆ—è¡¨æµç¨‹ </span> </a> </li> <li class=md-nav__item> <a href=../../../05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/05_structural_navigation_profile/ class=md-nav__link> <span class=md-ellipsis> è·³è½‰å€‹äººä¸»é æµç¨‹ </span> </a> </li> <li class=md-nav__item> <a href=../../../05.%20Module%20Sequence%20Diagram%EF%BC%88%E6%A8%A1%E7%B5%84%E5%BA%8F%E5%88%97%E5%9C%96%EF%BC%89/PrematchComment/Module%20Sequence%20Diagrams/06_event_status_subscription/ class=md-nav__link> <span class=md-ellipsis> Event Status è¨‚é–±èˆ‡é€šçŸ¥æµç¨‹ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Feature State & Action (TCA) </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Feature State & Action (TCA) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../06_Feature%20State%20%26%20Action%20%28TCA%29/01_feature_state_action/ class=md-nav__link> <span class=md-ellipsis> Feature State &amp; Action (TCA) </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> UseCase Input & Output Model </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> UseCase Input & Output Model </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../07_UseCase%20Input%20%26%20Output%20Model/01_usecase_input_output/ class=md-nav__link> <span class=md-ellipsis> UseCase Input &amp; Output Model </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> <span class=md-ellipsis> API Spec & Mapping </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> API Spec & Mapping </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../08_API%20Spec%20%26%20Mapping/01_api_spec/ class=md-nav__link> <span class=md-ellipsis> API Spec &amp; Mapping </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_10> <label class=md-nav__link for=__nav_10 id=__nav_10_label tabindex=0> <span class=md-ellipsis> Error Handling </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Error Handling </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../09_Error%20Handling/01_error_handling/ class=md-nav__link> <span class=md-ellipsis> Error Handling </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_11> <label class=md-nav__link for=__nav_11 id=__nav_11_label tabindex=0> <span class=md-ellipsis> Test Scenarios </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_11_label aria-expanded=false> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Test Scenarios </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../10_Test%20Scenarios/01_test_scenarios/ class=md-nav__link> <span class=md-ellipsis> Test Scenarios </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12> <label class=md-nav__link for=__nav_12 id=__nav_12_label tabindex=0> <span class=md-ellipsis> Risks & Questions </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_12_label aria-expanded=false> <label class=md-nav__title for=__nav_12> <span class="md-nav__icon md-icon"></span> Risks & Questions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../11_Risks%20%26%20Questions/01_risks_questions/ class=md-nav__link> <span class=md-ellipsis> Risks &amp; Questions </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_13> <label class=md-nav__link for=__nav_13 id=__nav_13_label tabindex=0> <span class=md-ellipsis> Tickets </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_13_label aria-expanded=false> <label class=md-nav__title for=__nav_13> <span class="md-nav__icon md-icon"></span> Tickets </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../12_Tickets/ class=md-nav__link> <span class=md-ellipsis> Tickets </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/ticket_timeline/ class=md-nav__link> <span class=md-ellipsis> Ticket å¯¦ä½œæ™‚é–“è¡¨ </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_13_3> <label class=md-nav__link for=__nav_13_3 id=__nav_13_3_label tabindex=0> <span class=md-ellipsis> Domain Model </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_3_label aria-expanded=false> <label class=md-nav__title for=__nav_13_3> <span class="md-nav__icon md-icon"></span> Domain Model </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../12_Tickets/01_domain_model/TDD-001_Comment_Entity/ class=md-nav__link> <span class=md-ellipsis> TDD-001: Comment Entity </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/01_domain_model/TDD-002_CommentMeta_Entity/ class=md-nav__link> <span class=md-ellipsis> TDD-002: CommentMeta Entity </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/01_domain_model/TDD-003_UserInfo_Entity/ class=md-nav__link> <span class=md-ellipsis> TDD-003: UserInfo Entity </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/01_domain_model/TDD-004_Message_Entity/ class=md-nav__link> <span class=md-ellipsis> TDD-004: Message Entity </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/01_domain_model/TDD-005_ChatroomInfo_Entity/ class=md-nav__link> <span class=md-ellipsis> TDD-005: ChatroomInfo Entity </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/01_domain_model/TDD-006_ValueObjects/ class=md-nav__link> <span class=md-ellipsis> TDD-006: Value Objects </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_13_4> <label class=md-nav__link for=__nav_13_4 id=__nav_13_4_label tabindex=0> <span class=md-ellipsis> API </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_4_label aria-expanded=false> <label class=md-nav__title for=__nav_13_4> <span class="md-nav__icon md-icon"></span> API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../12_Tickets/02_api/TDD-010_PrematchCommentAPI/ class=md-nav__link> <span class=md-ellipsis> TDD-010: PrematchCommentAPI </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/02_api/TDD-011_ChatAPI/ class=md-nav__link> <span class=md-ellipsis> TDD-011: ChatAPI </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_13_5> <label class=md-nav__link for=__nav_13_5 id=__nav_13_5_label tabindex=0> <span class=md-ellipsis> Client </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_5_label aria-expanded=false> <label class=md-nav__title for=__nav_13_5> <span class="md-nav__icon md-icon"></span> Client </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../12_Tickets/03_client/TDD-020_PrematchCommentClient/ class=md-nav__link> <span class=md-ellipsis> TDD-020: PrematchCommentClient </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/03_client/TDD-021_LiveChatClient/ class=md-nav__link> <span class=md-ellipsis> TDD-021: LiveChatClient </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/03_client/TDD-022_ChatWebSocketClient/ class=md-nav__link> <span class=md-ellipsis> TDD-022: ChatWebSocketClient </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_13_6> <label class=md-nav__link for=__nav_13_6 id=__nav_13_6_label tabindex=0> <span class=md-ellipsis> Repository </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_6_label aria-expanded=false> <label class=md-nav__title for=__nav_13_6> <span class="md-nav__icon md-icon"></span> Repository </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../12_Tickets/04_repository/TDD-030_PrematchCommentRepository/ class=md-nav__link> <span class=md-ellipsis> TDD-030: PrematchCommentRepository </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/04_repository/TDD-031_LiveChatRepository/ class=md-nav__link> <span class=md-ellipsis> TDD-031: LiveChatRepository </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_13_7> <label class=md-nav__link for=__nav_13_7 id=__nav_13_7_label tabindex=0> <span class=md-ellipsis> UseCase </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_7_label aria-expanded=false> <label class=md-nav__title for=__nav_13_7> <span class="md-nav__icon md-icon"></span> UseCase </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../12_Tickets/05_usecase/TDD-040_ReloadCommentListUseCase/ class=md-nav__link> <span class=md-ellipsis> TDD-040: ReloadCommentListUseCase </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/05_usecase/TDD-041_PublishCommentUseCase/ class=md-nav__link> <span class=md-ellipsis> TDD-041: PublishCommentUseCase </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/05_usecase/TDD-042_ToggleLikeUseCase/ class=md-nav__link> <span class=md-ellipsis> TDD-042: ToggleLikeUseCase </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/05_usecase/TDD-043_LoadRepliesUseCase/ class=md-nav__link> <span class=md-ellipsis> TDD-043: LoadRepliesUseCase </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/05_usecase/TDD-044_NavigateToProfileUseCase/ class=md-nav__link> <span class=md-ellipsis> TDD-044: NavigateToProfileUseCase </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/05_usecase/TDD-045_SendChatMessageUseCase/ class=md-nav__link> <span class=md-ellipsis> TDD-045: SendChatMessageUseCase </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/05_usecase/TDD-046_JoinChatroomUseCase/ class=md-nav__link> <span class=md-ellipsis> TDD-046: JoinChatroomUseCase </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/05_usecase/TDD-047_LeaveChatroomUseCase/ class=md-nav__link> <span class=md-ellipsis> TDD-047: LeaveChatroomUseCase </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/05_usecase/TDD-048_BlockUserUseCase/ class=md-nav__link> <span class=md-ellipsis> TDD-048: BlockUserUseCase </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_13_8> <label class=md-nav__link for=__nav_13_8 id=__nav_13_8_label tabindex=0> <span class=md-ellipsis> Feature </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_8_label aria-expanded=false> <label class=md-nav__title for=__nav_13_8> <span class="md-nav__icon md-icon"></span> Feature </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../12_Tickets/06_feature/TDD-050_PrematchCommentFeature/ class=md-nav__link> <span class=md-ellipsis> TDD-050: PrematchCommentFeature </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/06_feature/TDD-051_LiveChatFeature/ class=md-nav__link> <span class=md-ellipsis> TDD-051: LiveChatFeature </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_13_9> <label class=md-nav__link for=__nav_13_9 id=__nav_13_9_label tabindex=0> <span class=md-ellipsis> View </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_9_label aria-expanded=false> <label class=md-nav__title for=__nav_13_9> <span class="md-nav__icon md-icon"></span> View </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../12_Tickets/07_view/TDD-060_PrematchCommentView/ class=md-nav__link> <span class=md-ellipsis> TDD-060: PrematchCommentView </span> </a> </li> <li class=md-nav__item> <a href=../../../12_Tickets/07_view/TDD-061_LiveDetailView/ class=md-nav__link> <span class=md-ellipsis> TDD-061: LiveDetailView </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_14> <label class=md-nav__link for=__nav_14 id=__nav_14_label tabindex=0> <span class=md-ellipsis> Cursor Commands </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_14_label aria-expanded=false> <label class=md-nav__title for=__nav_14> <span class="md-nav__icon md-icon"></span> Cursor Commands </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../17_Cursor_Commands/ class=md-nav__link> <span class=md-ellipsis> Cursor å·¥ä½œæµå‘½ä»¤ </span> </a> </li> <li class=md-nav__item> <a href=../../../17_Cursor_Commands/WORKFLOW_GUIDE/ class=md-nav__link> <span class=md-ellipsis> Cursor Commands å·¥ä½œæµç¨‹åœ–èˆ‡ä½¿ç”¨æ™‚æ©Ÿ </span> </a> </li> <li class=md-nav__item> <a href=../../../17_Cursor_Commands/QUICK_REFERENCE/ class=md-nav__link> <span class=md-ellipsis> Cursor Commands å¿«é€Ÿåƒè€ƒ </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_14_4> <label class=md-nav__link for=__nav_14_4 id=__nav_14_4_label tabindex=0> <span class=md-ellipsis> Daily Workflow </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_14_4_label aria-expanded=false> <label class=md-nav__title for=__nav_14_4> <span class="md-nav__icon md-icon"></span> Daily Workflow </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../17_Cursor_Commands/daily-start/ class=md-nav__link> <span class=md-ellipsis> Daily Start </span> </a> </li> <li class=md-nav__item> <a href=../../../17_Cursor_Commands/generate-daily-plan/ class=md-nav__link> <span class=md-ellipsis> Generate Daily Plan </span> </a> </li> <li class=md-nav__item> <a href=../../../17_Cursor_Commands/create-daily-log/ class=md-nav__link> <span class=md-ellipsis> Create Daily Log </span> </a> </li> <li class=md-nav__item> <a href=../../../17_Cursor_Commands/daily-end/ class=md-nav__link> <span class=md-ellipsis> Daily End </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_14_5> <label class=md-nav__link for=__nav_14_5 id=__nav_14_5_label tabindex=0> <span class=md-ellipsis> Development Workflow </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_14_5_label aria-expanded=false> <label class=md-nav__title for=__nav_14_5> <span class="md-nav__icon md-icon"></span> Development Workflow </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../17_Cursor_Commands/update-implementation-status/ class=md-nav__link> <span class=md-ellipsis> Update Implementation Status </span> </a> </li> <li class=md-nav__item> <a href=../../../17_Cursor_Commands/update-changelog/ class=md-nav__link> <span class=md-ellipsis> Update Changelog </span> </a> </li> <li class=md-nav__item> <a href=../../../17_Cursor_Commands/check-tdd-consistency/ class=md-nav__link> <span class=md-ellipsis> Check TDD Consistency </span> </a> </li> <li class=md-nav__item> <a href=../../../17_Cursor_Commands/deploy-tdd-to-mkdocs/ class=md-nav__link> <span class=md-ellipsis> Deploy TDD to MkDocs </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_14_6> <label class=md-nav__link for=__nav_14_6 id=__nav_14_6_label tabindex=0> <span class=md-ellipsis> Review & Summary </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_14_6_label aria-expanded=false> <label class=md-nav__title for=__nav_14_6> <span class="md-nav__icon md-icon"></span> Review & Summary </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../17_Cursor_Commands/review-cursor-conversations/ class=md-nav__link> <span class=md-ellipsis> Review Cursor Conversations </span> </a> </li> <li class=md-nav__item> <a href=../../../17_Cursor_Commands/summarize-daily-work/ class=md-nav__link> <span class=md-ellipsis> Summarize Daily Work </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_15> <label class=md-nav__link for=__nav_15 id=__nav_15_label tabindex=0> <span class=md-ellipsis> Implementation Status </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_15_label aria-expanded=false> <label class=md-nav__title for=__nav_15> <span class="md-nav__icon md-icon"></span> Implementation Status </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../13_Implementation_Status/ class=md-nav__link> <span class=md-ellipsis> å¯¦ä½œç‹€æ…‹è¿½è¹¤ </span> </a> </li> <li class=md-nav__item> <a href=../../../13_Implementation_Status/implementation_status/ class=md-nav__link> <span class=md-ellipsis> å¯¦ä½œç‹€æ…‹è¿½è¹¤ </span> </a> </li> <li class=md-nav__item> <a href=../../../13_Implementation_Status/TDD-022_ChatWebSocketClient_Consistency_Check/ class=md-nav__link> <span class=md-ellipsis> TDD-022 ChatWebSocketClient ä¸€è‡´æ€§æª¢æŸ¥å ±å‘Š </span> </a> </li> <li class=md-nav__item> <a href=../../../13_Implementation_Status/tdd_consistency_check_2025-12-04/ class=md-nav__link> <span class=md-ellipsis> TDD ä¸€è‡´æ€§æª¢æŸ¥å ±å‘Š - 2025-12-04 </span> </a> </li> <li class=md-nav__item> <a href=../../../13_Implementation_Status/tdd_updates_2025-12-04/ class=md-nav__link> <span class=md-ellipsis> TDD æ–‡ä»¶æ›´æ–°è¨˜éŒ„ - 2025-12-04 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_16> <label class=md-nav__link for=__nav_16 id=__nav_16_label tabindex=0> <span class=md-ellipsis> Changelog </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_16_label aria-expanded=false> <label class=md-nav__title for=__nav_16> <span class="md-nav__icon md-icon"></span> Changelog </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../14_Changelog/ class=md-nav__link> <span class=md-ellipsis> è®Šæ›´æ—¥èªŒ </span> </a> </li> <li class=md-nav__item> <a href=../../../14_Changelog/CHANGELOG/ class=md-nav__link> <span class=md-ellipsis> è®Šæ›´æ—¥èªŒ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_17> <label class=md-nav__link for=__nav_17 id=__nav_17_label tabindex=0> <span class=md-ellipsis> Daily Logs </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_17_label aria-expanded=false> <label class=md-nav__title for=__nav_17> <span class="md-nav__icon md-icon"></span> Daily Logs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../15_Daily_Logs/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œæ—¥èªŒ </span> </a> </li> <li class=md-nav__item> <a href=../../../15_Daily_Logs/TEMPLATE/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œæ—¥èªŒ - YYYY-MM-DD </span> </a> </li> <li class=md-nav__item> <a href=../../../15_Daily_Logs/WORKFLOW/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œæ—¥èªŒ Git åˆ†æ”¯å·¥ä½œæµç¨‹ </span> </a> </li> <li class=md-nav__item> <a href=../../../15_Daily_Logs/FORMAT_RULES/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œæ—¥èªŒæ ¼å¼è¦å‰‡ </span> </a> </li> <li class=md-nav__item> <a href=../../../15_Daily_Logs/2025-12-01/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œæ—¥èªŒ - 2025-12-01 </span> </a> </li> <li class=md-nav__item> <a href=../../../15_Daily_Logs/2025-12-02/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œæ—¥èªŒ - 2025-12-02 </span> </a> </li> <li class=md-nav__item> <a href=../../../15_Daily_Logs/2025-12-03/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œæ—¥èªŒ - 2025-12-03 </span> </a> </li> <li class=md-nav__item> <a href=../../../15_Daily_Logs/2025-12-04/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œæ—¥èªŒ - 2025-12-04 </span> </a> </li> <li class=md-nav__item> <a href=../../../15_Daily_Logs/2025-12-08/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œæ—¥èªŒ - 2025-12-08 </span> </a> </li> <li class=md-nav__item> <a href=../../../15_Daily_Logs/2025-12-09/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œæ—¥èªŒ - 2025-12-09 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_18 checked> <label class=md-nav__link for=__nav_18 id=__nav_18_label tabindex> <span class=md-ellipsis> Cursor Workflow </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_18_label aria-expanded=true> <label class=md-nav__title for=__nav_18> <span class="md-nav__icon md-icon"></span> Cursor Workflow </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ class=md-nav__link> <span class=md-ellipsis> Cursor å·¥ä½œæµç¨‹ </span> </a> </li> <li class=md-nav__item> <a href=../../WORKFLOW_GUIDE/ class=md-nav__link> <span class=md-ellipsis> Cursor å·¥ä½œæµç¨‹å®Œæ•´æŒ‡å— </span> </a> </li> <li class=md-nav__item> <a href=../../QUICK_START/ class=md-nav__link> <span class=md-ellipsis> Cursor å·¥ä½œæµç¨‹å¿«é€Ÿé–‹å§‹ </span> </a> </li> <li class=md-nav__item> <a href=../../cursor_conversation_template/ class=md-nav__link> <span class=md-ellipsis> Cursor å°è©±è¨˜éŒ„æ¨¡æ¿ </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_18_5> <label class=md-nav__link for=__nav_18_5 id=__nav_18_5_label tabindex> <span class=md-ellipsis> Daily Plans </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_18_5_label aria-expanded=false> <label class=md-nav__title for=__nav_18_5> <span class="md-nav__icon md-icon"></span> Daily Plans </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../daily_plans/2025-11-27/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œè¨ˆåŠƒ - 2025-11-27 </span> </a> </li> <li class=md-nav__item> <a href=../../daily_plans/2025-11-28/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œè¨ˆåŠƒ - 2025-11-28 </span> </a> </li> <li class=md-nav__item> <a href=../../daily_plans/2025-12-01/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œè¨ˆåŠƒ - 2025-12-01 </span> </a> </li> <li class=md-nav__item> <a href=../../daily_plans/2025-12-02/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œè¨ˆåŠƒ - 2025-12-02 </span> </a> </li> <li class=md-nav__item> <a href=../../daily_plans/2025-12-03/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œè¨ˆåŠƒ - 2025-12-03 </span> </a> </li> <li class=md-nav__item> <a href=../../daily_plans/2025-12-03_websocket_design/ class=md-nav__link> <span class=md-ellipsis> WebSocket Design - 2025-12-03 </span> </a> </li> <li class=md-nav__item> <a href=../../daily_plans/2025-12-04/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œè¨ˆåŠƒ - 2025-12-04 </span> </a> </li> <li class=md-nav__item> <a href=../../daily_plans/2025-12-08/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œè¨ˆåŠƒ - 2025-12-08 </span> </a> </li> <li class=md-nav__item> <a href=../../daily_plans/2025-12-09/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œè¨ˆåŠƒ - 2025-12-09 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_18_6 checked> <label class=md-nav__link for=__nav_18_6 id=__nav_18_6_label tabindex> <span class=md-ellipsis> Daily Summaries </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_18_6_label aria-expanded=true> <label class=md-nav__title for=__nav_18_6> <span class="md-nav__icon md-icon"></span> Daily Summaries </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../2025-12-02/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œç¸½çµ - 2025-12-02 </span> </a> </li> <li class=md-nav__item> <a href=../2025-12-02_daily_end/ class=md-nav__link> <span class=md-ellipsis> Daily End - 2025-12-02 </span> </a> </li> <li class=md-nav__item> <a href=../2025-12-03/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œç¸½çµ - 2025-12-03 </span> </a> </li> <li class=md-nav__item> <a href=../2025-12-03_daily_end/ class=md-nav__link> <span class=md-ellipsis> Daily End - 2025-12-03 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> å·¥ä½œç¸½çµ - 2025-12-04 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> å·¥ä½œç¸½çµ - 2025-12-04 </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> ğŸ“… å°è©±è³‡è¨Š </span> </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> ğŸ¯ é‡è¦æ±ºç­– </span> </a> <nav class=md-nav aria-label="ğŸ¯ é‡è¦æ±ºç­–"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-git class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 1: Git é…ç½®æœ¬åœ°åŒ–ç­–ç•¥ </span> </a> </li> <li class=md-nav__item> <a href=#2-sharedbetsmetadata class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 2: å¼•å…¥ SharedBetsMetadata åŒ…è£å‹åˆ¥ </span> </a> </li> <li class=md-nav__item> <a href=#3-chatwebsocketclientsubscribe-nonisolated class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 3: ChatWebSocketClient.subscribe nonisolated åŒ– </span> </a> </li> <li class=md-nav__item> <a href=#4-tdd class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 4: TDD æ–‡ä»¶åŒæ­¥æ›´æ–°ç­–ç•¥ </span> </a> </li> <li class=md-nav__item> <a href=#5-commit class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 5: Commit æ‹†åˆ†ç­–ç•¥ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> ğŸ’¡ å­¸ç¿’è¦é» </span> </a> <nav class=md-nav aria-label="ğŸ’¡ å­¸ç¿’è¦é»"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-swift-concurrency class=md-nav__link> <span class=md-ellipsis> 1. Swift Concurrency æ·±åº¦ç†è§£ </span> </a> <nav class=md-nav aria-label="1. Swift Concurrency æ·±åº¦ç†è§£"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sendable class=md-nav__link> <span class=md-ellipsis> Sendable å”è­°çš„æ­£ç¢ºæ‡‰ç”¨ </span> </a> </li> <li class=md-nav__item> <a href=#actor-isolation class=md-nav__link> <span class=md-ellipsis> Actor Isolation çš„ç´°å¾®å·®åˆ¥ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-git class=md-nav__link> <span class=md-ellipsis> 2. Git å·¥ä½œæµç¨‹æœ€ä½³å¯¦è¸ </span> </a> <nav class=md-nav aria-label="2. Git å·¥ä½œæµç¨‹æœ€ä½³å¯¦è¸"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#gitignore class=md-nav__link> <span class=md-ellipsis> .gitignore ç­–ç•¥ </span> </a> </li> <li class=md-nav__item> <a href=#commit-message class=md-nav__link> <span class=md-ellipsis> Commit Message è¦ç¯„ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-tdd class=md-nav__link> <span class=md-ellipsis> 3. TDD æ–‡ä»¶ç®¡ç†å“²å­¸ </span> </a> <nav class=md-nav aria-label="3. TDD æ–‡ä»¶ç®¡ç†å“²å­¸"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> æ–‡ä»¶èˆ‡å¯¦ä½œçš„é—œä¿‚ </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> è¨­è¨ˆæ±ºç­–è¨˜éŒ„çš„é‡è¦æ€§ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4 class=md-nav__link> <span class=md-ellipsis> 4. æ¶æ§‹è¨­è¨ˆåŸå‰‡ </span> </a> <nav class=md-nav aria-label="4. æ¶æ§‹è¨­è¨ˆåŸå‰‡"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> é‚Šç•Œå±¤çš„å‹åˆ¥è½‰æ› </span> </a> </li> <li class=md-nav__item> <a href=#protocol class=md-nav__link> <span class=md-ellipsis> Protocol å°å‘è¨­è¨ˆ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#5 class=md-nav__link> <span class=md-ellipsis> 5. å·¥å…·å’Œè‡ªå‹•åŒ– </span> </a> <nav class=md-nav aria-label="5. å·¥å…·å’Œè‡ªå‹•åŒ–"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cursor-commands class=md-nav__link> <span class=md-ellipsis> Cursor Commands è¨­è¨ˆ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> ğŸš€ æ”¹é€²å»ºè­° </span> </a> <nav class=md-nav aria-label="ğŸš€ æ”¹é€²å»ºè­°"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-p0 class=md-nav__link> <span class=md-ellipsis> 1. æ¸¬è©¦è‡ªå‹•åŒ–ï¼ˆå„ªå…ˆç´šï¼šP0ï¼‰ </span> </a> </li> <li class=md-nav__item> <a href=#2-api-p1 class=md-nav__link> <span class=md-ellipsis> 2. API è¦æ ¼é©—è­‰ï¼ˆå„ªå…ˆç´šï¼šP1ï¼‰ </span> </a> </li> <li class=md-nav__item> <a href=#3-p2 class=md-nav__link> <span class=md-ellipsis> 3. æ–‡ä»¶è‡ªå‹•åŒ–ï¼ˆå„ªå…ˆç´šï¼šP2ï¼‰ </span> </a> </li> <li class=md-nav__item> <a href=#4-p2 class=md-nav__link> <span class=md-ellipsis> 4. è¨­è¨ˆæ–‡æª”æ¨¡æ¿åŒ–ï¼ˆå„ªå…ˆç´šï¼šP2ï¼‰ </span> </a> </li> <li class=md-nav__item> <a href=#5-cicd-p3 class=md-nav__link> <span class=md-ellipsis> 5. CI/CD æ•´åˆï¼ˆå„ªå…ˆç´šï¼šP3ï¼‰ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> ğŸ“ˆ é€²åº¦è¿½è¹¤ </span> </a> <nav class=md-nav aria-label="ğŸ“ˆ é€²åº¦è¿½è¹¤"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> æœ¬é€±ç›®æ¨™é”æˆåº¦ </span> </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> ä¸‹é€±è¨ˆç•« </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> ğŸ“ æŠ€è¡“æ·±åº¦å­¸ç¿’ </span> </a> <nav class=md-nav aria-label="ğŸ“ æŠ€è¡“æ·±åº¦å­¸ç¿’"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#swift-concurrency class=md-nav__link> <span class=md-ellipsis> Swift Concurrency å­¸ç¿’è³‡æº </span> </a> </li> <li class=md-nav__item> <a href=#clean-architecture class=md-nav__link> <span class=md-ellipsis> Clean Architecture å¯¦è¸ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> ğŸ¤ å”ä½œèˆ‡æºé€š </span> </a> <nav class=md-nav aria-label="ğŸ¤ å”ä½œèˆ‡æºé€š"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cursor-ai class=md-nav__link> <span class=md-ellipsis> èˆ‡ Cursor AI çš„å”ä½œæ¨¡å¼ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#code-snippets class=md-nav__link> <span class=md-ellipsis> ğŸ“š å€¼å¾—è¨˜éŒ„çš„ Code Snippets </span> </a> <nav class=md-nav aria-label="ğŸ“š å€¼å¾—è¨˜éŒ„çš„ Code Snippets"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-sharedbetsmetadata class=md-nav__link> <span class=md-ellipsis> 1. SharedBetsMetadata åŒ…è£æ¨¡å¼ </span> </a> </li> <li class=md-nav__item> <a href=#2-nonisolated-asyncstream class=md-nav__link> <span class=md-ellipsis> 2. Nonisolated AsyncStream æ¨¡å¼ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> ğŸ’­ åæ€èˆ‡ç¸½çµ </span> </a> <nav class=md-nav aria-label="ğŸ’­ åæ€èˆ‡ç¸½çµ"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> ä»Šå¤©åšå¾—å¥½çš„åœ°æ–¹ </span> </a> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> <span class=md-ellipsis> å¯ä»¥æ”¹é€²çš„åœ°æ–¹ </span> </a> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> <span class=md-ellipsis> æ˜å¤©çš„é‡é» </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> <span class=md-ellipsis> ğŸ”— ç›¸é—œè³‡æº </span> </a> </li> <li class=md-nav__item> <a href=#cursor-ios class=md-nav__link> <span class=md-ellipsis> ğŸ–¥ï¸ Cursor iOS é–‹ç™¼ç’°å¢ƒè¨­ç½®ï¼ˆä¸‹åˆæ™‚æ®µï¼‰ </span> </a> <nav class=md-nav aria-label="ğŸ–¥ï¸ Cursor iOS é–‹ç™¼ç’°å¢ƒè¨­ç½®ï¼ˆä¸‹åˆæ™‚æ®µï¼‰"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_18 class=md-nav__link> <span class=md-ellipsis> ç’°å¢ƒè¨­ç½®ç›®æ¨™ </span> </a> </li> <li class=md-nav__item> <a href=#6-cursor-ios class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 6: Cursor iOS é–‹ç™¼å·¥å…·éˆé…ç½® </span> </a> </li> <li class=md-nav__item> <a href=#7-xcode-select class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 7: xcode-select é…ç½®ä¿®å¾© </span> </a> </li> <li class=md-nav__item> <a href=#8-sourcekit-lsp class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 8: SourceKit-LSP ç´¢å¼•å•é¡Œè™•ç† </span> </a> </li> <li class=md-nav__item> <a href=#_19 class=md-nav__link> <span class=md-ellipsis> æˆåŠŸæ§‹å»ºé©—è­‰ </span> </a> </li> <li class=md-nav__item> <a href=#sweetpad class=md-nav__link> <span class=md-ellipsis> SweetPad å·¥ä½œæµç¨‹å­¸ç¿’ </span> </a> </li> <li class=md-nav__item> <a href=#_20 class=md-nav__link> <span class=md-ellipsis> çµ‚ç«¯æ©Ÿå•é¡Œè™•ç† </span> </a> </li> <li class=md-nav__item> <a href=#_21 class=md-nav__link> <span class=md-ellipsis> å‰µå»ºçš„æ–‡æª” </span> </a> </li> <li class=md-nav__item> <a href=#_22 class=md-nav__link> <span class=md-ellipsis> å­¸ç¿’è¦é» </span> </a> </li> <li class=md-nav__item> <a href=#_23 class=md-nav__link> <span class=md-ellipsis> ç’°å¢ƒè¨­ç½®æˆæœ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#swift class=md-nav__link> <span class=md-ellipsis> ğŸ”§ Swift ä¸¦ç™¼å•é¡Œä¿®å¾©ï¼ˆæ™šé–“æ™‚æ®µï¼‰ </span> </a> <nav class=md-nav aria-label="ğŸ”§ Swift ä¸¦ç™¼å•é¡Œä¿®å¾©ï¼ˆæ™šé–“æ™‚æ®µï¼‰"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#9-xcode-build-server class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 9: xcode-build-server é‡æ–°å®‰è£ </span> </a> </li> <li class=md-nav__item> <a href=#10-swift-6-concurrency class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 10: ä¿®å¾© Swift 6 Concurrency éŒ¯èª¤ </span> </a> </li> <li class=md-nav__item> <a href=#11-tdd class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 11: TDD æ–‡ä»¶ä¸€è‡´æ€§æª¢æŸ¥èˆ‡ä¿®æ­£ </span> </a> </li> <li class=md-nav__item> <a href=#12-gitignore class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 12: .gitignore æ›´æ–° </span> </a> </li> <li class=md-nav__item> <a href=#_24 class=md-nav__link> <span class=md-ellipsis> ç·¨è­¯é©—è­‰ </span> </a> </li> <li class=md-nav__item> <a href=#_25 class=md-nav__link> <span class=md-ellipsis> æ›´æ–°çš„æ–‡ä»¶ </span> </a> </li> <li class=md-nav__item> <a href=#_26 class=md-nav__link> <span class=md-ellipsis> å­¸ç¿’è¦é»è£œå…… </span> </a> <nav class=md-nav aria-label=å­¸ç¿’è¦é»è£œå……> <ul class=md-nav__list> <li class=md-nav__item> <a href=#swift-6-strict-concurrency-mode class=md-nav__link> <span class=md-ellipsis> Swift 6 Strict Concurrency Mode </span> </a> </li> <li class=md-nav__item> <a href=#unchecked-sendable class=md-nav__link> <span class=md-ellipsis> @unchecked Sendable ä½¿ç”¨æ™‚æ©Ÿ </span> </a> </li> <li class=md-nav__item> <a href=#_27 class=md-nav__link> <span class=md-ellipsis> å·¥å…·ä½¿ç”¨æŠ€å·§ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_28 class=md-nav__link> <span class=md-ellipsis> å•é¡Œæ’æŸ¥æµç¨‹ </span> </a> </li> <li class=md-nav__item> <a href=#_29 class=md-nav__link> <span class=md-ellipsis> ä¸‹æ¬¡æ”¹é€²å»ºè­° </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../2025-12-08/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œç¸½çµ - 2025-12-08 </span> </a> </li> <li class=md-nav__item> <a href=../2025-12-09/ class=md-nav__link> <span class=md-ellipsis> å·¥ä½œç¸½çµ - 2025-12-09 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> ğŸ“… å°è©±è³‡è¨Š </span> </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> ğŸ¯ é‡è¦æ±ºç­– </span> </a> <nav class=md-nav aria-label="ğŸ¯ é‡è¦æ±ºç­–"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-git class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 1: Git é…ç½®æœ¬åœ°åŒ–ç­–ç•¥ </span> </a> </li> <li class=md-nav__item> <a href=#2-sharedbetsmetadata class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 2: å¼•å…¥ SharedBetsMetadata åŒ…è£å‹åˆ¥ </span> </a> </li> <li class=md-nav__item> <a href=#3-chatwebsocketclientsubscribe-nonisolated class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 3: ChatWebSocketClient.subscribe nonisolated åŒ– </span> </a> </li> <li class=md-nav__item> <a href=#4-tdd class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 4: TDD æ–‡ä»¶åŒæ­¥æ›´æ–°ç­–ç•¥ </span> </a> </li> <li class=md-nav__item> <a href=#5-commit class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 5: Commit æ‹†åˆ†ç­–ç•¥ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> ğŸ’¡ å­¸ç¿’è¦é» </span> </a> <nav class=md-nav aria-label="ğŸ’¡ å­¸ç¿’è¦é»"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-swift-concurrency class=md-nav__link> <span class=md-ellipsis> 1. Swift Concurrency æ·±åº¦ç†è§£ </span> </a> <nav class=md-nav aria-label="1. Swift Concurrency æ·±åº¦ç†è§£"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sendable class=md-nav__link> <span class=md-ellipsis> Sendable å”è­°çš„æ­£ç¢ºæ‡‰ç”¨ </span> </a> </li> <li class=md-nav__item> <a href=#actor-isolation class=md-nav__link> <span class=md-ellipsis> Actor Isolation çš„ç´°å¾®å·®åˆ¥ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-git class=md-nav__link> <span class=md-ellipsis> 2. Git å·¥ä½œæµç¨‹æœ€ä½³å¯¦è¸ </span> </a> <nav class=md-nav aria-label="2. Git å·¥ä½œæµç¨‹æœ€ä½³å¯¦è¸"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#gitignore class=md-nav__link> <span class=md-ellipsis> .gitignore ç­–ç•¥ </span> </a> </li> <li class=md-nav__item> <a href=#commit-message class=md-nav__link> <span class=md-ellipsis> Commit Message è¦ç¯„ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-tdd class=md-nav__link> <span class=md-ellipsis> 3. TDD æ–‡ä»¶ç®¡ç†å“²å­¸ </span> </a> <nav class=md-nav aria-label="3. TDD æ–‡ä»¶ç®¡ç†å“²å­¸"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_4 class=md-nav__link> <span class=md-ellipsis> æ–‡ä»¶èˆ‡å¯¦ä½œçš„é—œä¿‚ </span> </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> <span class=md-ellipsis> è¨­è¨ˆæ±ºç­–è¨˜éŒ„çš„é‡è¦æ€§ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4 class=md-nav__link> <span class=md-ellipsis> 4. æ¶æ§‹è¨­è¨ˆåŸå‰‡ </span> </a> <nav class=md-nav aria-label="4. æ¶æ§‹è¨­è¨ˆåŸå‰‡"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_6 class=md-nav__link> <span class=md-ellipsis> é‚Šç•Œå±¤çš„å‹åˆ¥è½‰æ› </span> </a> </li> <li class=md-nav__item> <a href=#protocol class=md-nav__link> <span class=md-ellipsis> Protocol å°å‘è¨­è¨ˆ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#5 class=md-nav__link> <span class=md-ellipsis> 5. å·¥å…·å’Œè‡ªå‹•åŒ– </span> </a> <nav class=md-nav aria-label="5. å·¥å…·å’Œè‡ªå‹•åŒ–"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cursor-commands class=md-nav__link> <span class=md-ellipsis> Cursor Commands è¨­è¨ˆ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> <span class=md-ellipsis> ğŸš€ æ”¹é€²å»ºè­° </span> </a> <nav class=md-nav aria-label="ğŸš€ æ”¹é€²å»ºè­°"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-p0 class=md-nav__link> <span class=md-ellipsis> 1. æ¸¬è©¦è‡ªå‹•åŒ–ï¼ˆå„ªå…ˆç´šï¼šP0ï¼‰ </span> </a> </li> <li class=md-nav__item> <a href=#2-api-p1 class=md-nav__link> <span class=md-ellipsis> 2. API è¦æ ¼é©—è­‰ï¼ˆå„ªå…ˆç´šï¼šP1ï¼‰ </span> </a> </li> <li class=md-nav__item> <a href=#3-p2 class=md-nav__link> <span class=md-ellipsis> 3. æ–‡ä»¶è‡ªå‹•åŒ–ï¼ˆå„ªå…ˆç´šï¼šP2ï¼‰ </span> </a> </li> <li class=md-nav__item> <a href=#4-p2 class=md-nav__link> <span class=md-ellipsis> 4. è¨­è¨ˆæ–‡æª”æ¨¡æ¿åŒ–ï¼ˆå„ªå…ˆç´šï¼šP2ï¼‰ </span> </a> </li> <li class=md-nav__item> <a href=#5-cicd-p3 class=md-nav__link> <span class=md-ellipsis> 5. CI/CD æ•´åˆï¼ˆå„ªå…ˆç´šï¼šP3ï¼‰ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> <span class=md-ellipsis> ğŸ“ˆ é€²åº¦è¿½è¹¤ </span> </a> <nav class=md-nav aria-label="ğŸ“ˆ é€²åº¦è¿½è¹¤"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_9 class=md-nav__link> <span class=md-ellipsis> æœ¬é€±ç›®æ¨™é”æˆåº¦ </span> </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> <span class=md-ellipsis> ä¸‹é€±è¨ˆç•« </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> <span class=md-ellipsis> ğŸ“ æŠ€è¡“æ·±åº¦å­¸ç¿’ </span> </a> <nav class=md-nav aria-label="ğŸ“ æŠ€è¡“æ·±åº¦å­¸ç¿’"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#swift-concurrency class=md-nav__link> <span class=md-ellipsis> Swift Concurrency å­¸ç¿’è³‡æº </span> </a> </li> <li class=md-nav__item> <a href=#clean-architecture class=md-nav__link> <span class=md-ellipsis> Clean Architecture å¯¦è¸ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> <span class=md-ellipsis> ğŸ¤ å”ä½œèˆ‡æºé€š </span> </a> <nav class=md-nav aria-label="ğŸ¤ å”ä½œèˆ‡æºé€š"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cursor-ai class=md-nav__link> <span class=md-ellipsis> èˆ‡ Cursor AI çš„å”ä½œæ¨¡å¼ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#code-snippets class=md-nav__link> <span class=md-ellipsis> ğŸ“š å€¼å¾—è¨˜éŒ„çš„ Code Snippets </span> </a> <nav class=md-nav aria-label="ğŸ“š å€¼å¾—è¨˜éŒ„çš„ Code Snippets"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-sharedbetsmetadata class=md-nav__link> <span class=md-ellipsis> 1. SharedBetsMetadata åŒ…è£æ¨¡å¼ </span> </a> </li> <li class=md-nav__item> <a href=#2-nonisolated-asyncstream class=md-nav__link> <span class=md-ellipsis> 2. Nonisolated AsyncStream æ¨¡å¼ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> <span class=md-ellipsis> ğŸ’­ åæ€èˆ‡ç¸½çµ </span> </a> <nav class=md-nav aria-label="ğŸ’­ åæ€èˆ‡ç¸½çµ"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_14 class=md-nav__link> <span class=md-ellipsis> ä»Šå¤©åšå¾—å¥½çš„åœ°æ–¹ </span> </a> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> <span class=md-ellipsis> å¯ä»¥æ”¹é€²çš„åœ°æ–¹ </span> </a> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> <span class=md-ellipsis> æ˜å¤©çš„é‡é» </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> <span class=md-ellipsis> ğŸ”— ç›¸é—œè³‡æº </span> </a> </li> <li class=md-nav__item> <a href=#cursor-ios class=md-nav__link> <span class=md-ellipsis> ğŸ–¥ï¸ Cursor iOS é–‹ç™¼ç’°å¢ƒè¨­ç½®ï¼ˆä¸‹åˆæ™‚æ®µï¼‰ </span> </a> <nav class=md-nav aria-label="ğŸ–¥ï¸ Cursor iOS é–‹ç™¼ç’°å¢ƒè¨­ç½®ï¼ˆä¸‹åˆæ™‚æ®µï¼‰"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_18 class=md-nav__link> <span class=md-ellipsis> ç’°å¢ƒè¨­ç½®ç›®æ¨™ </span> </a> </li> <li class=md-nav__item> <a href=#6-cursor-ios class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 6: Cursor iOS é–‹ç™¼å·¥å…·éˆé…ç½® </span> </a> </li> <li class=md-nav__item> <a href=#7-xcode-select class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 7: xcode-select é…ç½®ä¿®å¾© </span> </a> </li> <li class=md-nav__item> <a href=#8-sourcekit-lsp class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 8: SourceKit-LSP ç´¢å¼•å•é¡Œè™•ç† </span> </a> </li> <li class=md-nav__item> <a href=#_19 class=md-nav__link> <span class=md-ellipsis> æˆåŠŸæ§‹å»ºé©—è­‰ </span> </a> </li> <li class=md-nav__item> <a href=#sweetpad class=md-nav__link> <span class=md-ellipsis> SweetPad å·¥ä½œæµç¨‹å­¸ç¿’ </span> </a> </li> <li class=md-nav__item> <a href=#_20 class=md-nav__link> <span class=md-ellipsis> çµ‚ç«¯æ©Ÿå•é¡Œè™•ç† </span> </a> </li> <li class=md-nav__item> <a href=#_21 class=md-nav__link> <span class=md-ellipsis> å‰µå»ºçš„æ–‡æª” </span> </a> </li> <li class=md-nav__item> <a href=#_22 class=md-nav__link> <span class=md-ellipsis> å­¸ç¿’è¦é» </span> </a> </li> <li class=md-nav__item> <a href=#_23 class=md-nav__link> <span class=md-ellipsis> ç’°å¢ƒè¨­ç½®æˆæœ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#swift class=md-nav__link> <span class=md-ellipsis> ğŸ”§ Swift ä¸¦ç™¼å•é¡Œä¿®å¾©ï¼ˆæ™šé–“æ™‚æ®µï¼‰ </span> </a> <nav class=md-nav aria-label="ğŸ”§ Swift ä¸¦ç™¼å•é¡Œä¿®å¾©ï¼ˆæ™šé–“æ™‚æ®µï¼‰"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#9-xcode-build-server class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 9: xcode-build-server é‡æ–°å®‰è£ </span> </a> </li> <li class=md-nav__item> <a href=#10-swift-6-concurrency class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 10: ä¿®å¾© Swift 6 Concurrency éŒ¯èª¤ </span> </a> </li> <li class=md-nav__item> <a href=#11-tdd class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 11: TDD æ–‡ä»¶ä¸€è‡´æ€§æª¢æŸ¥èˆ‡ä¿®æ­£ </span> </a> </li> <li class=md-nav__item> <a href=#12-gitignore class=md-nav__link> <span class=md-ellipsis> æ±ºç­– 12: .gitignore æ›´æ–° </span> </a> </li> <li class=md-nav__item> <a href=#_24 class=md-nav__link> <span class=md-ellipsis> ç·¨è­¯é©—è­‰ </span> </a> </li> <li class=md-nav__item> <a href=#_25 class=md-nav__link> <span class=md-ellipsis> æ›´æ–°çš„æ–‡ä»¶ </span> </a> </li> <li class=md-nav__item> <a href=#_26 class=md-nav__link> <span class=md-ellipsis> å­¸ç¿’è¦é»è£œå…… </span> </a> <nav class=md-nav aria-label=å­¸ç¿’è¦é»è£œå……> <ul class=md-nav__list> <li class=md-nav__item> <a href=#swift-6-strict-concurrency-mode class=md-nav__link> <span class=md-ellipsis> Swift 6 Strict Concurrency Mode </span> </a> </li> <li class=md-nav__item> <a href=#unchecked-sendable class=md-nav__link> <span class=md-ellipsis> @unchecked Sendable ä½¿ç”¨æ™‚æ©Ÿ </span> </a> </li> <li class=md-nav__item> <a href=#_27 class=md-nav__link> <span class=md-ellipsis> å·¥å…·ä½¿ç”¨æŠ€å·§ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_28 class=md-nav__link> <span class=md-ellipsis> å•é¡Œæ’æŸ¥æµç¨‹ </span> </a> </li> <li class=md-nav__item> <a href=#_29 class=md-nav__link> <span class=md-ellipsis> ä¸‹æ¬¡æ”¹é€²å»ºè­° </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=2025-12-04>2025-12-04 å°è©±çµ±æ•´</h1> <h2 id=_1>ğŸ“… å°è©±è³‡è¨Š</h2> <ul> <li><strong>æ—¥æœŸ</strong>: 2025-12-04</li> <li><strong>ä¸»é¡Œ</strong>: Data Layer é‡æ§‹èˆ‡ TDD æ–‡ä»¶åŒæ­¥</li> <li><strong>Jira Tickets</strong>: FOOTBALL-9180-9184</li> <li><strong>å°è©±æ™‚é•·</strong>: å…¨å¤©</li> <li><strong>ä¸»è¦æˆå°±</strong>: å®Œæˆ 4 å€‹ commits + TDD æ–‡ä»¶æ›´æ–°</li> </ul> <hr> <h2 id=_2>ğŸ¯ é‡è¦æ±ºç­–</h2> <h3 id=1-git>æ±ºç­– 1: Git é…ç½®æœ¬åœ°åŒ–ç­–ç•¥</h3> <p><strong>èƒŒæ™¯</strong>: - <code>buildServer.json</code> æ˜¯æœ¬åœ° Xcode Build Server é…ç½® - éœ€è¦åœ¨ rebase/merge æ™‚ä¿ç•™</p> <p><strong>æ±ºç­–</strong>: - å°‡ <code>buildServer.json</code> åŠ å…¥ <code>.gitignore</code> - é¸æ“‡æ–¹æ¡ˆ 1ï¼ˆåœ˜éšŠå…±äº«è¦å‰‡ï¼‰è€Œéæ–¹æ¡ˆ 2ï¼ˆå€‹äºº <code>.git/info/exclude</code>ï¼‰</p> <p><strong>ç†ç”±</strong>: - <code>buildServer.json</code> æœ¬ä¾†å°±æ‡‰è©²æ˜¯æ¯å€‹äººçš„æœ¬åœ°è¨­å®š - åŠ åˆ° <code>.gitignore</code> å°åœ˜éšŠä¾†èªªæ›´åˆç† - é¡ä¼¼ <code>.vscode/settings.json</code> çš„è™•ç†æ–¹å¼</p> <p><strong>å½±éŸ¿</strong>: - âœ… æ‰€æœ‰ branch éƒ½æœƒå°Šé‡é€™å€‹è¦å‰‡ - âœ… Rebase/merge develop ä¸æœƒæœ‰è¡çª - âœ… åœ˜éšŠæˆå“¡å—ç›Š</p> <hr> <h3 id=2-sharedbetsmetadata>æ±ºç­– 2: å¼•å…¥ SharedBetsMetadata åŒ…è£å‹åˆ¥</h3> <p><strong>å•é¡Œåˆ†æ</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>âŒ åŸå§‹å¯¦ä½œ:
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>publishComment(..., sharedBetsMeta: [String: Any]?, ...)
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>                                      â†‘
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>                          ä¸ç¬¦åˆ Sendable å”è­°
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>âš ï¸ ç·¨è­¯å™¨è­¦å‘Š:
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>warning: passing non-sendable type &#39;[String: Any]?&#39; 
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>         across actor boundary
</code></pre></div></p> <p><strong>è§£æ±ºæ–¹æ¡ˆ</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=kd>public</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=nc>SharedBetsMetadata</span><span class=p>:</span><span class=w> </span><span class=p>@</span><span class=n>unchecked</span><span class=w> </span><span class=n>Sendable</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>let</span><span class=w> </span><span class=nv>value</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=nb>String</span><span class=p>:</span><span class=w> </span><span class=nb>Any</span><span class=p>]</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>init</span><span class=p>(</span><span class=kc>_</span><span class=w> </span><span class=n>value</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=nb>String</span><span class=p>:</span><span class=w> </span><span class=nb>Any</span><span class=p>])</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>        </span><span class=kc>self</span><span class=p>.</span><span class=n>value</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=n>value</span>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=p>}</span>
</code></pre></div></p> <p><strong>è¨­è¨ˆæ¶æ§‹</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>â”‚ Client Layer                                    â”‚
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>â”‚ publishComment(..., sharedBetsMeta: SharedBets  â”‚
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>â”‚                     Metadata?, ...)             â”‚
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>â”‚         â†“ ç¬¦åˆ Sendable                         â”‚
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>â”‚ Repository Layer                                â”‚
<a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>â”‚ publishComment(..., sharedBetsMeta: SharedBets  â”‚
<a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>â”‚                     Metadata?, ...)             â”‚
<a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>â”‚         â†“ è§£åŒ…: metaDict = sharedBetsMeta.value â”‚
<a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
<a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>â”‚ Endpoint/API Layer                              â”‚
<a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>â”‚ publishComment(..., sharedBetsMeta: [String:    â”‚
<a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>â”‚                     Any]?, ...)                 â”‚
<a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a>â”‚         â†“ JSON åºåˆ—åŒ–                           â”‚
<a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
<a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a>â”‚ Network                                         â”‚
<a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div></p> <p><strong>å„ªé»</strong>: - âœ… è§£æ±º Swift Concurrency è­¦å‘Š - âœ… æå‡å‹åˆ¥å®‰å…¨æ€§ - âœ… æ˜ç¢ºæ„åœ–ï¼Œå°è£å¯¦ä½œç´°ç¯€ - âœ… æœªä¾†å¯æ“´å±•ï¼ˆå¯å¢åŠ é©—è­‰é‚è¼¯ï¼‰</p> <p><strong>é™åˆ¶èˆ‡è€ƒé‡</strong>: - âš ï¸ ä½¿ç”¨ <code>@unchecked Sendable</code>ï¼ˆéœ€è¦é–‹ç™¼è€…ç¢ºä¿å®‰å…¨æ€§ï¼‰ - âš ï¸ Breaking Changeï¼ˆèª¿ç”¨æ–¹éœ€æ›´æ–°ï¼‰ - âœ… ä½†æ”¹é€²æ˜¯å€¼å¾—çš„</p> <hr> <h3 id=3-chatwebsocketclientsubscribe-nonisolated>æ±ºç­– 3: ChatWebSocketClient.subscribe nonisolated åŒ–</h3> <p><strong>å•é¡Œåˆ†æ</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=c1>// âŒ åŸå§‹å¯¦ä½œï¼ˆActor-isolatedï¼‰</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=kd>public</span><span class=w> </span><span class=kd>actor</span><span class=w> </span><span class=n>ChatWebSocketClient</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>func</span><span class=w> </span><span class=nf>subscribe</span><span class=p>(</span><span class=n>chatroomId</span><span class=p>:</span><span class=w> </span><span class=nb>String</span><span class=p>)</span><span class=w> </span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=w>        </span><span class=p>-&gt;</span><span class=w> </span><span class=n>AsyncStream</span><span class=p>&lt;</span><span class=n>ChatAPI</span><span class=p>.</span><span class=n>WebSocketMessageDTO</span><span class=p>&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=w>        </span><span class=c1>// ... å‰µå»ºå’Œè¿”å› AsyncStream</span>
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=p>}</span>
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>
<a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=c1>// èª¿ç”¨æ™‚éœ€è¦ await</span>
<a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=kd>let</span><span class=w> </span><span class=nv>stream</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=n>client</span><span class=p>.</span><span class=n>subscribe</span><span class=p>(</span><span class=n>chatroomId</span><span class=p>:</span><span class=w> </span><span class=n>id</span><span class=p>)</span>
<a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=w>                  </span><span class=err>â†‘</span><span class=w> </span><span class=err>éœ€è¦</span><span class=w> </span><span class=k>await</span><span class=err>ï¼Œèª¿ç”¨æ–¹å¿…é ˆåœ¨</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=n>context</span>
</code></pre></div></p> <p><strong>è§£æ±ºæ–¹æ¡ˆ</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=c1>// âœ… æ”¹é€²å¯¦ä½œï¼ˆnonisolatedï¼‰</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=kd>public</span><span class=w> </span><span class=kd>actor</span><span class=w> </span><span class=n>ChatWebSocketClient</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>nonisolated</span><span class=w> </span><span class=kd>func</span><span class=w> </span><span class=nf>subscribe</span><span class=p>(</span><span class=n>chatroomId</span><span class=p>:</span><span class=w> </span><span class=nb>String</span><span class=p>)</span><span class=w> </span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=w>        </span><span class=p>-&gt;</span><span class=w> </span><span class=n>AsyncStream</span><span class=p>&lt;</span><span class=n>ChatAPI</span><span class=p>.</span><span class=n>WebSocketMessageDTO</span><span class=p>&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=w>        </span><span class=n>AsyncStream</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>continuation</span><span class=w> </span><span class=k>in</span>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=w>            </span><span class=n>Task</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=w>                </span><span class=k>await</span><span class=w> </span><span class=kc>self</span><span class=p>.</span><span class=n>performSubscribe</span><span class=p>(</span>
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=w>                    </span><span class=n>chatroomId</span><span class=p>:</span><span class=w> </span><span class=n>chatroomId</span><span class=p>,</span>
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=w>                    </span><span class=n>continuation</span><span class=p>:</span><span class=w> </span><span class=n>continuation</span>
<a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=w>                </span><span class=p>)</span>
<a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=w>            </span><span class=p>}</span>
<a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a>
<a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>func</span><span class=w> </span><span class=nf>performSubscribe</span><span class=p>(</span>
<a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a><span class=w>        </span><span class=n>chatroomId</span><span class=p>:</span><span class=w> </span><span class=nb>String</span><span class=p>,</span>
<a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a><span class=w>        </span><span class=n>continuation</span><span class=p>:</span><span class=w> </span><span class=n>AsyncStream</span><span class=o>&lt;</span><span class=p>...</span><span class=o>&gt;</span><span class=p>.</span><span class=n>Continuation</span>
<a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a><span class=w>    </span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a><span class=w>        </span><span class=c1>// Actor-isolated è¨‚é–±é‚è¼¯</span>
<a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a><span class=p>}</span>
<a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a>
<a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a><span class=c1>// èª¿ç”¨æ™‚ä¸éœ€è¦ await</span>
<a id=__codelineno-4-24 name=__codelineno-4-24 href=#__codelineno-4-24></a><span class=kd>let</span><span class=w> </span><span class=nv>stream</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=n>client</span><span class=p>.</span><span class=n>subscribe</span><span class=p>(</span><span class=n>chatroomId</span><span class=p>:</span><span class=w> </span><span class=n>id</span><span class=p>)</span>
<a id=__codelineno-4-25 name=__codelineno-4-25 href=#__codelineno-4-25></a><span class=w>             </span><span class=err>â†‘</span><span class=w> </span><span class=err>åŒæ­¥å‰µå»º</span><span class=w> </span><span class=n>AsyncStream</span>
</code></pre></div></p> <p><strong>è¨­è¨ˆåŸç†</strong>: 1. <code>nonisolated</code> æ–¹æ³•å¯åŒæ­¥åŸ·è¡Œ 2. <code>AsyncStream</code> åœ¨åˆå§‹åŒ–æ™‚åŒæ­¥å‰µå»º 3. å¯¦éš›è¨‚é–±é‚è¼¯åœ¨ <code>Task</code> ä¸­ç•°æ­¥åŸ·è¡Œï¼ˆactor-isolatedï¼‰ 4. ä¿æŒç·šç¨‹å®‰å…¨ï¼Œæ”¹å–„ API æ˜“ç”¨æ€§</p> <p><strong>åƒè€ƒ</strong>: - Apple AsyncStream è¨­è¨ˆæ¨¡å¼ - EventOddsWebSocketManager å¯¦ä½œ</p> <p><strong>å„ªé»</strong>: - âœ… åŒæ­¥å‰µå»º AsyncStreamï¼Œæ”¹å–„ API æ˜“ç”¨æ€§ - âœ… å¯¦éš›é‚è¼¯ä»åœ¨ actor å…§åŸ·è¡Œï¼Œä¿æŒç·šç¨‹å®‰å…¨ - âœ… ç¬¦åˆ Swift Concurrency æœ€ä½³å¯¦è¸ - âœ… å‘å¾Œå…¼å®¹ï¼ˆå¯é¸æ“‡æ€§ç§»é™¤ awaitï¼‰</p> <hr> <h3 id=4-tdd>æ±ºç­– 4: TDD æ–‡ä»¶åŒæ­¥æ›´æ–°ç­–ç•¥</h3> <p><strong>å•é¡Œ</strong>: - å¯¦ä½œåŒ…å«å„ªæ–¼åŸ TDD çš„è¨­è¨ˆæ”¹é€² - TDD æ–‡ä»¶æœªåæ˜ é€™äº›æ”¹é€² - å¯èƒ½å°è‡´å¾ŒçºŒé–‹ç™¼è€…å›°æƒ‘</p> <p><strong>æ±ºç­–</strong>: ä¸»å‹•æ›´æ–° TDD æ–‡ä»¶ä»¥åæ˜ å¯¦ä½œæ”¹é€²</p> <p><strong>æ›´æ–°åŸå‰‡</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>âœ… æ‡‰è©²æ›´æ–°çš„æƒ…æ³ï¼š
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>1. å¯¦ä½œå¼•å…¥æ›´å¥½çš„å‹åˆ¥å®‰å…¨ï¼ˆå¦‚ Sendable åŒ…è£ï¼‰
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>2. å¯¦ä½œæ”¹å–„ä½µç™¼æ¨¡å‹ï¼ˆå¦‚ nonisolatedï¼‰
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>3. å¯¦ä½œéµå¾ªæ›´å¥½çš„è¨­è¨ˆæ¨¡å¼ï¼ˆå¦‚ Protocol é‡æ§‹ï¼‰
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>4. TDD ä¸­çš„å‹åˆ¥æˆ– API ä¸ç¬¦åˆå¯¦éš›éœ€æ±‚
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>5. å¯¦ä½œä¿®æ­£äº† TDD ä¸­çš„éŒ¯èª¤
<a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>
<a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>âŒ ä¸æ‡‰æ›´æ–°çš„æƒ…æ³ï¼š
<a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a>1. å¯¦ä½œåªæ˜¯å·æ‡¶æˆ–èµ°æ·å¾‘
<a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a>2. å¯¦ä½œé™ä½äº†ç¨‹å¼ç¢¼å“è³ª
<a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a>3. å¯¦ä½œé•åæ¶æ§‹åŸå‰‡
<a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a>4. åƒ…åƒ…æ˜¯å‘½åæˆ–æ ¼å¼å·®ç•°
</code></pre></div></p> <p><strong>åŸ·è¡Œæ­¥é©Ÿ</strong>: 1. è­˜åˆ¥æ‰€æœ‰å—å½±éŸ¿çš„ TDD tickets 2. æ›´æ–°ç¨‹å¼ç¢¼ç¯„ä¾‹ 3. æ›´æ–°å‘½åè¦ç¯„èªªæ˜ 4. è¨˜éŒ„è¨­è¨ˆæ±ºç­–ï¼ˆç‚ºä½•åé›¢åŸ TDDï¼‰ 5. ç”Ÿæˆ TDD æ›´æ–°è¨˜éŒ„æ–‡æª”</p> <p><strong>æ›´æ–°çš„ Tickets</strong>: - TDD-010: PrematchCommentAPI - TDD-020: PrematchCommentClient<br> - TDD-022: ChatWebSocketClient</p> <p><strong>è¼¸å‡ºæ–‡æª”</strong>: - <code>tdd_updates_2025-12-05.md</code> - è©³ç´°æ›´æ–°è¨˜éŒ„</p> <hr> <h3 id=5-commit>æ±ºç­– 5: Commit æ‹†åˆ†ç­–ç•¥</h3> <p><strong>åŸå‰‡</strong>: æŒ‰é‚è¼¯åŠŸèƒ½æ‹†åˆ†ï¼Œè€ŒéæŒ‰æª”æ¡ˆæ‹†åˆ†</p> <p><strong>å¯¦éš›æ‹†åˆ†</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>1. chore: update gitignore to exclude buildServer.json
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>   â†³ ä¸ç›¸é—œæ–¼ ticketï¼Œç¨ç«‹ commit
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>2. refactor: wrap shared bets metadata in sendable type
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>   [FOOTBALL-9180-9184]
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>   â†³ Sendable å‹åˆ¥åŒ…è£é‡æ§‹
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>3. refactor: make websocket subscribe method nonisolated
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>   [FOOTBALL-9180-9184]
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a>   â†³ WebSocket ä½µç™¼æ”¹é€²
<a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a>
<a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a>4. chore: update xcode project configuration
<a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>   [FOOTBALL-9180-9184]
<a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a>   â†³ é …ç›®é…ç½®æ›´æ–°
</code></pre></div></p> <p><strong>è©•ä¼°</strong>: - âœ… æ¯å€‹ commit ä»£è¡¨ä¸€å€‹é‚è¼¯è®Šæ›´ - âœ… å®¹æ˜“ review - âœ… å®¹æ˜“ cherry-pick æˆ– revert - âœ… ç¬¦åˆ Conventional Commits</p> <hr> <h2 id=_3>ğŸ’¡ å­¸ç¿’è¦é»</h2> <h3 id=1-swift-concurrency>1. Swift Concurrency æ·±åº¦ç†è§£</h3> <h4 id=sendable>Sendable å”è­°çš„æ­£ç¢ºæ‡‰ç”¨</h4> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=c1>// âŒ éŒ¯èª¤ï¼šç›´æ¥ä½¿ç”¨ non-Sendable å‹åˆ¥</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=kd>func</span><span class=w> </span><span class=nf>method</span><span class=p>(</span><span class=n>data</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=nb>String</span><span class=p>:</span><span class=w> </span><span class=nb>Any</span><span class=p>])</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=p>}</span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=c1>// âœ… æ­£ç¢ºï¼šåŒ…è£æˆ Sendable</span>
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=kd>struct</span><span class=w> </span><span class=nc>DataWrapper</span><span class=p>:</span><span class=w> </span><span class=p>@</span><span class=n>unchecked</span><span class=w> </span><span class=n>Sendable</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=nv>value</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=nb>String</span><span class=p>:</span><span class=w> </span><span class=nb>Any</span><span class=p>]</span>
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=p>}</span>
<a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=kd>func</span><span class=w> </span><span class=nf>method</span><span class=p>(</span><span class=n>data</span><span class=p>:</span><span class=w> </span><span class=n>DataWrapper</span><span class=p>)</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=p>}</span>
</code></pre></div> <p><strong>ä½•æ™‚ä½¿ç”¨ <code>@unchecked Sendable</code></strong>: - åŒ…è£ Foundation å‹åˆ¥ï¼ˆå¦‚ Dictionaryï¼‰ - ç¢ºä¿å¯¦éš›ä½¿ç”¨æ˜¯ç·šç¨‹å®‰å…¨çš„ - ç„¡æ³•ä¿®æ”¹å‹åˆ¥æœ¬èº«æ™‚ï¼ˆå¦‚ç¬¬ä¸‰æ–¹åº«ï¼‰</p> <h4 id=actor-isolation>Actor Isolation çš„ç´°å¾®å·®åˆ¥</h4> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=kd>public</span><span class=w> </span><span class=kd>actor</span><span class=w> </span><span class=n>MyActor</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=w>    </span><span class=c1>// Actor-isolated: éœ€è¦ await</span>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>func</span><span class=w> </span><span class=nf>method1</span><span class=p>()</span><span class=w> </span><span class=p>-&gt;</span><span class=w> </span><span class=nb>String</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s>&quot;value&quot;</span><span class=w> </span><span class=p>}</span>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=w>    </span><span class=c1>// Nonisolated: ä¸éœ€è¦ await</span>
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>nonisolated</span><span class=w> </span><span class=kd>func</span><span class=w> </span><span class=nf>method2</span><span class=p>()</span><span class=w> </span><span class=p>-&gt;</span><span class=w> </span><span class=nb>String</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s>&quot;value&quot;</span><span class=w> </span><span class=p>}</span>
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=p>}</span>
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a><span class=c1>// ä½¿ç”¨</span>
<a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=kd>let</span><span class=w> </span><span class=nv>value1</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=kd>actor</span><span class=p>.</span><span class=n>method1</span><span class=p>()</span><span class=w>  </span><span class=c1>// éœ€è¦ await</span>
<a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a><span class=kd>let</span><span class=w> </span><span class=nv>value2</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=kd>actor</span><span class=p>.</span><span class=n>method2</span><span class=p>()</span><span class=w>         </span><span class=c1>// ä¸éœ€è¦ await</span>
</code></pre></div> <p><strong>ä½¿ç”¨ nonisolated çš„æ™‚æ©Ÿ</strong>: - è¿”å›å€¼ä¸ä¾è³´ actor å…§éƒ¨ç‹€æ…‹ - éœ€è¦åŒæ­¥å‰µå»ºæŸäº›ç‰©ä»¶ï¼ˆå¦‚ AsyncStreamï¼‰ - æä¾›æ›´å¥½çš„ API æ˜“ç”¨æ€§</p> <hr> <h3 id=2-git>2. Git å·¥ä½œæµç¨‹æœ€ä½³å¯¦è¸</h3> <h4 id=gitignore>.gitignore ç­–ç•¥</h4> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>æ–¹æ¡ˆ 1: .gitignoreï¼ˆåœ˜éšŠå…±äº«ï¼‰
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>âœ… å„ªé»ï¼šæ‰€æœ‰äººå—ç›Šï¼Œè¦å‰‡ä¸€è‡´
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>âœ… é©ç”¨ï¼šæœ¬å°±æ‡‰è©²æ˜¯æœ¬åœ°é…ç½®çš„æª”æ¡ˆ
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>æ–¹æ¡ˆ 2: .git/info/excludeï¼ˆå€‹äººï¼‰
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>âœ… å„ªé»ï¼šä¸å½±éŸ¿å…¶ä»–äºº
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>âœ… é©ç”¨ï¼šç´”å€‹äººåå¥½çš„å¿½ç•¥è¦å‰‡
</code></pre></div> <h4 id=commit-message>Commit Message è¦ç¯„</h4> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>æ ¼å¼ï¼š&lt;type&gt;: &lt;description&gt; [TICKET-ID]
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>Type é¡å‹ï¼š
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>- feat: æ–°åŠŸèƒ½
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>- fix: Bug ä¿®å¾©
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>- refactor: é‡æ§‹
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>- chore: é›œé …ï¼ˆé…ç½®ã€å·¥å…·ç­‰ï¼‰
<a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>- docs: æ–‡ä»¶æ›´æ–°
<a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>- style: æ ¼å¼èª¿æ•´
<a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a>- test: æ¸¬è©¦ç›¸é—œ
<a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a>- perf: æ•ˆèƒ½å„ªåŒ–
</code></pre></div> <hr> <h3 id=3-tdd>3. TDD æ–‡ä»¶ç®¡ç†å“²å­¸</h3> <h4 id=_4>æ–‡ä»¶èˆ‡å¯¦ä½œçš„é—œä¿‚</h4> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>TDD æ–‡ä»¶ â†â†’ å¯¦ä½œç¨‹å¼ç¢¼
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>   â†“           â†“
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a> æ‡‰è©²æ˜¯      å¯ä»¥è¶…è¶Š
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a> æŒ‡å°       ä¸¦å›é¥‹
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>   â†‘           â†“
<a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a>   â””â”€â”€â”€ äº’ç›¸æ¼”é€² â”€â”€â”€â”˜
</code></pre></div> <p><strong>é—œéµåŸå‰‡</strong>: 1. TDD æ–‡ä»¶ä¸æ˜¯è–ç¶“ï¼Œå¯ä»¥ä¿®æ­£ 2. å¯¦ä½œæ”¹é€²æ‡‰è©²å›é¥‹åˆ° TDD 3. ä¿æŒæ–‡ä»¶èˆ‡å¯¦ä½œåŒæ­¥å¾ˆé‡è¦ 4. è¨˜éŒ„ç‚ºä½•åé›¢åŸ TDD</p> <h4 id=_5>è¨­è¨ˆæ±ºç­–è¨˜éŒ„çš„é‡è¦æ€§</h4> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=gu>## æ±ºç­– X: æ¨™é¡Œ</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=gs>**èƒŒæ™¯**</span>: ç‚ºä½•éœ€è¦åšæ±ºç­–
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=gs>**æ±ºç­–**</span>: åšäº†ä»€éº¼æ±ºå®š
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=gs>**ç†ç”±**</span>: ç‚ºä½•é¸æ“‡é€™å€‹æ–¹æ¡ˆ
<a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=gs>**å½±éŸ¿**</span>: æœ‰ä»€éº¼å½±éŸ¿å’Œé™åˆ¶
<a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a><span class=gs>**æ›¿ä»£æ–¹æ¡ˆ**</span>: è€ƒæ…®éä½†æœªæ¡ç”¨çš„æ–¹æ¡ˆ
</code></pre></div> <hr> <h3 id=4>4. æ¶æ§‹è¨­è¨ˆåŸå‰‡</h3> <h4 id=_6>é‚Šç•Œå±¤çš„å‹åˆ¥è½‰æ›</h4> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a>å¤–å±¤ï¼ˆClientï¼‰     â†’ å¼·å‹åˆ¥åŒ…è£ï¼ˆSendableï¼‰
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>      â†“
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>ä¸­é–“å±¤ï¼ˆRepositoryï¼‰â†’ è§£åŒ…/è½‰æ›
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a>      â†“
<a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a>å…§å±¤ï¼ˆAPI/Networkï¼‰â†’ åŸå§‹å‹åˆ¥ï¼ˆJSON ç›¸å®¹ï¼‰
</code></pre></div> <p><strong>åŸå‰‡</strong>: - åœ¨é‚Šç•Œè™•é€²è¡Œå‹åˆ¥è½‰æ› - å¤–å±¤ä½¿ç”¨å¼·å‹åˆ¥ä¿è­‰å®‰å…¨ - å…§å±¤ä½¿ç”¨åŸå§‹å‹åˆ¥ä¿è­‰ç›¸å®¹</p> <h4 id=protocol>Protocol å°å‘è¨­è¨ˆ</h4> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=c1>// âœ… å„ªç§€ï¼šProtocol + å…·é«”å¯¦ä½œ</span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=kd>public</span><span class=w> </span><span class=kd>protocol</span><span class=w> </span><span class=nc>ClientProtocol</span><span class=p>:</span><span class=w> </span><span class=n>Sendable</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=w>    </span><span class=kd>func</span><span class=w> </span><span class=nf>method</span><span class=p>()</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=kr>throws</span><span class=w> </span><span class=p>-&gt;</span><span class=w> </span><span class=n>Data</span>
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=p>}</span>
<a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a>
<a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a><span class=kd>public</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=nc>Client</span><span class=p>:</span><span class=w> </span><span class=n>ClientProtocol</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a><span class=w>    </span><span class=kd>func</span><span class=w> </span><span class=nf>method</span><span class=p>()</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=kr>throws</span><span class=w> </span><span class=p>-&gt;</span><span class=w> </span><span class=n>Data</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=p>...</span><span class=w> </span><span class=p>}</span>
<a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a><span class=p>}</span>
<a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a>
<a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a><span class=c1>// ä½¿ç”¨æ™‚ä¾è³´ Protocol</span>
<a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a><span class=kd>func</span><span class=w> </span><span class=nf>useClient</span><span class=p>(</span><span class=kc>_</span><span class=w> </span><span class=n>client</span><span class=p>:</span><span class=w> </span><span class=n>ClientProtocol</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=p>...</span><span class=w> </span><span class=p>}</span>
</code></pre></div> <p><strong>å„ªé»</strong>: - ä¾è³´æ³¨å…¥å®¹æ˜“ - æ¸¬è©¦ mock å®¹æ˜“ - è§£è€¦åˆ</p> <hr> <h3 id=5>5. å·¥å…·å’Œè‡ªå‹•åŒ–</h3> <h4 id=cursor-commands>Cursor Commands è¨­è¨ˆ</h4> <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a>å¥½çš„ Command æ‡‰è©²åŒ…å«ï¼š
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=k>1.</span> æ¸…æ¥šçš„ä½¿ç”¨æ–¹å¼
<a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a><span class=k>2.</span> å…·é«”çš„åŸ·è¡Œæ­¥é©Ÿ
<a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=k>3.</span> è¼¸å‡ºæ ¼å¼å®šç¾©
<a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a><span class=k>4.</span> ä½¿ç”¨ç¯„ä¾‹
<a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a><span class=k>5.</span> ç›¸é—œæ–‡ä»¶é€£çµ
</code></pre></div> <p><strong>ä»Šå¤©å„ªåŒ–çš„ Command</strong>: - <code>check-tdd-consistency.md</code> - æ–°å¢ TDD æ›´æ–°åŠŸèƒ½ - æ–°å¢æ›´æ–°åŸå‰‡ - æ–°å¢è¼¸å‡ºæ–‡ä»¶èªªæ˜</p> <hr> <h2 id=_7>ğŸš€ æ”¹é€²å»ºè­°</h2> <h3 id=1-p0>1. æ¸¬è©¦è‡ªå‹•åŒ–ï¼ˆå„ªå…ˆç´šï¼šP0ï¼‰</h3> <p><strong>ç¾ç‹€</strong>: - Client Layer æ¸¬è©¦è¦†è“‹ç‡ 0% - æ‰‹å‹•æ¸¬è©¦ä¸è¶³</p> <p><strong>å»ºè­°</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=c1>// ç‚ºæ¯å€‹ Client æ·»åŠ å–®å…ƒæ¸¬è©¦</span>
<a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=kd>class</span><span class=w> </span><span class=nc>PrematchCommentClientTests</span><span class=p>:</span><span class=w> </span><span class=n>XCTestCase</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a><span class=w>    </span><span class=kd>func</span><span class=w> </span><span class=nf>testPublishComment_withSharedBets</span><span class=p>()</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=kr>throws</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=nv>meta</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=n>SharedBetsMetadata</span><span class=p>([</span><span class=s>&quot;betId&quot;</span><span class=p>:</span><span class=w> </span><span class=s>&quot;123&quot;</span><span class=p>])</span>
<a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a><span class=w>        </span><span class=c1>// ... test implementation</span>
<a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a><span class=p>}</span>
</code></pre></div></p> <p><strong>ç›®æ¨™</strong>: - ä¸‹é€±å®Œæˆ Client Layer Unit Test - è¦†è“‹ç‡ â‰¥ 80%</p> <hr> <h3 id=2-api-p1>2. API è¦æ ¼é©—è­‰ï¼ˆå„ªå…ˆç´šï¼šP1ï¼‰</h3> <p><strong>ç¾ç‹€</strong>: - WebSocket é€£ç·šåƒæ•¸æœªèˆ‡å¾Œç«¯é©—è­‰ - STOMP è¨Šæ¯æ ¼å¼æœªç¢ºèª</p> <p><strong>å»ºè­°</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=c1>// Integration Test</span>
<a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=kd>class</span><span class=w> </span><span class=nc>ChatWebSocketIntegrationTests</span><span class=p>:</span><span class=w> </span><span class=n>XCTestCase</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=w>    </span><span class=kd>func</span><span class=w> </span><span class=nf>testWebSocketConnection</span><span class=p>()</span><span class=w> </span><span class=k>async</span><span class=w> </span><span class=kr>throws</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=nv>client</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=n>ChatWebSocketClient</span><span class=p>(...)</span>
<a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a><span class=w>        </span><span class=k>try</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=n>client</span><span class=p>.</span><span class=n>connect</span><span class=p>()</span>
<a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a><span class=w>        </span><span class=c1>// é©—è­‰é€£ç·šåƒæ•¸ã€è¨Šæ¯æ ¼å¼</span>
<a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a><span class=p>}</span>
</code></pre></div></p> <hr> <h3 id=3-p2>3. æ–‡ä»¶è‡ªå‹•åŒ–ï¼ˆå„ªå…ˆç´šï¼šP2ï¼‰</h3> <p><strong>ç¾ç‹€</strong>: - TDD æ–‡ä»¶éœ€æ‰‹å‹•æ›´æ–° - å®¹æ˜“éºæ¼æˆ–ä¸ä¸€è‡´</p> <p><strong>å»ºè­°</strong>: è€ƒæ…®è…³æœ¬è‡ªå‹•åŒ–ï¼š 1. æƒæ git diff è­˜åˆ¥å‹åˆ¥è®Šæ›´ 2. è‡ªå‹•æ›´æ–° TDD æ–‡ä»¶ç¨‹å¼ç¢¼ç¯„ä¾‹ 3. ç”Ÿæˆè®Šæ›´è¨˜éŒ„è‰ç¨¿</p> <hr> <h3 id=4-p2>4. è¨­è¨ˆæ–‡æª”æ¨¡æ¿åŒ–ï¼ˆå„ªå…ˆç´šï¼šP2ï¼‰</h3> <p><strong>ç¾ç‹€</strong>: - è¨­è¨ˆæ±ºç­–è¨˜éŒ„æ ¼å¼ä¸çµ±ä¸€</p> <p><strong>å»ºè­°</strong>: å‰µå»ºæ¨™æº–æ¨¡æ¿ï¼š <div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=gh># è¨­è¨ˆæ±ºç­–è¨˜éŒ„: [æ¨™é¡Œ]</span>
<a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a>
<a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=gu>## èƒŒæ™¯</span>
<a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a>[å•é¡Œæè¿°]
<a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a>
<a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a><span class=gu>## æ±ºç­–</span>
<a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a>[è§£æ±ºæ–¹æ¡ˆ]
<a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a>
<a id=__codelineno-18-9 name=__codelineno-18-9 href=#__codelineno-18-9></a><span class=gu>## ç†ç”±</span>
<a id=__codelineno-18-10 name=__codelineno-18-10 href=#__codelineno-18-10></a>[ç‚ºä½•é¸æ“‡]
<a id=__codelineno-18-11 name=__codelineno-18-11 href=#__codelineno-18-11></a>
<a id=__codelineno-18-12 name=__codelineno-18-12 href=#__codelineno-18-12></a><span class=gu>## å½±éŸ¿</span>
<a id=__codelineno-18-13 name=__codelineno-18-13 href=#__codelineno-18-13></a><span class=k>-</span><span class=w> </span>å„ªé»: ...
<a id=__codelineno-18-14 name=__codelineno-18-14 href=#__codelineno-18-14></a><span class=k>-</span><span class=w> </span>é™åˆ¶: ...
<a id=__codelineno-18-15 name=__codelineno-18-15 href=#__codelineno-18-15></a><span class=k>-</span><span class=w> </span>Breaking Changes: ...
<a id=__codelineno-18-16 name=__codelineno-18-16 href=#__codelineno-18-16></a>
<a id=__codelineno-18-17 name=__codelineno-18-17 href=#__codelineno-18-17></a><span class=gu>## æ›¿ä»£æ–¹æ¡ˆ</span>
<a id=__codelineno-18-18 name=__codelineno-18-18 href=#__codelineno-18-18></a>[è€ƒæ…®éçš„å…¶ä»–æ–¹æ¡ˆ]
</code></pre></div></p> <hr> <h3 id=5-cicd-p3>5. CI/CD æ•´åˆï¼ˆå„ªå…ˆç´šï¼šP3ï¼‰</h3> <p><strong>å»ºè­°</strong>: - åœ¨ CI ä¸­é‹è¡Œ TDD ä¸€è‡´æ€§æª¢æŸ¥ - è‡ªå‹•ç”Ÿæˆæª¢æŸ¥å ±å‘Š - PR æ™‚é¡¯ç¤ºè¦†è“‹ç‡è®ŠåŒ–</p> <hr> <h2 id=_8>ğŸ“ˆ é€²åº¦è¿½è¹¤</h2> <h3 id=_9>æœ¬é€±ç›®æ¨™é”æˆåº¦</h3> <div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a>âœ… Data Layer é‡æ§‹              100%
<a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>âœ… TDD æ–‡ä»¶åŒæ­¥                 100%
<a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a>âš ï¸ æ¸¬è©¦è£œå……                     0%   â† ä¸‹é€±é‡é»
<a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a>âš ï¸ API é©—è­‰                     0%   â† ä¸‹é€±é‡é»
</code></pre></div> <h3 id=_10>ä¸‹é€±è¨ˆç•«</h3> <div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a>Week Focus: Repository Layer + Testing
<a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a>
<a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a>Mon-Tue: Repository Layer å¯¦ä½œ
<a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a>Wed-Thu: Client Layer æ¸¬è©¦è£œå……
<a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a>Fri:     API æ•´åˆé©—è­‰èˆ‡é€±å ±
</code></pre></div> <hr> <h2 id=_11>ğŸ“ æŠ€è¡“æ·±åº¦å­¸ç¿’</h2> <h3 id=swift-concurrency>Swift Concurrency å­¸ç¿’è³‡æº</h3> <p><strong>ä»Šå¤©æ·±å…¥ç†è§£çš„æ¦‚å¿µ</strong>: 1. <code>@unchecked Sendable</code> çš„ä½¿ç”¨å ´æ™¯ 2. Actor isolation èˆ‡ nonisolated çš„å–æ¨ 3. AsyncStream çš„æ­£ç¢ºå‰µå»ºæ¨¡å¼</p> <p><strong>æ¨è–¦é–±è®€</strong>: - SE-0302: Sendable and @Sendable closures - SE-0306: Actors - WWDC 2021: Protect mutable state with Swift actors</p> <hr> <h3 id=clean-architecture>Clean Architecture å¯¦è¸</h3> <p><strong>ä»Šå¤©çš„å¯¦è¸</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a>Presentation Layer
<a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a>       â†“
<a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a>Feature Layer (TCA)
<a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a>       â†“
<a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a>UseCase Layer (Business Logic)
<a id=__codelineno-21-6 name=__codelineno-21-6 href=#__codelineno-21-6></a>       â†“
<a id=__codelineno-21-7 name=__codelineno-21-7 href=#__codelineno-21-7></a>Repository Layer (Data Abstraction)
<a id=__codelineno-21-8 name=__codelineno-21-8 href=#__codelineno-21-8></a>       â†“
<a id=__codelineno-21-9 name=__codelineno-21-9 href=#__codelineno-21-9></a>Client Layer (HTTP/WebSocket)  â† ä»Šå¤©é‡æ§‹çš„å±¤ç´š
<a id=__codelineno-21-10 name=__codelineno-21-10 href=#__codelineno-21-10></a>       â†“
<a id=__codelineno-21-11 name=__codelineno-21-11 href=#__codelineno-21-11></a>API Layer (Endpoint Definition)
<a id=__codelineno-21-12 name=__codelineno-21-12 href=#__codelineno-21-12></a>       â†“
<a id=__codelineno-21-13 name=__codelineno-21-13 href=#__codelineno-21-13></a>Network Layer
</code></pre></div></p> <p><strong>å­¸åˆ°çš„</strong>: - é‚Šç•Œå±¤çš„å‹åˆ¥è½‰æ›ç­–ç•¥ - Protocol å°å‘çš„ä¾è³´æ³¨å…¥ - é—œæ³¨é»åˆ†é›¢çš„é‡è¦æ€§</p> <hr> <h2 id=_12>ğŸ¤ å”ä½œèˆ‡æºé€š</h2> <h3 id=cursor-ai>èˆ‡ Cursor AI çš„å”ä½œæ¨¡å¼</h3> <p><strong>æœ‰æ•ˆçš„å”ä½œæ–¹å¼</strong>: 1. âœ… æä¾›æ¸…æ™°çš„ä¸Šä¸‹æ–‡ï¼ˆæª”æ¡ˆã€éœ€æ±‚ï¼‰ 2. âœ… ä½¿ç”¨çµæ§‹åŒ–çš„ Command 3. âœ… åˆ†éšæ®µé©—è­‰çµæœ 4. âœ… ä¸»å‹•å›é¥‹å’Œèª¿æ•´</p> <p><strong>ä»Šå¤©çš„å”ä½œæµç¨‹</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a>éœ€æ±‚ â†’ Cursor åˆ†æ â†’ æ–¹æ¡ˆå»ºè­° â†’ 
<a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a>ç”¨æˆ¶ç¢ºèª â†’ å¯¦ä½œ â†’ é©—è­‰ â†’ 
<a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a>æ–‡ä»¶æ›´æ–° â†’ çµ±æ•´å­¸ç¿’
</code></pre></div></p> <hr> <h2 id=code-snippets>ğŸ“š å€¼å¾—è¨˜éŒ„çš„ Code Snippets</h2> <h3 id=1-sharedbetsmetadata>1. SharedBetsMetadata åŒ…è£æ¨¡å¼</h3> <div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=c1>// å®šç¾©åŒ…è£å‹åˆ¥</span>
<a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=kd>public</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=nc>SharedBetsMetadata</span><span class=p>:</span><span class=w> </span><span class=p>@</span><span class=n>unchecked</span><span class=w> </span><span class=n>Sendable</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>let</span><span class=w> </span><span class=nv>value</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=nb>String</span><span class=p>:</span><span class=w> </span><span class=nb>Any</span><span class=p>]</span>
<a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a>
<a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>init</span><span class=p>(</span><span class=kc>_</span><span class=w> </span><span class=n>value</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=nb>String</span><span class=p>:</span><span class=w> </span><span class=nb>Any</span><span class=p>])</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a><span class=w>        </span><span class=kc>self</span><span class=p>.</span><span class=n>value</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=n>value</span>
<a id=__codelineno-23-7 name=__codelineno-23-7 href=#__codelineno-23-7></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-23-8 name=__codelineno-23-8 href=#__codelineno-23-8></a><span class=p>}</span>
<a id=__codelineno-23-9 name=__codelineno-23-9 href=#__codelineno-23-9></a>
<a id=__codelineno-23-10 name=__codelineno-23-10 href=#__codelineno-23-10></a><span class=c1>// Client å±¤ä½¿ç”¨</span>
<a id=__codelineno-23-11 name=__codelineno-23-11 href=#__codelineno-23-11></a><span class=kd>let</span><span class=w> </span><span class=nv>meta</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=n>SharedBetsMetadata</span><span class=p>([</span><span class=s>&quot;betId&quot;</span><span class=p>:</span><span class=w> </span><span class=s>&quot;123&quot;</span><span class=p>])</span>
<a id=__codelineno-23-12 name=__codelineno-23-12 href=#__codelineno-23-12></a><span class=k>try</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=n>client</span><span class=p>.</span><span class=n>publishComment</span><span class=p>(...,</span><span class=w> </span><span class=n>sharedBetsMeta</span><span class=p>:</span><span class=w> </span><span class=n>meta</span><span class=p>,</span><span class=w> </span><span class=p>...)</span>
<a id=__codelineno-23-13 name=__codelineno-23-13 href=#__codelineno-23-13></a>
<a id=__codelineno-23-14 name=__codelineno-23-14 href=#__codelineno-23-14></a><span class=c1>// Repository å±¤è§£åŒ…</span>
<a id=__codelineno-23-15 name=__codelineno-23-15 href=#__codelineno-23-15></a><span class=kd>func</span><span class=w> </span><span class=nf>publishComment</span><span class=p>(...,</span><span class=w> </span><span class=n>sharedBetsMeta</span><span class=p>:</span><span class=w> </span><span class=n>SharedBetsMetadata</span><span class=p>?,</span><span class=w> </span><span class=p>...)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-23-16 name=__codelineno-23-16 href=#__codelineno-23-16></a><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=nv>metaDict</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=nb>String</span><span class=p>:</span><span class=w> </span><span class=nb>Any</span><span class=p>]?</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=n>sharedBetsMeta</span><span class=p>?.</span><span class=n>value</span>
<a id=__codelineno-23-17 name=__codelineno-23-17 href=#__codelineno-23-17></a><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=nv>endpoint</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=n>Endpoint</span><span class=p>.</span><span class=n>publishComment</span><span class=p>(...,</span><span class=w> </span><span class=n>sharedBetsMeta</span><span class=p>:</span><span class=w> </span><span class=n>metaDict</span><span class=p>,</span><span class=w> </span><span class=p>...)</span>
<a id=__codelineno-23-18 name=__codelineno-23-18 href=#__codelineno-23-18></a><span class=p>}</span>
</code></pre></div> <h3 id=2-nonisolated-asyncstream>2. Nonisolated AsyncStream æ¨¡å¼</h3> <div class=highlight><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=kd>public</span><span class=w> </span><span class=kd>actor</span><span class=w> </span><span class=n>MyActor</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a><span class=w>    </span><span class=c1>// Nonisolated æ–¹æ³•åŒæ­¥å‰µå»º stream</span>
<a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>nonisolated</span><span class=w> </span><span class=kd>func</span><span class=w> </span><span class=nf>subscribe</span><span class=p>(</span><span class=n>id</span><span class=p>:</span><span class=w> </span><span class=nb>String</span><span class=p>)</span><span class=w> </span><span class=p>-&gt;</span><span class=w> </span><span class=n>AsyncStream</span><span class=p>&lt;</span><span class=n>Message</span><span class=p>&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a><span class=w>        </span><span class=n>AsyncStream</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>continuation</span><span class=w> </span><span class=k>in</span>
<a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=w>            </span><span class=n>Task</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a><span class=w>                </span><span class=k>await</span><span class=w> </span><span class=kc>self</span><span class=p>.</span><span class=n>performSubscribe</span><span class=p>(</span><span class=n>id</span><span class=p>:</span><span class=w> </span><span class=n>id</span><span class=p>,</span><span class=w> </span><span class=n>continuation</span><span class=p>:</span><span class=w> </span><span class=n>continuation</span><span class=p>)</span>
<a id=__codelineno-24-7 name=__codelineno-24-7 href=#__codelineno-24-7></a><span class=w>            </span><span class=p>}</span>
<a id=__codelineno-24-8 name=__codelineno-24-8 href=#__codelineno-24-8></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-24-9 name=__codelineno-24-9 href=#__codelineno-24-9></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-24-10 name=__codelineno-24-10 href=#__codelineno-24-10></a>
<a id=__codelineno-24-11 name=__codelineno-24-11 href=#__codelineno-24-11></a><span class=w>    </span><span class=c1>// Actor-isolated å¯¦éš›é‚è¼¯</span>
<a id=__codelineno-24-12 name=__codelineno-24-12 href=#__codelineno-24-12></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>func</span><span class=w> </span><span class=nf>performSubscribe</span><span class=p>(</span><span class=n>id</span><span class=p>:</span><span class=w> </span><span class=nb>String</span><span class=p>,</span><span class=w> </span><span class=n>continuation</span><span class=p>:</span><span class=w> </span><span class=n>AsyncStream</span><span class=p>&lt;</span><span class=n>Message</span><span class=p>&gt;.</span><span class=n>Continuation</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-24-13 name=__codelineno-24-13 href=#__codelineno-24-13></a><span class=w>        </span><span class=c1>// è¨‚é–±é‚è¼¯...</span>
<a id=__codelineno-24-14 name=__codelineno-24-14 href=#__codelineno-24-14></a><span class=w>        </span><span class=n>continuation</span><span class=p>.</span><span class=n>yield</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>
<a id=__codelineno-24-15 name=__codelineno-24-15 href=#__codelineno-24-15></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-24-16 name=__codelineno-24-16 href=#__codelineno-24-16></a><span class=p>}</span>
</code></pre></div> <hr> <h2 id=_13>ğŸ’­ åæ€èˆ‡ç¸½çµ</h2> <h3 id=_14>ä»Šå¤©åšå¾—å¥½çš„åœ°æ–¹</h3> <ol> <li>âœ… ç³»çµ±æ€§åœ°è§£æ±º Sendable å•é¡Œ</li> <li>âœ… å®Œæ•´è¨˜éŒ„è¨­è¨ˆæ±ºç­–</li> <li>âœ… ä¸»å‹•æ›´æ–° TDD æ–‡ä»¶ä¿æŒåŒæ­¥</li> <li>âœ… Commit æ‹†åˆ†æ¸…æ™°åˆç†</li> </ol> <h3 id=_15>å¯ä»¥æ”¹é€²çš„åœ°æ–¹</h3> <ol> <li>âš ï¸ æ¸¬è©¦æ‡‰è©²èˆ‡å¯¦ä½œåŒæ­¥å®Œæˆ</li> <li>âš ï¸ API é©—è­‰æ‡‰è©²æ›´æ—©é€²è¡Œ</li> <li>âš ï¸ å¯ä»¥æ›´æ—©èˆ‡å¾Œç«¯ç¢ºèªè¦æ ¼</li> </ol> <h3 id=_16>æ˜å¤©çš„é‡é»</h3> <ol> <li>é–‹å§‹ Repository Layer å¯¦ä½œ</li> <li>è£œå…… Client Layer æ¸¬è©¦</li> <li>è¦åŠƒ Domain Model Layer</li> </ol> <hr> <h2 id=_17>ğŸ”— ç›¸é—œè³‡æº</h2> <ul> <li><strong>Branch</strong>: feature/FOOTBALL-9180-9184-DataLayer</li> <li><strong>Commits</strong>: 41c38d3, 1f97afa, 163d376, c00431a</li> <li><strong>TDD Reports</strong>:</li> <li><code>tdd_consistency_check_2025-12-05.md</code></li> <li><code>tdd_updates_2025-12-05.md</code></li> <li><strong>Changelog</strong>: <code>14_Changelog/CHANGELOG.md</code></li> </ul> <hr> <hr> <h2 id=cursor-ios>ğŸ–¥ï¸ Cursor iOS é–‹ç™¼ç’°å¢ƒè¨­ç½®ï¼ˆä¸‹åˆæ™‚æ®µï¼‰</h2> <h3 id=_18>ç’°å¢ƒè¨­ç½®ç›®æ¨™</h3> <p>å»ºç«‹å®Œæ•´çš„ Cursor iOS é–‹ç™¼ç’°å¢ƒï¼Œå¯¦ç¾åœ¨ Cursor ä¸­ç›´æ¥æ§‹å»ºã€é‹è¡Œå’Œèª¿è©¦ iOS appï¼Œç„¡éœ€åˆ‡æ›åˆ° Xcodeã€‚</p> <hr> <h3 id=6-cursor-ios>æ±ºç­– 6: Cursor iOS é–‹ç™¼å·¥å…·éˆé…ç½®</h3> <p><strong>èƒŒæ™¯</strong>: - éœ€è¦åœ¨ Cursor ä¸­å¯¦ç¾å®Œæ•´çš„ iOS é–‹ç™¼å·¥ä½œæµ - åƒè€ƒ Thomas Ricouard çš„ Cursor iOS é–‹ç™¼å¯¦è¸ - ä½¿ç”¨ SweetPad + Xcode Build Server æ•´åˆ</p> <p><strong>å®‰è£çš„å·¥å…·</strong>:</p> <ol> <li> <p><strong>Homebrew å·¥å…·</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a>brew<span class=w> </span>install<span class=w> </span>xcode-build-server<span class=w>  </span><span class=c1># v1.2.0</span>
<a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a>brew<span class=w> </span>install<span class=w> </span>xcbeautify<span class=w>           </span><span class=c1># v3.1.1  </span>
<a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a>brew<span class=w> </span>install<span class=w> </span>swiftformat<span class=w>          </span><span class=c1># v0.58.7</span>
</code></pre></div></p> </li> <li> <p><strong>Cursor Extensions</strong>:</p> </li> <li><code>sswg.swift-lang</code> (v1.11.4) - Swift èªè¨€æ”¯æ´</li> <li><code>vadimcn.vscode-lldb</code> (v1.12.0) - LLDB èª¿è©¦å™¨</li> <li> <p><code>SweetPad</code> - iOS/Swift é–‹ç™¼æ ¸å¿ƒæ’ä»¶</p> </li> <li> <p><strong>é…ç½®æ–‡ä»¶</strong>:</p> </li> <li><code>.cursor/launch.json</code> - èª¿è©¦é…ç½®</li> <li><code>buildServer.json</code> - Xcode Build Server é…ç½®</li> </ol> <p><strong>é…ç½®å…§å®¹</strong>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=c1>// .cursor/launch.json</span>
<a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a><span class=p>{</span>
<a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a><span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0.2.0&quot;</span><span class=p>,</span>
<a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a><span class=w>  </span><span class=nt>&quot;configurations&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[{</span>
<a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a><span class=w>    </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;sweetpad-lldb&quot;</span><span class=p>,</span>
<a id=__codelineno-26-6 name=__codelineno-26-6 href=#__codelineno-26-6></a><span class=w>    </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;launch&quot;</span><span class=p>,</span>
<a id=__codelineno-26-7 name=__codelineno-26-7 href=#__codelineno-26-7></a><span class=w>    </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Attach to running app (SweetPad)&quot;</span><span class=p>,</span>
<a id=__codelineno-26-8 name=__codelineno-26-8 href=#__codelineno-26-8></a><span class=w>    </span><span class=nt>&quot;preLaunchTask&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;sweetpad: launch&quot;</span>
<a id=__codelineno-26-9 name=__codelineno-26-9 href=#__codelineno-26-9></a><span class=w>  </span><span class=p>}]</span>
<a id=__codelineno-26-10 name=__codelineno-26-10 href=#__codelineno-26-10></a><span class=p>}</span>
<a id=__codelineno-26-11 name=__codelineno-26-11 href=#__codelineno-26-11></a>
<a id=__codelineno-26-12 name=__codelineno-26-12 href=#__codelineno-26-12></a><span class=c1>// buildServer.json</span>
<a id=__codelineno-26-13 name=__codelineno-26-13 href=#__codelineno-26-13></a><span class=p>{</span>
<a id=__codelineno-26-14 name=__codelineno-26-14 href=#__codelineno-26-14></a><span class=w>  </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;FCom&quot;</span><span class=p>,</span>
<a id=__codelineno-26-15 name=__codelineno-26-15 href=#__codelineno-26-15></a><span class=w>  </span><span class=nt>&quot;uri&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;file:///Users/reedhsin/Documents/codebase/fcom-iOS&quot;</span><span class=p>,</span>
<a id=__codelineno-26-16 name=__codelineno-26-16 href=#__codelineno-26-16></a><span class=w>  </span><span class=nt>&quot;project&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;FCom.xcodeproj&quot;</span><span class=p>,</span>
<a id=__codelineno-26-17 name=__codelineno-26-17 href=#__codelineno-26-17></a><span class=w>  </span><span class=nt>&quot;scheme&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;FCom&quot;</span>
<a id=__codelineno-26-18 name=__codelineno-26-18 href=#__codelineno-26-18></a><span class=p>}</span>
</code></pre></div> <hr> <h3 id=7-xcode-select>æ±ºç­– 7: xcode-select é…ç½®ä¿®å¾©</h3> <p><strong>å•é¡Œ</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a>xcode-select: error: tool &#39;xcodebuild&#39; requires Xcode, 
<a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a>but active developer directory &#39;/Library/Developer/CommandLineTools&#39; 
<a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a>is a command line tools instance
</code></pre></div></p> <p><strong>åŸå› </strong>: ç³»çµ±æŒ‡å‘ Command Line Tools è€Œéå®Œæ•´çš„ Xcode</p> <p><strong>è§£æ±ºæ–¹æ¡ˆ</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=c1># åˆ‡æ›åˆ°å®Œæ•´çš„ Xcode</span>
<a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a>sudo<span class=w> </span>xcode-select<span class=w> </span>--switch<span class=w> </span>/Applications/Xcode.app/Contents/Developer
<a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a>
<a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a><span class=c1># é©—è­‰</span>
<a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a>xcode-select<span class=w> </span>-p
<a id=__codelineno-28-6 name=__codelineno-28-6 href=#__codelineno-28-6></a>xcodebuild<span class=w> </span>-version
</code></pre></div></p> <p><strong>çµæœ</strong>: - Xcode 16.1 (Build 16B40) æ­£ç¢ºé…ç½® - SweetPad å¯ä»¥æ­£å¸¸æ§‹å»ºå°ˆæ¡ˆ</p> <hr> <h3 id=8-sourcekit-lsp>æ±ºç­– 8: SourceKit-LSP ç´¢å¼•å•é¡Œè™•ç†</h3> <p><strong>å•é¡Œ</strong>: - <code>ChatAPI+WebSocket.swift</code> å ±éŒ¯ "Cannot find type 'ChatAPI' in scope" - ä½† <code>ChatAPI.swift</code> æ–‡ä»¶å­˜åœ¨ä¸”å…¶ä»– extension æ–‡ä»¶æ­£å¸¸</p> <p><strong>åˆ†æ</strong>: - æ–‡ä»¶çµæ§‹æ­£ç¢ºï¼Œæ‰€æœ‰ extension åœ¨åŒä¸€ç›®éŒ„ - å…¶ä»– extension æ–‡ä»¶ï¼ˆå¦‚ <code>ChatAPI+Endpoint.swift</code>ï¼‰ä½¿ç”¨ç›¸åŒæ¨¡å¼ç„¡éŒ¯èª¤ - é€™æ˜¯ SourceKit-LSP ç´¢å¼•çš„æš«æ™‚æ€§å•é¡Œ</p> <p><strong>è§£æ±ºæ­¥é©Ÿ</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=c1># 1. æ¸…ç†ç·©å­˜</span>
<a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a>rm<span class=w> </span>-rf<span class=w> </span>~/Library/Caches/com.apple.dt.Xcode
<a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a>
<a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a><span class=c1># 2. é‡å•Ÿ SourceKit-LSP</span>
<a id=__codelineno-29-5 name=__codelineno-29-5 href=#__codelineno-29-5></a>killall<span class=w> </span>sourcekit-lsp
<a id=__codelineno-29-6 name=__codelineno-29-6 href=#__codelineno-29-6></a>
<a id=__codelineno-29-7 name=__codelineno-29-7 href=#__codelineno-29-7></a><span class=c1># 3. é‡æ–°ç”Ÿæˆ buildServer.json</span>
<a id=__codelineno-29-8 name=__codelineno-29-8 href=#__codelineno-29-8></a>xcode-build-server<span class=w> </span>config<span class=w> </span>-workspace<span class=w> </span>FCom.xcodeproj/project.xcworkspace<span class=w> </span>-scheme<span class=w> </span>FCom
<a id=__codelineno-29-9 name=__codelineno-29-9 href=#__codelineno-29-9></a>
<a id=__codelineno-29-10 name=__codelineno-29-10 href=#__codelineno-29-10></a><span class=c1># 4. é‡å•Ÿ Cursor</span>
</code></pre></div></p> <p><strong>å­¸ç¿’é»</strong>: - SourceKit ç´¢å¼•éŒ¯èª¤ä¸ä¸€å®šä»£è¡¨ä»£ç¢¼æœ‰å•é¡Œ - æ¸…ç†ç·©å­˜å’Œé‡å•Ÿæ˜¯å¸¸è¦‹è§£æ±ºæ–¹æ¡ˆ - å¯¦éš›æ§‹å»ºæˆåŠŸæ‰æ˜¯çœŸæ­£çš„é©—è­‰</p> <hr> <h3 id=_19>æˆåŠŸæ§‹å»ºé©—è­‰</h3> <p><strong>ç¬¬ä¸€æ¬¡æ§‹å»º</strong>: - Target: FCom - Destination: iPhone 16 Plus, OS=18.1 - çµæœ: âœ… Build Succeeded</p> <p><strong>æ§‹å»ºè¼¸å‡º</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a>âœ… Swift Package ä¾è³´è§£æå®Œæˆ
<a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a>âœ… ç·¨è­¯å®Œæˆ
<a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a>âœ… æ¨¡æ“¬å™¨å•Ÿå‹•: xcrun simctl boot 581BF0ED...
<a id=__codelineno-30-4 name=__codelineno-30-4 href=#__codelineno-30-4></a>âœ… App å®‰è£: xcrun simctl install ... FCom.app
<a id=__codelineno-30-5 name=__codelineno-30-5 href=#__codelineno-30-5></a>âœ… App å•Ÿå‹•: xcrun simctl launch ... com.sportybet.SportyBet
<a id=__codelineno-30-6 name=__codelineno-30-6 href=#__codelineno-30-6></a>âœ… Firebase åˆå§‹åŒ–: Version 10.29.0
</code></pre></div></p> <p><strong>Warnings åˆ†æ</strong>: - 81 å€‹ linter warningsï¼Œä¸»è¦é¡å‹ï¼š - ~50% æ£„ç”¨çš„ API (iOS 15 UIButton APIs) - ~20% Swift 6 ä¸¦ç™¼è­¦å‘Š - ~20% æœªä½¿ç”¨çš„è®Šæ•¸ - ~10% å…¶ä»– - é€™äº›æ˜¯è­¦å‘Šä¸æ˜¯éŒ¯èª¤ï¼Œä¸å½±éŸ¿é‹è¡Œ - å¯ä»¥é€æ­¥ä¿®å¾©ï¼Œä¸ç·Šæ€¥</p> <hr> <h3 id=sweetpad>SweetPad å·¥ä½œæµç¨‹å­¸ç¿’</h3> <p><strong>åŸºæœ¬æ“ä½œ</strong>:</p> <ol> <li><strong>æ§‹å»ºä¸¦é‹è¡Œ</strong>:</li> <li>Command Palette â†’ <code>Sweetpad: Build &amp; Run (Launch)</code></li> <li>é¸æ“‡ Target: <code>FCom</code></li> <li> <p>é¸æ“‡ Destination: iPhone æ¨¡æ“¬å™¨</p> </li> <li> <p><strong>æ¸…ç†æ§‹å»º</strong>:</p> </li> <li><code>Sweetpad: Clean</code> â†’ æ¸…ç†æ§‹å»ºç”¢ç‰©</li> <li> <p>æˆ–æ‰‹å‹•: <code>rm -rf ~/Library/Developer/Xcode/DerivedData/FCom-*</code></p> </li> <li> <p><strong>èª¿è©¦</strong>:</p> </li> <li>F5 é–‹å§‹èª¿è©¦</li> <li>ä½¿ç”¨ SweetPad LLDB é…ç½®</li> <li>æ”¯æ´æ–·é»å’Œèª¿ç”¨å †ç–Š</li> </ol> <p><strong>æª¢æŸ¥æ§‹å»ºç‹€æ…‹</strong>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=c1># æª¢æŸ¥æ§‹å»ºé€²ç¨‹</span>
<a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a>ps<span class=w> </span>aux<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>xcodebuild
<a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a>
<a id=__codelineno-31-4 name=__codelineno-31-4 href=#__codelineno-31-4></a><span class=c1># æª¢æŸ¥æ¨¡æ“¬å™¨ç‹€æ…‹  </span>
<a id=__codelineno-31-5 name=__codelineno-31-5 href=#__codelineno-31-5></a>xcrun<span class=w> </span>simctl<span class=w> </span>list<span class=w> </span>devices<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>Booted
<a id=__codelineno-31-6 name=__codelineno-31-6 href=#__codelineno-31-6></a>
<a id=__codelineno-31-7 name=__codelineno-31-7 href=#__codelineno-31-7></a><span class=c1># æª¢æŸ¥ App æ˜¯å¦é‹è¡Œ</span>
<a id=__codelineno-31-8 name=__codelineno-31-8 href=#__codelineno-31-8></a>xcrun<span class=w> </span>simctl<span class=w> </span>spawn<span class=w> </span>booted<span class=w> </span>ps<span class=w> </span>aux<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>FCom
</code></pre></div> <hr> <h3 id=_20>çµ‚ç«¯æ©Ÿå•é¡Œè™•ç†</h3> <p><strong>å•é¡Œ</strong>: Cursor çµ‚ç«¯æ©Ÿé¡¯ç¤ºç©ºç™½</p> <p><strong>è§£æ±ºæ–¹æ¡ˆ</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=c1># æ–¹æ³• 1: é‡æ–°å•Ÿå‹• shell</span>
<a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a><span class=nb>exec</span><span class=w> </span>zsh
<a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a>
<a id=__codelineno-32-4 name=__codelineno-32-4 href=#__codelineno-32-4></a><span class=c1># æ–¹æ³• 2: å‰µå»ºæ–°çµ‚ç«¯æ©Ÿ</span>
<a id=__codelineno-32-5 name=__codelineno-32-5 href=#__codelineno-32-5></a>Ctrl+Shift+<span class=sb>`</span><span class=w> </span><span class=o>(</span>åå¼•è™Ÿ<span class=o>)</span>
<a id=__codelineno-32-6 name=__codelineno-32-6 href=#__codelineno-32-6></a>
<a id=__codelineno-32-7 name=__codelineno-32-7 href=#__codelineno-32-7></a><span class=c1># æ–¹æ³• 3: é‡æ–°è¼‰å…¥è¦–çª—</span>
<a id=__codelineno-32-8 name=__codelineno-32-8 href=#__codelineno-32-8></a>Cmd+Shift+P<span class=w> </span>â†’<span class=w> </span>Developer:<span class=w> </span>Reload<span class=w> </span>Window
</code></pre></div></p> <p><strong>é©—è­‰</strong>: çµ‚ç«¯æ©Ÿæ­£å¸¸é¡¯ç¤ºæç¤ºç¬¦ï¼š<code>reedhsin@ReeddeMacBook-Pro fcom-iOS %</code></p> <hr> <h3 id=_21>å‰µå»ºçš„æ–‡æª”</h3> <ol> <li><strong>CURSOR_IOS_SETUP.md</strong> - å®Œæ•´è¨­ç½®æŒ‡å—</li> <li>å·¥å…·å®‰è£æ­¥é©Ÿ</li> <li>é…ç½®èªªæ˜</li> <li>é©—è­‰æ¸…å–®</li> <li> <p>æ•…éšœæ’é™¤</p> </li> <li> <p><strong>CURSOR_IOS_SETUP_PROMPT.md</strong> - AI Prompt ç‰ˆæœ¬</p> </li> <li>å¯ç›´æ¥è¤‡è£½çµ¦ Cursor AI</li> <li> <p>è‡ªå‹•åŸ·è¡Œè¨­ç½®æ­¥é©Ÿ</p> </li> <li> <p><strong>SWEETPAD_BUILD_RUN.md</strong> - SweetPad ä½¿ç”¨æŒ‡å—</p> </li> <li>ä¸‰ç¨®æ§‹å»ºæ–¹æ³•</li> <li>å¸¸ç”¨å‘½ä»¤åƒè€ƒ</li> <li> <p>æ•…éšœæ’é™¤</p> </li> <li> <p><strong>FIX_XCODE_SELECT.md</strong> - xcode-select ä¿®å¾©æŒ‡å—</p> </li> <li>éŒ¯èª¤è¨ºæ–·</li> <li>ä¿®å¾©è…³æœ¬</li> <li> <p>é©—è­‰æ­¥é©Ÿ</p> </li> <li> <p><strong>CHECK_SWEETPAD_STATUS.md</strong> - ç‹€æ…‹æª¢æŸ¥æŒ‡å—</p> </li> <li>å¤šç¨®æª¢æŸ¥æ–¹æ³•</li> <li>å¯¦æ™‚ç›£æ§è…³æœ¬</li> <li> <p>å¿«é€Ÿåƒè€ƒå‘½ä»¤</p> </li> <li> <p><strong>FIX_TERMINAL_BLANK.md</strong> - çµ‚ç«¯æ©Ÿä¿®å¾©æŒ‡å—</p> </li> <li>å¸¸è¦‹å•é¡Œ</li> <li>å¤šç¨®è§£æ±ºæ–¹æ¡ˆ</li> </ol> <hr> <h3 id=_22>å­¸ç¿’è¦é»</h3> <p><strong>1. Cursor + Xcode æ•´åˆæ¶æ§‹</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a>Cursor IDE
<a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a>    â†“
<a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a>SweetPad Extension
<a id=__codelineno-33-4 name=__codelineno-33-4 href=#__codelineno-33-4></a>    â†“
<a id=__codelineno-33-5 name=__codelineno-33-5 href=#__codelineno-33-5></a>Xcode Build Server (xcode-build-server)
<a id=__codelineno-33-6 name=__codelineno-33-6 href=#__codelineno-33-6></a>    â†“
<a id=__codelineno-33-7 name=__codelineno-33-7 href=#__codelineno-33-7></a>xcodebuild CLI
<a id=__codelineno-33-8 name=__codelineno-33-8 href=#__codelineno-33-8></a>    â†“
<a id=__codelineno-33-9 name=__codelineno-33-9 href=#__codelineno-33-9></a>xcbeautify (è¼¸å‡ºç¾åŒ–)
<a id=__codelineno-33-10 name=__codelineno-33-10 href=#__codelineno-33-10></a>    â†“
<a id=__codelineno-33-11 name=__codelineno-33-11 href=#__codelineno-33-11></a>Simulator/Device
</code></pre></div></p> <p><strong>2. å•é¡Œè¨ºæ–·æµç¨‹</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a>1. æª¢æŸ¥å·¥å…·æ˜¯å¦å®‰è£ï¼ˆbrew listï¼‰
<a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a>2. æª¢æŸ¥é…ç½®æ–‡ä»¶ï¼ˆbuildServer.json, launch.jsonï¼‰
<a id=__codelineno-34-3 name=__codelineno-34-3 href=#__codelineno-34-3></a>3. æª¢æŸ¥ xcode-select é…ç½®
<a id=__codelineno-34-4 name=__codelineno-34-4 href=#__codelineno-34-4></a>4. æª¢æŸ¥ SourceKit ç´¢å¼•ç‹€æ…‹
<a id=__codelineno-34-5 name=__codelineno-34-5 href=#__codelineno-34-5></a>5. æŸ¥çœ‹çµ‚ç«¯æ©Ÿè¼¸å‡º
<a id=__codelineno-34-6 name=__codelineno-34-6 href=#__codelineno-34-6></a>6. æª¢æŸ¥ Problems é¢æ¿
</code></pre></div></p> <p><strong>3. æœ€ä½³å¯¦è¸</strong>: - é‡åˆ°éŒ¯èª¤å…ˆçœ‹çµ‚ç«¯æ©Ÿè¼¸å‡º - SourceKit éŒ¯èª¤ä¸ä¸€å®šæ˜¯çœŸéŒ¯èª¤ - æ¸…ç†ç·©å­˜æ˜¯è¬èƒ½è§£æ±ºæ–¹æ¡ˆ - é©—è­‰æ§‹å»ºæˆåŠŸæ‰æ˜¯ç‹é“ - è¨˜éŒ„è¨­ç½®æ­¥é©Ÿæ–¹ä¾¿åˆ†äº«</p> <p><strong>4. åƒè€ƒè³‡æº</strong>: - <a href=https://docs.cursor.com/zh-Hant/guides/languages/swift>Cursor å®˜æ–¹ Swift é–‹ç™¼æŒ‡å—</a> - <a href=https://dimillian.medium.com/how-to-use-cursor-for-ios-development-54b912c23941>Thomas Ricouard çš„ Cursor iOS é–‹ç™¼å¯¦æˆ°æŒ‡å—</a></p> <hr> <h3 id=_23>ç’°å¢ƒè¨­ç½®æˆæœ</h3> <p>âœ… <strong>å®Œæˆçš„é…ç½®</strong>: - Homebrew å·¥å…·å®‰è£å®Œæˆï¼ˆ3å€‹ï¼‰ - Cursor Extensions å®‰è£å®Œæˆï¼ˆ3å€‹ï¼‰ - é…ç½®æ–‡ä»¶å‰µå»ºå®Œæˆï¼ˆ2å€‹ï¼‰ - xcode-select æ­£ç¢ºé…ç½® - é¦–æ¬¡æ§‹å»ºæˆåŠŸ - App åœ¨æ¨¡æ“¬å™¨ä¸Šé‹è¡Œ</p> <p>âœ… <strong>å‰µå»ºçš„æ–‡æª”</strong>: - 6 ä»½å®Œæ•´çš„è¨­ç½®å’Œä½¿ç”¨æŒ‡å— - å¯åˆ†äº«çµ¦å…¶ä»–é–‹ç™¼è€…ä½¿ç”¨</p> <p>âœ… <strong>é©—è­‰çš„åŠŸèƒ½</strong>: - æ§‹å»ºå°ˆæ¡ˆ - é‹è¡Œåœ¨æ¨¡æ“¬å™¨ - çµ‚ç«¯æ©Ÿè¼¸å‡º - å•é¡Œè¨ºæ–· - ç‹€æ…‹æª¢æŸ¥</p> <p><strong>ä¸‹ä¸€æ­¥</strong>: - å­¸ç¿’æ›´å¤š SweetPad é«˜ç´šåŠŸèƒ½ - é…ç½®è‡ªå®šç¾©å¿«æ·éµ - æ¢ç´¢èª¿è©¦åŠŸèƒ½ - æ•´åˆå…¶ä»–é–‹ç™¼å·¥å…·</p> <hr> <hr> <h2 id=swift>ğŸ”§ Swift ä¸¦ç™¼å•é¡Œä¿®å¾©ï¼ˆæ™šé–“æ™‚æ®µï¼‰</h2> <h3 id=9-xcode-build-server>æ±ºç­– 9: xcode-build-server é‡æ–°å®‰è£</h3> <p><strong>å•é¡Œ</strong>: - éœ€è¦ç¢ºä¿ xcode-build-server æ­£ç¢ºå®‰è£ - ç‚ºæ¯å€‹ Swift Package ç”Ÿæˆç¨ç«‹çš„ buildServer.json</p> <p><strong>åŸ·è¡Œ</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=c1># é‡æ–°å®‰è£ xcode-build-server</span>
<a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a>brew<span class=w> </span>uninstall<span class=w> </span>xcode-build-server
<a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a>brew<span class=w> </span>install<span class=w> </span>xcode-build-server<span class=w>  </span><span class=c1># v1.2.0</span>
<a id=__codelineno-35-4 name=__codelineno-35-4 href=#__codelineno-35-4></a>
<a id=__codelineno-35-5 name=__codelineno-35-5 href=#__codelineno-35-5></a><span class=c1># ç‚ºä¸»é …ç›®ç”Ÿæˆé…ç½®</span>
<a id=__codelineno-35-6 name=__codelineno-35-6 href=#__codelineno-35-6></a><span class=nb>cd</span><span class=w> </span>/Users/reedhsin/Documents/codebase/fcom-iOS
<a id=__codelineno-35-7 name=__codelineno-35-7 href=#__codelineno-35-7></a>xcode-build-server<span class=w> </span>config<span class=w> </span>-project<span class=w> </span>FCom.xcodeproj<span class=w> </span>-scheme<span class=w> </span>FCom
<a id=__codelineno-35-8 name=__codelineno-35-8 href=#__codelineno-35-8></a>
<a id=__codelineno-35-9 name=__codelineno-35-9 href=#__codelineno-35-9></a><span class=c1># ç‚º MatchChat ç”Ÿæˆç¨ç«‹é…ç½®</span>
<a id=__codelineno-35-10 name=__codelineno-35-10 href=#__codelineno-35-10></a><span class=nb>cd</span><span class=w> </span>MatchChat
<a id=__codelineno-35-11 name=__codelineno-35-11 href=#__codelineno-35-11></a>xcode-build-server<span class=w> </span>config<span class=w> </span>-project<span class=w> </span>../FCom.xcodeproj<span class=w> </span>-scheme<span class=w> </span>MatchChat
</code></pre></div></p> <p><strong>å­¸ç¿’é»</strong>: - ä¸€å€‹ workspace çš„ buildServer.json å°±è¶³å¤  - å­ç›®éŒ„çš„ buildServer.json å¯æ”¹å–„ LSP é«”é©— - ä½†éœ€è¦å…ˆæˆåŠŸç·¨è­¯æ‰èƒ½ç”Ÿæˆ</p> <hr> <h3 id=10-swift-6-concurrency>æ±ºç­– 10: ä¿®å¾© Swift 6 Concurrency éŒ¯èª¤</h3> <p><strong>èƒŒæ™¯</strong>: MatchChat ä½¿ç”¨ Swift 6.0ï¼Œå•Ÿç”¨åš´æ ¼ä¸¦ç™¼æª¢æŸ¥ï¼Œå°è‡´å…©å€‹ç·¨è­¯éŒ¯èª¤ï¼š</p> <ol> <li> <p><strong><code>PrematchCommentAPI+Repository.swift:42</code></strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a>error: non-sendable type &#39;[String : Any]?&#39; in parameter 
<a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a>cannot cross actor boundary
</code></pre></div></p> </li> <li> <p><strong><code>ChatWebSocketClient.swift:178</code></strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a>error: actor-isolated instance method &#39;subscribe(chatroomId:)&#39; 
<a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a>cannot be used to satisfy nonisolated protocol requirement
</code></pre></div></p> </li> </ol> <p><strong>è§£æ±ºæ–¹æ¡ˆ 1: SharedBetsMetadata Wrapperï¼ˆæœ€çµ‚ç‰ˆæœ¬ï¼‰</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=c1>// å®šç¾© Sendable wrapper</span>
<a id=__codelineno-38-2 name=__codelineno-38-2 href=#__codelineno-38-2></a><span class=kd>public</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=nc>SharedBetsMetadata</span><span class=p>:</span><span class=w> </span><span class=p>@</span><span class=n>unchecked</span><span class=w> </span><span class=n>Sendable</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-38-3 name=__codelineno-38-3 href=#__codelineno-38-3></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>let</span><span class=w> </span><span class=nv>value</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=nb>String</span><span class=p>:</span><span class=w> </span><span class=nb>Any</span><span class=p>]</span>
<a id=__codelineno-38-4 name=__codelineno-38-4 href=#__codelineno-38-4></a>
<a id=__codelineno-38-5 name=__codelineno-38-5 href=#__codelineno-38-5></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>init</span><span class=p>(</span><span class=kc>_</span><span class=w> </span><span class=n>value</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=nb>String</span><span class=p>:</span><span class=w> </span><span class=nb>Any</span><span class=p>])</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-38-6 name=__codelineno-38-6 href=#__codelineno-38-6></a><span class=w>        </span><span class=kc>self</span><span class=p>.</span><span class=n>value</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=n>value</span>
<a id=__codelineno-38-7 name=__codelineno-38-7 href=#__codelineno-38-7></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-38-8 name=__codelineno-38-8 href=#__codelineno-38-8></a><span class=p>}</span>
<a id=__codelineno-38-9 name=__codelineno-38-9 href=#__codelineno-38-9></a>
<a id=__codelineno-38-10 name=__codelineno-38-10 href=#__codelineno-38-10></a><span class=c1>// æ›´æ–°æ‰€æœ‰å±¤ç´šçš„ç°½å</span>
<a id=__codelineno-38-11 name=__codelineno-38-11 href=#__codelineno-38-11></a><span class=c1>// Protocol</span>
<a id=__codelineno-38-12 name=__codelineno-38-12 href=#__codelineno-38-12></a><span class=kd>func</span><span class=w> </span><span class=nf>publishComment</span><span class=p>(...,</span><span class=w> </span><span class=n>sharedBetsMeta</span><span class=p>:</span><span class=w> </span><span class=n>SharedBetsMetadata</span><span class=p>?,</span><span class=w> </span><span class=p>...)</span>
<a id=__codelineno-38-13 name=__codelineno-38-13 href=#__codelineno-38-13></a>
<a id=__codelineno-38-14 name=__codelineno-38-14 href=#__codelineno-38-14></a><span class=c1>// Repository  </span>
<a id=__codelineno-38-15 name=__codelineno-38-15 href=#__codelineno-38-15></a><span class=kd>func</span><span class=w> </span><span class=nf>publishComment</span><span class=p>(...,</span><span class=w> </span><span class=n>sharedBetsMeta</span><span class=p>:</span><span class=w> </span><span class=n>SharedBetsMetadata</span><span class=p>?,</span><span class=w> </span><span class=p>...)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-38-16 name=__codelineno-38-16 href=#__codelineno-38-16></a><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=nv>metaDict</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=nb>String</span><span class=p>:</span><span class=w> </span><span class=nb>Any</span><span class=p>]?</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=n>sharedBetsMeta</span><span class=p>?.</span><span class=n>value</span>
<a id=__codelineno-38-17 name=__codelineno-38-17 href=#__codelineno-38-17></a><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=nv>endpoint</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=n>Endpoint</span><span class=p>.</span><span class=n>publishComment</span><span class=p>(...,</span><span class=w> </span><span class=n>sharedBetsMeta</span><span class=p>:</span><span class=w> </span><span class=n>metaDict</span><span class=p>,</span><span class=w> </span><span class=p>...)</span>
<a id=__codelineno-38-18 name=__codelineno-38-18 href=#__codelineno-38-18></a><span class=p>}</span>
<a id=__codelineno-38-19 name=__codelineno-38-19 href=#__codelineno-38-19></a>
<a id=__codelineno-38-20 name=__codelineno-38-20 href=#__codelineno-38-20></a><span class=c1>// Endpoint (ä¿æŒåŸæ¨£)</span>
<a id=__codelineno-38-21 name=__codelineno-38-21 href=#__codelineno-38-21></a><span class=k>case</span><span class=w> </span><span class=n>publishComment</span><span class=p>(...,</span><span class=w> </span><span class=n>sharedBetsMeta</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=nb>String</span><span class=p>:</span><span class=w> </span><span class=nb>Any</span><span class=p>]?,</span><span class=w> </span><span class=p>...)</span>
</code></pre></div> <p><strong>è¨­è¨ˆè€ƒé‡</strong>: - âœ… ç¬¦åˆ TDD å®šç¾©ï¼š<code>[String: AnyCodable]?</code> çš„èªæ„ - âœ… Response çš„ <code>sharedBetsMeta: String?</code> ä¿æŒä¸è®Š - âœ… æ”¯æ´ä»»æ„ JSON çµæ§‹ - âš ï¸ ä½¿ç”¨ <code>@unchecked Sendable</code>ï¼ˆéœ€é–‹ç™¼è€…ç¢ºä¿ç·šç¨‹å®‰å…¨ï¼‰</p> <p><strong>è§£æ±ºæ–¹æ¡ˆ 2: ChatWebSocketClient.subscribe Nonisolated</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a><span class=c1>// å°‡ subscribe æ¨™è¨˜ç‚º nonisolated</span>
<a id=__codelineno-39-2 name=__codelineno-39-2 href=#__codelineno-39-2></a><span class=kd>public</span><span class=w> </span><span class=kd>actor</span><span class=w> </span><span class=n>ChatWebSocketClient</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-39-3 name=__codelineno-39-3 href=#__codelineno-39-3></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>nonisolated</span><span class=w> </span><span class=kd>func</span><span class=w> </span><span class=nf>subscribe</span><span class=p>(</span><span class=n>chatroomId</span><span class=p>:</span><span class=w> </span><span class=nb>String</span><span class=p>)</span><span class=w> </span>
<a id=__codelineno-39-4 name=__codelineno-39-4 href=#__codelineno-39-4></a><span class=w>        </span><span class=p>-&gt;</span><span class=w> </span><span class=n>AsyncStream</span><span class=p>&lt;</span><span class=n>ChatAPI</span><span class=p>.</span><span class=n>WebSocketMessageDTO</span><span class=p>&gt;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-39-5 name=__codelineno-39-5 href=#__codelineno-39-5></a><span class=w>        </span><span class=n>AsyncStream</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>continuation</span><span class=w> </span><span class=k>in</span>
<a id=__codelineno-39-6 name=__codelineno-39-6 href=#__codelineno-39-6></a><span class=w>            </span><span class=n>Task</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-39-7 name=__codelineno-39-7 href=#__codelineno-39-7></a><span class=w>                </span><span class=k>await</span><span class=w> </span><span class=kc>self</span><span class=p>.</span><span class=n>performSubscribe</span><span class=p>(</span>
<a id=__codelineno-39-8 name=__codelineno-39-8 href=#__codelineno-39-8></a><span class=w>                    </span><span class=n>chatroomId</span><span class=p>:</span><span class=w> </span><span class=n>chatroomId</span><span class=p>,</span>
<a id=__codelineno-39-9 name=__codelineno-39-9 href=#__codelineno-39-9></a><span class=w>                    </span><span class=n>continuation</span><span class=p>:</span><span class=w> </span><span class=n>continuation</span>
<a id=__codelineno-39-10 name=__codelineno-39-10 href=#__codelineno-39-10></a><span class=w>                </span><span class=p>)</span>
<a id=__codelineno-39-11 name=__codelineno-39-11 href=#__codelineno-39-11></a><span class=w>            </span><span class=p>}</span>
<a id=__codelineno-39-12 name=__codelineno-39-12 href=#__codelineno-39-12></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-39-13 name=__codelineno-39-13 href=#__codelineno-39-13></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-39-14 name=__codelineno-39-14 href=#__codelineno-39-14></a>
<a id=__codelineno-39-15 name=__codelineno-39-15 href=#__codelineno-39-15></a><span class=w>    </span><span class=c1>// Actor-isolated å¯¦éš›é‚è¼¯</span>
<a id=__codelineno-39-16 name=__codelineno-39-16 href=#__codelineno-39-16></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>func</span><span class=w> </span><span class=nf>performSubscribe</span><span class=p>(</span>
<a id=__codelineno-39-17 name=__codelineno-39-17 href=#__codelineno-39-17></a><span class=w>        </span><span class=n>chatroomId</span><span class=p>:</span><span class=w> </span><span class=nb>String</span><span class=p>,</span>
<a id=__codelineno-39-18 name=__codelineno-39-18 href=#__codelineno-39-18></a><span class=w>        </span><span class=n>continuation</span><span class=p>:</span><span class=w> </span><span class=n>AsyncStream</span><span class=o>&lt;</span><span class=p>...</span><span class=o>&gt;</span><span class=p>.</span><span class=n>Continuation</span>
<a id=__codelineno-39-19 name=__codelineno-39-19 href=#__codelineno-39-19></a><span class=w>    </span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-39-20 name=__codelineno-39-20 href=#__codelineno-39-20></a><span class=w>        </span><span class=c1>// è¨‚é–±é‚è¼¯...</span>
<a id=__codelineno-39-21 name=__codelineno-39-21 href=#__codelineno-39-21></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-39-22 name=__codelineno-39-22 href=#__codelineno-39-22></a><span class=p>}</span>
<a id=__codelineno-39-23 name=__codelineno-39-23 href=#__codelineno-39-23></a>
<a id=__codelineno-39-24 name=__codelineno-39-24 href=#__codelineno-39-24></a><span class=c1>// ChatroomSubscription ä¹Ÿéœ€èª¿æ•´</span>
<a id=__codelineno-39-25 name=__codelineno-39-25 href=#__codelineno-39-25></a><span class=kd>private</span><span class=w> </span><span class=kd>class</span><span class=w> </span><span class=nc>ChatroomSubscription</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-39-26 name=__codelineno-39-26 href=#__codelineno-39-26></a><span class=w>    </span><span class=kd>func</span><span class=w> </span><span class=nf>addSubscriber</span><span class=p>(</span><span class=n>id</span><span class=p>:</span><span class=w> </span><span class=n>UUID</span><span class=p>,</span><span class=w> </span><span class=n>continuation</span><span class=p>:</span><span class=w> </span><span class=n>AsyncStream</span><span class=o>&lt;</span><span class=p>...</span><span class=o>&gt;</span><span class=p>.</span><span class=n>Continuation</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-39-27 name=__codelineno-39-27 href=#__codelineno-39-27></a><span class=w>        </span><span class=n>continuationsLock</span><span class=p>.</span><span class=n>lock</span><span class=p>()</span>
<a id=__codelineno-39-28 name=__codelineno-39-28 href=#__codelineno-39-28></a><span class=w>        </span><span class=k>defer</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>continuationsLock</span><span class=p>.</span><span class=n>unlock</span><span class=p>()</span><span class=w> </span><span class=p>}</span>
<a id=__codelineno-39-29 name=__codelineno-39-29 href=#__codelineno-39-29></a><span class=w>        </span><span class=n>messageContinuations</span><span class=p>[</span><span class=n>id</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=n>continuation</span>
<a id=__codelineno-39-30 name=__codelineno-39-30 href=#__codelineno-39-30></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-39-31 name=__codelineno-39-31 href=#__codelineno-39-31></a><span class=p>}</span>
</code></pre></div> <p><strong>æ”¹é€²åŸç†</strong>: 1. <code>nonisolated</code> æ–¹æ³•åŒæ­¥å‰µå»º <code>AsyncStream</code> 2. å¯¦éš›è¨‚é–±é‚è¼¯åœ¨ <code>Task</code> ä¸­ç•°æ­¥åŸ·è¡Œ 3. Protocol ä¹Ÿæ¨™è¨˜ç‚º <code>nonisolated</code> 4. æ”¹å–„ API æ˜“ç”¨æ€§ï¼Œç„¡éœ€ <code>await</code></p> <hr> <h3 id=11-tdd>æ±ºç­– 11: TDD æ–‡ä»¶ä¸€è‡´æ€§æª¢æŸ¥èˆ‡ä¿®æ­£</h3> <p><strong>å•é¡Œç™¼ç¾</strong>: ç”¨æˆ¶è©¢å•ï¼šã€Œé€™å€‹ä¿®å¾©æœ‰èˆ‡ TDDs æ–‡ä»¶å®šç¾©ä¸€è‡´å—ï¼Ÿã€</p> <p><strong>æª¢æŸ¥çµæœ</strong>: - TDD å®šç¾©ï¼ˆç¬¬ 294 è¡Œï¼‰ï¼š<code>sharedBetsMeta: [String: AnyCodable]?</code> - Response DTOï¼ˆç¬¬ 162 è¡Œï¼‰ï¼š<code>sharedBetsMeta: String?</code></p> <p><strong>ä¸ä¸€è‡´ä¹‹è™•</strong>: - TDD ä¸­ Request å’Œ Response çš„å‹åˆ¥å®šç¾©ä¸ä¸€è‡´ - Request æ˜¯ Dictionaryï¼ŒResponse æ˜¯ String</p> <p><strong>ä¿®æ­£æ–¹æ¡ˆ</strong>: æœ€çµ‚æ¡ç”¨ <code>SharedBetsMetadata</code> wrapperï¼Œå› ç‚ºï¼š 1. èªæ„ä¸Šç­‰åŒæ–¼ <code>[String: AnyCodable]?</code> 2. è§£æ±º Sendable å•é¡Œ 3. å‹åˆ¥æ›´æ˜ç¢º</p> <p><strong>ä¸€è‡´æ€§ç¢ºèª</strong>: âœ… - Request: <code>SharedBetsMetadata</code> å°è£ <code>[String: Any]</code> - Response: <code>String?</code> (JSON string) - ç¬¦åˆ API å¯¦éš›è¡Œç‚º</p> <hr> <h3 id=12-gitignore>æ±ºç­– 12: .gitignore æ›´æ–°</h3> <p><strong>èƒŒæ™¯</strong>: - <code>buildServer.json</code> æ˜¯æœ¬åœ°é…ç½®æ–‡ä»¶ - æ¯å€‹é–‹ç™¼è€…ç’°å¢ƒä¸åŒ - åœ¨ git æ“ä½œä¸­æœƒé€ æˆè¡çª</p> <p><strong>æ±ºç­–</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a><span class=c1># åŠ å…¥ .gitignore</span>
<a id=__codelineno-40-2 name=__codelineno-40-2 href=#__codelineno-40-2></a><span class=nb>echo</span><span class=w> </span><span class=s2>&quot;buildServer.json&quot;</span><span class=w> </span>&gt;&gt;<span class=w> </span>.gitignore
<a id=__codelineno-40-3 name=__codelineno-40-3 href=#__codelineno-40-3></a>
<a id=__codelineno-40-4 name=__codelineno-40-4 href=#__codelineno-40-4></a><span class=c1># åˆªé™¤å·²è¿½è¹¤çš„æ–‡ä»¶</span>
<a id=__codelineno-40-5 name=__codelineno-40-5 href=#__codelineno-40-5></a>git<span class=w> </span>rm<span class=w> </span>--cached<span class=w> </span>buildServer.json
<a id=__codelineno-40-6 name=__codelineno-40-6 href=#__codelineno-40-6></a>git<span class=w> </span>rm<span class=w> </span>--cached<span class=w> </span>MatchChat/buildServer.json
</code></pre></div></p> <p><strong>åŸå› </strong>: - <code>buildServer.json</code> åŒ…å«æœ¬åœ°è·¯å¾‘ï¼ˆDerivedDataï¼‰ - é¡ä¼¼ <code>.vscode/settings.json</code> çš„æ€§è³ª - æ‡‰è©²æ˜¯æ¯å€‹é–‹ç™¼è€…è‡ªå·±ç”Ÿæˆ</p> <hr> <h3 id=_24>ç·¨è­¯é©—è­‰</h3> <p><strong>ç¬¬ä¸€æ¬¡å˜—è©¦</strong>: âŒ <div class=highlight><pre><span></span><code><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a>error: non-sendable type &#39;[String : Any]?&#39; in parameter
</code></pre></div></p> <p><strong>ç¬¬äºŒæ¬¡å˜—è©¦</strong>: âŒ <div class=highlight><pre><span></span><code><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a>error: cannot convert value of type &#39;[String : Any]?&#39; 
<a id=__codelineno-42-2 name=__codelineno-42-2 href=#__codelineno-42-2></a>to expected argument type &#39;[String : String]?&#39;
</code></pre></div></p> <p><strong>å•é¡Œè¨ºæ–·</strong>: - <code>search_replace</code> å·¥å…·çš„æ›´æ–°æœªç”Ÿæ•ˆ - éœ€è¦ä½¿ç”¨ <code>sed</code> ç›´æ¥ä¿®æ”¹æ–‡ä»¶</p> <p><strong>æœ€çµ‚ä¿®å¾©</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-43-1 name=__codelineno-43-1 href=#__codelineno-43-1></a>sed<span class=w> </span>-i<span class=w> </span><span class=s1>&#39;&#39;</span><span class=w> </span><span class=s1>&#39;s/sharedBetsMeta: \[String: String\]/sharedBetsMeta: [String: Any]/g&#39;</span><span class=w> </span><span class=se>\</span>
<a id=__codelineno-43-2 name=__codelineno-43-2 href=#__codelineno-43-2></a><span class=w>  </span>PrematchCommentAPI+Endpoint.swift
</code></pre></div></p> <p><strong>æœ€çµ‚çµæœ</strong>: âœ… <strong>BUILD SUCCEEDED</strong></p> <hr> <h3 id=_25>æ›´æ–°çš„æ–‡ä»¶</h3> <p><strong>ä¿®æ”¹çš„æ–‡ä»¶</strong>: 1. <code>PrematchCommentAPI+RepositoryProtocol.swift</code> - æ–°å¢ SharedBetsMetadata 2. <code>PrematchCommentAPI+Repository.swift</code> - ä½¿ç”¨ wrapper 3. <code>PrematchCommentAPI+Endpoint.swift</code> - ä¿æŒ <code>[String: Any]</code> 4. <code>PrematchCommentClient.swift</code> - ä½¿ç”¨ wrapper 5. <code>PrematchCommentClientProtocol.swift</code> - ä½¿ç”¨ wrapper 6. <code>ChatWebSocketClient.swift</code> - nonisolated subscribe 7. <code>ChatWebSocketClientProtocol.swift</code> - nonisolated subscribe 8. <code>.gitignore</code> - åŠ å…¥ buildServer.json</p> <p><strong>æ–°å¢çš„æ–‡ä»¶</strong>: - <code>buildServer.json</code> (æ ¹ç›®éŒ„) - <code>MatchChat/buildServer.json</code> (æ‰‹å‹•å‰µå»º)</p> <hr> <h3 id=_26>å­¸ç¿’è¦é»è£œå……</h3> <h4 id=swift-6-strict-concurrency-mode>Swift 6 Strict Concurrency Mode</h4> <p><strong>å•Ÿç”¨æ–¹å¼</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-44-1 name=__codelineno-44-1 href=#__codelineno-44-1></a><span class=c1>// Package.swift</span>
<a id=__codelineno-44-2 name=__codelineno-44-2 href=#__codelineno-44-2></a><span class=c1>// swift-tools-version: 6.0</span>
</code></pre></div></p> <p><strong>å½±éŸ¿</strong>: - åš´æ ¼æª¢æŸ¥ Sendable å”è­° - Actor isolation è¦å‰‡ - è·¨ actor boundary çš„å‹åˆ¥å‚³é</p> <p><strong>å¸¸è¦‹éŒ¯èª¤</strong>: 1. Non-sendable type crossing actor boundary 2. Actor-isolated method satisfying nonisolated protocol 3. Data race detection</p> <h4 id=unchecked-sendable>@unchecked Sendable ä½¿ç”¨æ™‚æ©Ÿ</h4> <p><strong>é©ç”¨å ´æ™¯</strong>: - âœ… åŒ…è£ Foundation å‹åˆ¥ï¼ˆå¦‚ Dictionaryï¼‰ - âœ… ç¢ºä¿å¯¦éš›ä½¿ç”¨æ˜¯ç·šç¨‹å®‰å…¨çš„ - âœ… ç„¡æ³•ä¿®æ”¹å‹åˆ¥æœ¬èº«æ™‚</p> <p><strong>ä½¿ç”¨åŸå‰‡</strong>: - âš ï¸ è¬¹æ…ä½¿ç”¨ï¼Œéœ€ç¢ºä¿ç·šç¨‹å®‰å…¨ - âš ï¸ æ·»åŠ è¨»é‡‹èªªæ˜ç‚ºä½•å®‰å…¨ - âš ï¸ è€ƒæ…®æœªä¾†æ˜¯å¦æœ‰æ›´å¥½çš„æ–¹æ¡ˆ</p> <h4 id=_27>å·¥å…·ä½¿ç”¨æŠ€å·§</h4> <p><strong>search_replace å·¥å…·é™åˆ¶</strong>: - æœ‰æ™‚æ›´æ–°ä¸æœƒç«‹å³ç”Ÿæ•ˆ - å¯èƒ½æ˜¯ç·©å­˜æˆ–æ™‚åºå•é¡Œ - å‚™ç”¨æ–¹æ¡ˆï¼šä½¿ç”¨ terminal <code>sed</code> å‘½ä»¤</p> <p><strong>é©—è­‰æ–¹æ³•</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-45-1 name=__codelineno-45-1 href=#__codelineno-45-1></a><span class=c1># ç›´æ¥æª¢æŸ¥æ–‡ä»¶å…§å®¹</span>
<a id=__codelineno-45-2 name=__codelineno-45-2 href=#__codelineno-45-2></a>grep<span class=w> </span>-n<span class=w> </span><span class=s2>&quot;pattern&quot;</span><span class=w> </span>file.swift
<a id=__codelineno-45-3 name=__codelineno-45-3 href=#__codelineno-45-3></a>
<a id=__codelineno-45-4 name=__codelineno-45-4 href=#__codelineno-45-4></a><span class=c1># æˆ–ä½¿ç”¨ cat</span>
<a id=__codelineno-45-5 name=__codelineno-45-5 href=#__codelineno-45-5></a>cat<span class=w> </span>file.swift<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span><span class=s2>&quot;pattern&quot;</span>
</code></pre></div></p> <hr> <h3 id=_28>å•é¡Œæ’æŸ¥æµç¨‹</h3> <p><strong>ç·¨è­¯å¤±æ•—è¨ºæ–·æµç¨‹</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-46-1 name=__codelineno-46-1 href=#__codelineno-46-1></a>1. çœ‹éŒ¯èª¤è¨Šæ¯æ‰¾å‡ºå…·é«”è¡Œæ•¸
<a id=__codelineno-46-2 name=__codelineno-46-2 href=#__codelineno-46-2></a>   â†“
<a id=__codelineno-46-3 name=__codelineno-46-3 href=#__codelineno-46-3></a>2. æª¢æŸ¥ç›¸é—œæ–‡ä»¶çš„å‹åˆ¥å®šç¾©
<a id=__codelineno-46-4 name=__codelineno-46-4 href=#__codelineno-46-4></a>   â†“
<a id=__codelineno-46-5 name=__codelineno-46-5 href=#__codelineno-46-5></a>3. ç¢ºèª Protocolã€å¯¦ä½œã€èª¿ç”¨æ–¹ä¸€è‡´æ€§
<a id=__codelineno-46-6 name=__codelineno-46-6 href=#__codelineno-46-6></a>   â†“
<a id=__codelineno-46-7 name=__codelineno-46-7 href=#__codelineno-46-7></a>4. é©—è­‰ä¿®æ”¹æ˜¯å¦çœŸçš„ç”Ÿæ•ˆï¼ˆgrep æª¢æŸ¥ï¼‰
<a id=__codelineno-46-8 name=__codelineno-46-8 href=#__codelineno-46-8></a>   â†“
<a id=__codelineno-46-9 name=__codelineno-46-9 href=#__codelineno-46-9></a>5. æ¸…ç†ç·¨è­¯ç·©å­˜å¾Œé‡è©¦
<a id=__codelineno-46-10 name=__codelineno-46-10 href=#__codelineno-46-10></a>   â†“
<a id=__codelineno-46-11 name=__codelineno-46-11 href=#__codelineno-46-11></a>6. é€æ­¥é©—è­‰æ¯å±¤çš„å‹åˆ¥åŒ¹é…
</code></pre></div></p> <p><strong>æœ¬æ¬¡å¯¦éš›æµç¨‹</strong>: <div class=highlight><pre><span></span><code><a id=__codelineno-47-1 name=__codelineno-47-1 href=#__codelineno-47-1></a>éŒ¯èª¤ 1: [String: Any]? ä¸æ˜¯ Sendable
<a id=__codelineno-47-2 name=__codelineno-47-2 href=#__codelineno-47-2></a>  â†“
<a id=__codelineno-47-3 name=__codelineno-47-3 href=#__codelineno-47-3></a>è§£æ±º: å‰µå»º SharedBetsMetadata wrapper
<a id=__codelineno-47-4 name=__codelineno-47-4 href=#__codelineno-47-4></a>  â†“
<a id=__codelineno-47-5 name=__codelineno-47-5 href=#__codelineno-47-5></a>éŒ¯èª¤ 2: [String: Any]? ç„¡æ³•è½‰æ›ç‚º [String: String]?
<a id=__codelineno-47-6 name=__codelineno-47-6 href=#__codelineno-47-6></a>  â†“
<a id=__codelineno-47-7 name=__codelineno-47-7 href=#__codelineno-47-7></a>æª¢æŸ¥: Endpoint å®šç¾©ä»æ˜¯èˆŠçš„
<a id=__codelineno-47-8 name=__codelineno-47-8 href=#__codelineno-47-8></a>  â†“
<a id=__codelineno-47-9 name=__codelineno-47-9 href=#__codelineno-47-9></a>è§£æ±º: ä½¿ç”¨ sed ç›´æ¥ä¿®æ”¹
<a id=__codelineno-47-10 name=__codelineno-47-10 href=#__codelineno-47-10></a>  â†“
<a id=__codelineno-47-11 name=__codelineno-47-11 href=#__codelineno-47-11></a>âœ… BUILD SUCCEEDED
</code></pre></div></p> <hr> <h3 id=_29>ä¸‹æ¬¡æ”¹é€²å»ºè­°</h3> <ol> <li><strong>å·¥å…·ä½¿ç”¨</strong>:</li> <li>search_replace å¾Œç«‹å³é©—è­‰</li> <li>é‡è¦ä¿®æ”¹è€ƒæ…®å…ˆç”¨ sed</li> <li> <p>å»ºç«‹é©—è­‰è…³æœ¬</p> </li> <li> <p><strong>å‹åˆ¥è¨­è¨ˆ</strong>:</p> </li> <li>ææ—©è€ƒæ…® Sendable éœ€æ±‚</li> <li>é‚Šç•Œå±¤å‹åˆ¥è½‰æ›ç­–ç•¥</li> <li> <p>Protocol è¨­è¨ˆè€ƒæ…®ä¸¦ç™¼</p> </li> <li> <p><strong>æ¸¬è©¦è¦†è“‹</strong>:</p> </li> <li>ä¸¦ç™¼å ´æ™¯çš„æ¸¬è©¦</li> <li>Actor boundary æ¸¬è©¦</li> <li>å‹åˆ¥å®‰å…¨æ¸¬è©¦</li> </ol> <hr> <p><strong>çµ±æ•´å®Œæˆæ™‚é–“</strong>: 2025-12-05 00:30<br> <strong>ä¸‹æ¬¡çµ±æ•´</strong>: 2025-12-05 (ä»Šå¤©)</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.e71a0d61.min.js></script> </body> </html>